(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function jb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},Dl={};var Y0;function zb(){if(Y0)return Dl;Y0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var Q0;function Bb(){return Q0||(Q0=1,Vd.exports=zb()),Vd.exports}var A=Bb(),kd={exports:{}},Oe={};var K0;function qb(){if(K0)return Oe;K0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,te={};function _e(O,K,ae){this.props=O,this.context=K,this.refs=te,this.updater=ae||ne}_e.prototype.isReactComponent={},_e.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},_e.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ne(){}Ne.prototype=_e.prototype;function pe(O,K,ae){this.props=O,this.context=K,this.refs=te,this.updater=ae||ne}var lt=pe.prototype=new Ne;lt.constructor=pe,re(lt,_e.prototype),lt.isPureReactComponent=!0;var gt=Array.isArray;function ze(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(O,K,ae){var ee=ae.ref;return{$$typeof:s,type:O,key:K,ref:ee!==void 0?ee:null,props:ae}}function V(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return K[ae]})}var C=/\/+/g;function ut(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function Rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ze,ze):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,ae,ee,Ee){var Ve=typeof O;(Ve==="undefined"||Ve==="boolean")&&(O=null);var Ge=!1;if(O===null)Ge=!0;else switch(Ve){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(O.$$typeof){case s:case e:Ge=!0;break;case E:return Ge=O._init,F(Ge(O._payload),K,ae,ee,Ee)}}if(Ge)return Ee=Ee(O),Ge=ee===""?"."+ut(O,0):ee,gt(Ee)?(ae="",Ge!=null&&(ae=Ge.replace(C,"$&/")+"/"),F(Ee,K,ae,"",function(es){return es})):Ee!=null&&(N(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(C,"$&/")+"/")+Ge)),K.push(Ee)),1;Ge=0;var Mt=ee===""?".":ee+":";if(gt(O))for(var bt=0;bt<O.length;bt++)ee=O[bt],Ve=Mt+ut(ee,bt),Ge+=F(ee,K,ae,Ve,Ee);else if(bt=G(O),typeof bt=="function")for(O=bt.call(O),bt=0;!(ee=O.next()).done;)ee=ee.value,Ve=Mt+ut(ee,bt++),Ge+=F(ee,K,ae,Ve,Ee);else if(Ve==="object"){if(typeof O.then=="function")return F(Rt(O),K,ae,ee,Ee);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function se(O,K,ae){if(O==null)return O;var ee=[],Ee=0;return F(O,ee,"","",function(Ve){return K.call(ae,Ve,Ee++)}),ee}function fe(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var He=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xe={map:se,forEach:function(O,K,ae){se(O,function(){K.apply(this,arguments)},ae)},count:function(O){var K=0;return se(O,function(){K++}),K},toArray:function(O){return se(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Oe.Activity=w,Oe.Children=Xe,Oe.Component=_e,Oe.Fragment=i,Oe.Profiler=l,Oe.PureComponent=pe,Oe.StrictMode=a,Oe.Suspense=_,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(O,K,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=re({},O.props),Ee=O.key;if(K!=null)for(Ve in K.key!==void 0&&(Ee=""+K.key),K)!S.call(K,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&K.ref===void 0||(ee[Ve]=K[Ve]);var Ve=arguments.length-2;if(Ve===1)ee.children=ae;else if(1<Ve){for(var Ge=Array(Ve),Mt=0;Mt<Ve;Mt++)Ge[Mt]=arguments[Mt+2];ee.children=Ge}return x(O.type,Ee,ee)},Oe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Oe.createElement=function(O,K,ae){var ee,Ee={},Ve=null;if(K!=null)for(ee in K.key!==void 0&&(Ve=""+K.key),K)S.call(K,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Ee[ee]=K[ee]);var Ge=arguments.length-2;if(Ge===1)Ee.children=ae;else if(1<Ge){for(var Mt=Array(Ge),bt=0;bt<Ge;bt++)Mt[bt]=arguments[bt+2];Ee.children=Mt}if(O&&O.defaultProps)for(ee in Ge=O.defaultProps,Ge)Ee[ee]===void 0&&(Ee[ee]=Ge[ee]);return x(O,Ve,Ee)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:p,render:O}},Oe.isValidElement=N,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:fe}},Oe.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Oe.startTransition=function(O){var K=I.T,ae={};I.T=ae;try{var ee=O(),Ee=I.S;Ee!==null&&Ee(ae,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ze,He)}catch(Ve){He(Ve)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),I.T=K}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(O){return I.H.use(O)},Oe.useActionState=function(O,K,ae){return I.H.useActionState(O,K,ae)},Oe.useCallback=function(O,K){return I.H.useCallback(O,K)},Oe.useContext=function(O){return I.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Oe.useEffect=function(O,K){return I.H.useEffect(O,K)},Oe.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(O,K,ae){return I.H.useImperativeHandle(O,K,ae)},Oe.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Oe.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Oe.useMemo=function(O,K){return I.H.useMemo(O,K)},Oe.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Oe.useReducer=function(O,K,ae){return I.H.useReducer(O,K,ae)},Oe.useRef=function(O){return I.H.useRef(O)},Oe.useState=function(O){return I.H.useState(O)},Oe.useSyncExternalStore=function(O,K,ae){return I.H.useSyncExternalStore(O,K,ae)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.0",Oe}var $0;function km(){return $0||($0=1,kd.exports=qb()),kd.exports}var et=km();const Hb=jb(et);var Ud={exports:{}},Ol={},Ld={exports:{}},Pd={};var X0;function Gb(){return X0||(X0=1,(function(s){function e(F,se){var fe=F.length;F.push(se);e:for(;0<fe;){var He=fe-1>>>1,Xe=F[He];if(0<l(Xe,se))F[He]=se,F[fe]=Xe,fe=He;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],fe=F.pop();if(fe!==se){F[0]=fe;e:for(var He=0,Xe=F.length,O=Xe>>>1;He<O;){var K=2*(He+1)-1,ae=F[K],ee=K+1,Ee=F[ee];if(0>l(ae,fe))ee<Xe&&0>l(Ee,ae)?(F[He]=Ee,F[ee]=fe,He=ee):(F[He]=ae,F[K]=fe,He=K);else if(ee<Xe&&0>l(Ee,fe))F[He]=Ee,F[ee]=fe,He=ee;else break e}}return se}function l(F,se){var fe=F.sortIndex-se.sortIndex;return fe!==0?fe:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,w=null,M=3,G=!1,ne=!1,re=!1,te=!1,_e=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function lt(F){for(var se=i(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=F)a(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=i(y)}}function gt(F){if(re=!1,lt(F),!ne)if(i(_)!==null)ne=!0,ze||(ze=!0,U());else{var se=i(y);se!==null&&Rt(gt,se.startTime-F)}}var ze=!1,I=-1,S=5,x=-1;function V(){return te?!0:!(s.unstable_now()-x<S)}function N(){if(te=!1,ze){var F=s.unstable_now();x=F;var se=!0;try{e:{ne=!1,re&&(re=!1,Ne(I),I=-1),G=!0;var fe=M;try{t:{for(lt(F),w=i(_);w!==null&&!(w.expirationTime>F&&V());){var He=w.callback;if(typeof He=="function"){w.callback=null,M=w.priorityLevel;var Xe=He(w.expirationTime<=F);if(F=s.unstable_now(),typeof Xe=="function"){w.callback=Xe,lt(F),se=!0;break t}w===i(_)&&a(_),lt(F)}else a(_);w=i(_)}if(w!==null)se=!0;else{var O=i(y);O!==null&&Rt(gt,O.startTime-F),se=!1}}break e}finally{w=null,M=fe,G=!1}se=void 0}}finally{se?U():ze=!1}}}var U;if(typeof pe=="function")U=function(){pe(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ut=C.port2;C.port1.onmessage=N,U=function(){ut.postMessage(null)}}else U=function(){_e(N,0)};function Rt(F,se){I=_e(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var fe=M;M=se;try{return F()}finally{M=fe}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=M;M=F;try{return se()}finally{M=fe}},s.unstable_scheduleCallback=function(F,se,fe){var He=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?He+fe:He):fe=He,F){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=fe+Xe,F={id:E++,callback:se,priorityLevel:F,startTime:fe,expirationTime:Xe,sortIndex:-1},fe>He?(F.sortIndex=fe,e(y,F),i(_)===null&&F===i(y)&&(re?(Ne(I),I=-1):re=!0,Rt(gt,fe-He))):(F.sortIndex=Xe,e(_,F),ne||G||(ne=!0,ze||(ze=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var se=M;return function(){var fe=M;M=se;try{return F.apply(this,arguments)}finally{M=fe}}}})(Pd)),Pd}var Z0;function Fb(){return Z0||(Z0=1,Ld.exports=Gb()),Ld.exports}var jd={exports:{}},_n={};var J0;function Yb(){if(J0)return _n;J0=1;var s=km();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},_n.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},_n.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},_n.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},_n.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},_n.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},_n.requestFormReset=function(_){a.d.r(_)},_n.unstable_batchedUpdates=function(_,y){return _(y)},_n.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var W0;function Qb(){if(W0)return jd.exports;W0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=Yb(),jd.exports}var e_;function Kb(){if(e_)return Ol;e_=1;var s=Fb(),e=km(),i=Qb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case _e:return"Profiler";case te:return"StrictMode";case gt:return"Suspense";case ze:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case pe:return t.displayName||"Context";case Ne:return(t._context.displayName||"Context")+".Consumer";case lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var Rt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},He=[],Xe=-1;function O(t){return{current:t}}function K(t){0>Xe||(t.current=He[Xe],He[Xe]=null,Xe--)}function ae(t,n){Xe++,He[Xe]=t.current,t.current=n}var ee=O(null),Ee=O(null),Ve=O(null),Ge=O(null);function Mt(t,n){switch(ae(Ve,n),ae(Ee,t),ae(ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?g0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=g0(n),t=p0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ee),ae(ee,t)}function bt(){K(ee),K(Ee),K(Ve)}function es(t){t.memoizedState!==null&&ae(Ge,t);var n=ee.current,r=p0(n,t.type);n!==r&&(ae(Ee,t),ae(ee,r))}function ci(t){Ee.current===t&&(K(ee),K(Ee)),Ge.current===t&&(K(Ge),Cl._currentValue=fe)}var hi,Ls;function Cn(t){if(hi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",Ls=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+t+Ls}var kr=!1;function wi(t,n){if(!t||kr)return"";kr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var z=q}Reflect.construct(t,[],$)}else{try{$.call()}catch(q){z=q}t.call($.prototype)}}else{try{throw Error()}catch(q){z=q}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),j=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var Y=`
`+R[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{kr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Cn(r):""}function Ur(t,n){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return t.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return wi(t.type,!1);case 11:return wi(t.type.render,!1);case 1:return wi(t.type,!0);case 31:return Cn("Activity");default:return""}}function ts(t){try{var n="",r=null;do n+=Ur(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Vt=Object.prototype.hasOwnProperty,tt=s.unstable_scheduleCallback,Ln=s.unstable_cancelCallback,ns=s.unstable_shouldYield,H=s.unstable_requestPaint,Z=s.unstable_now,W=s.unstable_getCurrentPriorityLevel,oe=s.unstable_ImmediatePriority,Te=s.unstable_UserBlockingPriority,Pe=s.unstable_NormalPriority,ue=s.unstable_LowPriority,Ze=s.unstable_IdlePriority,de=s.log,Ie=s.unstable_setDisableYieldValue,Se=null,ke=null;function xe(t){if(typeof de=="function"&&Ie(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Se,t)}catch{}}var nt=Math.clz32?Math.clz32:Gt,is=Math.log,xi=Math.LN2;function Gt(t){return t>>>=0,t===0?32:31-(is(t)/xi|0)|0}var It=256,Kn=262144,le=4194304;function ve(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ce(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ve(o):(g&=T,g!==0?h=ve(g):r||(r=T&~t,r!==0&&(h=ve(r))))):(T=o&~f,T!==0?h=ve(T):g!==0?h=ve(g):r||(r=o&~t,r!==0&&(h=ve(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function rt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ss(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(){var t=le;return le<<=1,(le&62914560)===0&&(le=4194304),t}function $n(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rs(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var Y=31-nt(r),$=1<<Y;T[Y]=0,R[Y]=-1;var z=j[Y];if(z!==null)for(j[Y]=null,Y=0;Y<z.length;Y++){var q=z[Y];q!==null&&(q.lane&=-536870913)}r&=~$}o!==0&&as(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function as(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-nt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Oo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-nt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Mo(t,n){var r=n&-n;return r=(r&42)!==0?1:Pr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function os(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:j0(t.type))}function fi(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var di=Math.random().toString(36).slice(2),Ft="__reactFiber$"+di,an="__reactProps$"+di,Ci="__reactContainer$"+di,va="__reactEvents$"+di,jh="__reactListeners$"+di,mu="__reactHandles$"+di,gu="__reactResources$"+di,Ri="__reactMarker$"+di;function Ea(t){delete t[Ft],delete t[an],delete t[va],delete t[jh],delete t[mu]}function Ii(t){var n=t[Ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ci]||r[Ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=A0(t);t!==null;){if(r=t[Ft])return r;t=A0(t)}return n}t=r,r=t.parentNode}return null}function Xn(t){if(t=t[Ft]||t[Ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[gu];return n||(n=t[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Yt(t){t[Ri]=!0}var Vo=new Set,ko={};function Di(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(ko[t]=n,t=0;t<n.length;t++)Vo.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Po={};function pu(t){return Vt.call(Po,t)?!0:Vt.call(Lo,t)?!1:Uo.test(t)?Po[t]=!0:(Lo[t]=!0,!1)}function Ta(t,n,r){if(pu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Qt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=Ps(t)?"checked":"value";t._valueTracker=jo(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ps(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zr=/[\n"\\]/g;function Rn(t){return t.replace(zr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+on(n)):t.value!==""+on(n)&&(t.value=""+on(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?zo(t,g,on(n)):r!=null?zo(t,g,on(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function yu(t,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ht(t);return}r=r!=null?""+on(r):"",n=n!=null?""+on(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ht(t)}function zo(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function js(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+on(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+on(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+on(r):""}function zs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Rt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=on(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ht(t)}function In(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Bo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Bs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mi(){}var Ho=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,Vi=null;function Br(t){var n=Xn(t);if(n&&(t=n.stateNode)){var r=t[an]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[an]||null;if(!h)throw Error(a(90));ba(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&jr(o)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&js(t,!!r.multiple,n,!1)}}}var wa=!1;function Hs(t,n,r){if(wa)return t(n,r);wa=!0;try{var o=t(n);return o}finally{if(wa=!1,(qs!==null||Vi!==null)&&(dc(),qs&&(n=qs,t=Vi,Vi=qs=null,Br(n),t)))for(n=0;n<t.length;n++)Br(t[n])}}function gi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[an]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Jn)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){qr=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{qr=!1}var ki=null,Go=null,Hr=null;function Fo(){if(Hr)return Hr;var t,n=Go,r=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Hr=h.slice(t,1<o?1-o:void 0)}function Gr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ls(){return!0}function pi(){return!1}function cn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:pi,this.isPropagationStopped=pi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),n}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=cn(us),Gs=w({},us,{view:0,detail:0}),Yo=cn(Gs),Fs,xa,Li,Ca=w({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Fs=t.screenX-Li.screenX,xa=t.screenY-Li.screenY):xa=Fs=0,Li=t),Fs)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Qo=cn(Ca),Fr=w({},Ca,{dataTransfer:0}),Tu=cn(Fr),bu=w({},Gs,{relatedTarget:0}),Yr=cn(bu),Ko=w({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=cn(Ko),Ra=w({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=cn(Ra),wu=w({},us,{data:0}),Pi=cn(wu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Ys(){return Iu}var An=w({},Gs,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=cn(An),Du=w({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=cn(Du),u=w({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),m=cn(u),v=w({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=cn(v),L=w({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=cn(L),ie=w({},us,{newState:0,oldState:0}),Ue=cn(ie),jt=[9,13,27,32],at=Jn&&"CompositionEvent"in window,xt=null;Jn&&"documentMode"in document&&(xt=document.documentMode);var Wn=Jn&&"TextEvent"in window&&!xt,ji=Jn&&(!at||xt&&8<xt&&11>=xt),yi=" ",_i=!1;function Qr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function uT(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(_i=!0,yi);case"textInput":return t=n.data,t===yi&&_i?null:t;default:return null}}function cT(t,n){if(Na)return t==="compositionend"||!at&&Qr(t,n)?(t=Fo(),Hr=Go=ki=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hT[t.type]:n==="textarea"}function Cg(t,n,r,o){qs?Vi?Vi.push(o):Vi=[o]:qs=o,n=Ec(n,"onChange"),0<n.length&&(r=new Ui("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var $o=null,Xo=null;function fT(t){u0(t,0)}function Ou(t){var n=Pn(t);if(jr(n))return t}function Rg(t,n){if(t==="change")return n}var Ig=!1;if(Jn){var zh;if(Jn){var Bh="oninput"in document;if(!Bh){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Bh=typeof Ng.oninput=="function"}zh=Bh}else zh=!1;Ig=zh&&(!document.documentMode||9<document.documentMode)}function Dg(){$o&&($o.detachEvent("onpropertychange",Og),Xo=$o=null)}function Og(t){if(t.propertyName==="value"&&Ou(Xo)){var n=[];Cg(n,Xo,t,Zn(t)),Hs(fT,n)}}function dT(t,n,r){t==="focusin"?(Dg(),$o=n,Xo=r,$o.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function mT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Xo)}function gT(t,n){if(t==="click")return Ou(n)}function pT(t,n){if(t==="input"||t==="change")return Ou(n)}function yT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zn=typeof Object.is=="function"?Object.is:yT;function Zo(t,n){if(zn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Vt.call(n,h)||!zn(t[h],n[h]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,n){var r=Mg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mg(r)}}function kg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _T=Jn&&"documentMode"in document&&11>=document.documentMode,Da=null,Hh=null,Jo=null,Gh=!1;function Lg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Da==null||Da!==Mi(o)||(o=Da,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=Ec(Hh,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Da)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Fh={},Pg={};Jn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function $r(t){if(Fh[t])return Fh[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pg)return Fh[t]=n[r];return t}var jg=$r("animationend"),zg=$r("animationiteration"),Bg=$r("animationstart"),vT=$r("transitionrun"),ET=$r("transitionstart"),TT=$r("transitioncancel"),qg=$r("transitionend"),Hg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function vi(t,n){Hg.set(t,n),Di(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],Ma=0,Qh=0;function Vu(){for(var t=Ma,n=Qh=Ma=0;n<t;){var r=ei[n];ei[n++]=null;var o=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Gg(r,h,f)}}function ku(t,n,r,o){ei[Ma++]=t,ei[Ma++]=n,ei[Ma++]=r,ei[Ma++]=o,Qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Kh(t,n,r,o){return ku(t,n,r,o),Uu(t)}function Xr(t,n){return ku(t,null,null,n),Uu(t)}function Gg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-nt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Uu(t){if(50<El)throw El=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function bT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,r,o){return new bT(t,n,r,o)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hs(t,n){var r=t.alternate;return r===null?(r=Bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")$h(t)&&(g=1);else if(typeof t=="string")g=Cb(t,r,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Bn(31,r,n,h),t.elementType=x,t.lanes=f,t;case re:return Zr(r.children,h,f,n);case te:g=8,h|=24;break;case _e:return t=Bn(12,r,n,h|2),t.elementType=_e,t.lanes=f,t;case gt:return t=Bn(13,r,n,h),t.elementType=gt,t.lanes=f,t;case ze:return t=Bn(19,r,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case Ne:g=9;break e;case lt:g=11;break e;case I:g=14;break e;case S:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Bn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Zr(t,n,r,o){return t=Bn(7,t,o,n),t.lanes=r,t}function Xh(t,n,r){return t=Bn(6,t,null,n),t.lanes=r,t}function Yg(t){var n=Bn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qg=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var r=Qg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ts(n)},Qg.set(t,n),n)}return{value:t,source:n,stack:ts(n)}}var ka=[],Ua=0,Pu=null,Wo=0,ni=[],ii=0,Qs=null,zi=1,Bi="";function fs(t,n){ka[Ua++]=Wo,ka[Ua++]=Pu,Pu=t,Wo=n}function Kg(t,n,r){ni[ii++]=zi,ni[ii++]=Bi,ni[ii++]=Qs,Qs=t;var o=zi;t=Bi;var h=32-nt(o)-1;o&=~(1<<h),r+=1;var f=32-nt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,zi=1<<32-nt(n)+h|r<<h|o,Bi=f+t}else zi=1<<f|r<<h|o,Bi=t}function Jh(t){t.return!==null&&(fs(t,1),Kg(t,1,0))}function Wh(t){for(;t===Pu;)Pu=ka[--Ua],ka[Ua]=null,Wo=ka[--Ua],ka[Ua]=null;for(;t===Qs;)Qs=ni[--ii],ni[ii]=null,Bi=ni[--ii],ni[ii]=null,zi=ni[--ii],ni[ii]=null}function $g(t,n){ni[ii++]=zi,ni[ii++]=Bi,ni[ii++]=Qs,zi=n.id,Bi=n.overflow,Qs=t}var hn=null,At=null,Je=!1,Ks=null,si=!1,ef=Error(a(519));function $s(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(ti(n,t)),ef}function Xg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ft]=t,n[an]=o,r){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(r=0;r<bl.length;r++)qe(bl[r],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),yu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),zs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||d0(n.textContent,r)?(o.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),o.onScroll!=null&&qe("scroll",n),o.onScrollEnd!=null&&qe("scrollend",n),o.onClick!=null&&(n.onclick=mi),n=!0):n=!1,n||$s(t,!0)}function Zg(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:hn=hn.return}}function La(t){if(t!==hn)return!1;if(!Je)return Zg(t),Je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&At&&$s(t),Zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));At=b0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));At=b0(t)}else n===27?(n=At,ur(t.type)?(t=Sd,Sd=null,At=t):At=n):At=hn?ai(t.stateNode.nextSibling):null;return!0}function Jr(){At=hn=null,Je=!1}function tf(){var t=Ks;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),Ks=null),t}function el(t){Ks===null?Ks=[t]:Ks.push(t)}var nf=O(null),Wr=null,ds=null;function Xs(t,n,r){ae(nf,n._currentValue),n._currentValue=r}function ms(t){t._currentValue=nf.current,K(nf)}function sf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),sf(f.return,r,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),sf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;zn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ge.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&rf(n,t,r,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){Wr=t,ds=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return Jg(Wr,t)}function zu(t,n){return Wr===null&&ea(t),Jg(t,n)}function Jg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ds===null){if(t===null)throw Error(a(308));ds=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ds=ds.next=n;return r}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ST=s.unstable_scheduleCallback,wT=s.unstable_NormalPriority,Kt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new AT,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&ST(wT,function(){t.controller.abort()})}var nl=null,of=0,ja=0,za=null;function xT(t,n){if(nl===null){var r=nl=[];of=0,ja=cd(),za={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Wg,Wg),n}function Wg(){if(--of===0&&nl!==null){za!==null&&(za.status="fulfilled");var t=nl;nl=null,ja=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var ep=F.S;F.S=function(t,n){Ly=Z(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&xT(t,n),ep!==null&&ep(t,n)};var ta=O(null);function lf(){var t=ta.current;return t!==null?t:Tt.pooledCache}function Bu(t,n){n===null?ae(ta,ta.current):ae(ta,n.pool)}function tp(){var t=lf();return t===null?null:{parent:Kt._currentValue,pool:t}}var Ba=Error(a(460)),uf=Error(a(474)),qu=Error(a(542)),Hu={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ip(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(mi,mi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t;default:if(typeof n.status=="string")n.then(mi,mi);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t}throw ia=n,Ba}}function na(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ia=r,Ba):r}}var ia=null;function sp(){if(ia===null)throw Error(a(459));var t=ia;return ia=null,t}function rp(t){if(t===Ba||t===qu)throw Error(a(483))}var qa=null,il=0;function Gu(t){var n=il;return il+=1,qa===null&&(qa=[]),ip(qa,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ap(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=hs(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Q){return D===null||D.tag!==6?(D=Xh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,Q){var ye=P.type;return ye===re?Y(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&na(ye)===D.type)?(D=h(D,P.props),sl(D,P),D.return=k,D):(D=Lu(P.type,P.key,P.props,null,k.mode,Q),sl(D,P),D.return=k,D)}function j(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Y(k,D,P,Q,ye){return D===null||D.tag!==7?(D=Zr(P,k.mode,Q,ye),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Lu(D.type,D.key,D.props,null,k.mode,P),sl(P,D),P.return=k,P;case ne:return D=Zh(D,k.mode,P),D.return=k,D;case S:return D=na(D),$(k,D,P)}if(Rt(D)||U(D))return D=Zr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Gu(D),P);if(D.$$typeof===pe)return $(k,zu(k,D),P);Fu(k,D)}return null}function z(k,D,P,Q){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:T(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ye?R(k,D,P,Q):null;case ne:return P.key===ye?j(k,D,P,Q):null;case S:return P=na(P),z(k,D,P,Q)}if(Rt(P)||U(P))return ye!==null?null:Y(k,D,P,Q,null);if(typeof P.then=="function")return z(k,D,Gu(P),Q);if(P.$$typeof===pe)return z(k,D,zu(k,P),Q);Fu(k,P)}return null}function q(k,D,P,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(D,k,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return k=k.get(Q.key===null?P:Q.key)||null,R(D,k,Q,ye);case ne:return k=k.get(Q.key===null?P:Q.key)||null,j(D,k,Q,ye);case S:return Q=na(Q),q(k,D,P,Q,ye)}if(Rt(Q)||U(Q))return k=k.get(P)||null,Y(D,k,Q,ye,null);if(typeof Q.then=="function")return q(k,D,P,Gu(Q),ye);if(Q.$$typeof===pe)return q(k,D,P,zu(D,Q),ye);Fu(D,Q)}return null}function he(k,D,P,Q){for(var ye=null,it=null,me=D,je=D=0,Ye=null;me!==null&&je<P.length;je++){me.index>je?(Ye=me,me=null):Ye=me.sibling;var st=z(k,me,P[je],Q);if(st===null){me===null&&(me=Ye);break}t&&me&&st.alternate===null&&n(k,me),D=f(st,D,je),it===null?ye=st:it.sibling=st,it=st,me=Ye}if(je===P.length)return r(k,me),Je&&fs(k,je),ye;if(me===null){for(;je<P.length;je++)me=$(k,P[je],Q),me!==null&&(D=f(me,D,je),it===null?ye=me:it.sibling=me,it=me);return Je&&fs(k,je),ye}for(me=o(me);je<P.length;je++)Ye=q(me,k,je,P[je],Q),Ye!==null&&(t&&Ye.alternate!==null&&me.delete(Ye.key===null?je:Ye.key),D=f(Ye,D,je),it===null?ye=Ye:it.sibling=Ye,it=Ye);return t&&me.forEach(function(mr){return n(k,mr)}),Je&&fs(k,je),ye}function Ae(k,D,P,Q){if(P==null)throw Error(a(151));for(var ye=null,it=null,me=D,je=D=0,Ye=null,st=P.next();me!==null&&!st.done;je++,st=P.next()){me.index>je?(Ye=me,me=null):Ye=me.sibling;var mr=z(k,me,st.value,Q);if(mr===null){me===null&&(me=Ye);break}t&&me&&mr.alternate===null&&n(k,me),D=f(mr,D,je),it===null?ye=mr:it.sibling=mr,it=mr,me=Ye}if(st.done)return r(k,me),Je&&fs(k,je),ye;if(me===null){for(;!st.done;je++,st=P.next())st=$(k,st.value,Q),st!==null&&(D=f(st,D,je),it===null?ye=st:it.sibling=st,it=st);return Je&&fs(k,je),ye}for(me=o(me);!st.done;je++,st=P.next())st=q(me,k,je,st.value,Q),st!==null&&(t&&st.alternate!==null&&me.delete(st.key===null?je:st.key),D=f(st,D,je),it===null?ye=st:it.sibling=st,it=st);return t&&me.forEach(function(Pb){return n(k,Pb)}),Je&&fs(k,je),ye}function vt(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===re){if(D.tag===7){r(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&na(ye)===D.type){r(k,D.sibling),Q=h(D,P.props),sl(Q,P),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}P.type===re?(Q=Zr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Lu(P.type,P.key,P.props,null,k.mode,Q),sl(Q,P),Q.return=k,k=Q)}return g(k);case ne:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=Zh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case S:return P=na(P),vt(k,D,P,Q)}if(Rt(P))return he(k,D,P,Q);if(U(P)){if(ye=U(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),Ae(k,D,P,Q)}if(typeof P.then=="function")return vt(k,D,Gu(P),Q);if(P.$$typeof===pe)return vt(k,D,zu(k,P),Q);Fu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(r(k,D),Q=Xh(P,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,D)}return function(k,D,P,Q){try{il=0;var ye=vt(k,D,P,Q);return qa=null,ye}catch(me){if(me===Ba||me===qu)throw me;var it=Bn(29,me,null,k.mode);return it.lanes=Q,it.return=k,it}finally{}}}var sa=ap(!0),op=ap(!1),Zs=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Uu(t),Gg(t,null,r),n}return ku(t,o,n,r),Uu(t)}function rl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Oo(t,r)}}function ff(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function al(){if(df){var t=za;if(t!==null)throw t}}function ol(t,n,r,o){df=!1;var h=t.updateQueue;Zs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,j=R.next;R.next=null,g===null?f=j:g.next=j,g=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=j:T.next=j,Y.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,Y=j=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Fe&z)===z:(o&z)===z){z!==0&&z===ja&&(df=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Ae=T;z=n;var vt=r;switch(Ae.tag){case 1:if(he=Ae.payload,typeof he=="function"){$=he.call(vt,$,z);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ae.payload,z=typeof he=="function"?he.call(vt,$,z):he,z==null)break e;$=w({},$,z);break e;case 2:Zs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(j=Y=q,R=$):Y=Y.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(R=$),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),sr|=g,t.lanes=g,t.memoizedState=$}}function lp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function up(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)lp(r[t],n)}var Ha=O(null),Yu=O(0);function cp(t,n){t=As,ae(Yu,t),ae(Ha,n),As=t|n.baseLanes}function mf(){ae(Yu,As),ae(Ha,Ha.current)}function gf(){As=Yu.current,K(Ha),K(Yu)}var qn=O(null),ri=null;function er(t){var n=t.alternate;ae(zt,zt.current&1),ae(qn,t),ri===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ri=t)}function pf(t){ae(zt,zt.current),ae(qn,t),ri===null&&(ri=t)}function hp(t){t.tag===22?(ae(zt,zt.current),ae(qn,t),ri===null&&(ri=t)):tr()}function tr(){ae(zt,zt.current),ae(qn,qn.current)}function Hn(t){K(qn),ri===t&&(ri=null),K(zt)}var zt=O(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gs=0,Le=null,yt=null,$t=null,Ku=!1,Ga=!1,ra=!1,$u=0,ll=0,Fa=null,RT=0;function kt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!zn(t[r],n[r]))return!1;return!0}function _f(t,n,r,o,h,f){return gs=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Kp:Mf,ra=!1,f=r(o,h),ra=!1,Ga&&(f=dp(n,r,o,h)),fp(t),f}function fp(t){F.H=hl;var n=yt!==null&&yt.next!==null;if(gs=0,$t=yt=Le=null,Ku=!1,ll=0,Fa=null,n)throw Error(a(300));t===null||Xt||(t=t.dependencies,t!==null&&ju(t)&&(Xt=!0))}function dp(t,n,r,o){Le=t;var h=0;do{if(Ga&&(Fa=null),ll=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,$t=yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=$p,f=n(r,o)}while(Ga);return f}function IT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Le.flags|=1024),n}function vf(){var t=$u!==0;return $u=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(Ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ku=!1}gs=0,$t=yt=Le=null,Ga=!1,ll=$u=0,Fa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Le.memoizedState=$t=t:$t=$t.next=t,$t}function Bt(){if(yt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=$t===null?Le.memoizedState:$t.next;if(n!==null)$t=n,yt=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},$t===null?Le.memoizedState=$t=t:$t=$t.next=t}return $t}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Fa===null&&(Fa=[]),t=ip(Fa,t,n),n=Le,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Kp:Mf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===pe)return fn(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=Le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Le.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ps(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=Bt();return Af(n,yt,t)}function Af(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,R=null,j=n,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Fe&$)===$:(gs&$)===$){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===ja&&(Y=!0);else if((gs&z)===z){j=j.next,z===ja&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=$,g=f):R=R.next=$,Le.lanes|=z,sr|=z;$=j.action,ra&&r(f,$),f=j.hasEagerState?j.eagerState:r(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,Le.lanes|=$,sr|=$;j=j.next}while(j!==null&&j!==n);if(R===null?g=f:R.next=T,!zn(f,t.memoizedState)&&(Xt=!0,Y&&(r=za,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=Bt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);zn(f,n.memoizedState)||(Xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function mp(t,n,r){var o=Le,h=Bt(),f=Je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!zn((yt||h).memoizedState,r);if(g&&(h.memoizedState=r,Xt=!0),h=h.queue,Cf(yp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,Ya(9,{destroy:void 0},pp.bind(null,o,h,r,n),null),Tt===null)throw Error(a(349));f||(gs&127)!==0||gp(o,n,r)}return r}function gp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Le.updateQueue,n===null?(n=Xu(),Le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pp(t,n,r,o){n.value=r,n.getSnapshot=o,_p(n)&&vp(t)}function yp(t,n,r){return r(function(){_p(n)&&vp(t)})}function _p(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!zn(t,r)}catch{return!0}}function vp(t){var n=Xr(t,2);n!==null&&Vn(n,t,2)}function wf(t){var n=Sn();if(typeof t=="function"){var r=t;if(t=r(),ra){xe(!0);try{r()}finally{xe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n}function Ep(t,n,r,o){return t.baseState=r,Af(t,yt,typeof o=="function"?o:ps)}function NT(t,n,r,o,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Tp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Tp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=r(h,o),R=F.S;R!==null&&R(g,T),bp(t,n,T)}catch(j){xf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),bp(t,n,f)}catch(j){xf(t,n,j)}}function bp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ap(t,n,o)},function(o){return xf(t,n,o)}):Ap(t,n,r)}function Ap(t,n,r){n.status="fulfilled",n.value=r,Sp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tp(t,r)))}function xf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Sp(n),n=n.next;while(n!==o)}t.action=null}function Sp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wp(t,n){return n}function xp(t,n){if(Je){var r=Tt.formState;if(r!==null){e:{var o=Le;if(Je){if(At){t:{for(var h=At,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){At=ai(h.nextSibling),o=h.data==="F!";break e}}$s(o)}o=!1}o&&(n=r[0])}}return r=Sn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:n},r.queue=o,r=Fp.bind(null,Le,o),o.dispatch=r,o=wf(!1),f=Of.bind(null,Le,!1,o.queue),o=Sn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=NT.bind(null,Le,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Cp(t){var n=Bt();return Rp(n,yt,t)}function Rp(t,n,r){if(n=Af(t,n,wp)[0],t=Ju(ps)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(g){throw g===Ba?qu:g}else o=n;n=Bt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Le.flags|=2048,Ya(9,{destroy:void 0},DT.bind(null,h,r),null)),[o,f,t]}function DT(t,n){t.action=n}function Ip(t){var n=Bt(),r=yt;if(r!==null)return Rp(n,r,t);Bt(),n=n.memoizedState,r=Bt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ya(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Xu(),Le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Np(){return Bt().memoizedState}function Wu(t,n,r,o){var h=Sn();Le.flags|=t,h.memoizedState=Ya(1|n,{destroy:void 0},r,o===void 0?null:o)}function ec(t,n,r,o){var h=Bt();o=o===void 0?null:o;var f=h.memoizedState.inst;yt!==null&&o!==null&&yf(o,yt.memoizedState.deps)?h.memoizedState=Ya(n,f,r,o):(Le.flags|=t,h.memoizedState=Ya(1|n,f,r,o))}function Dp(t,n){Wu(8390656,8,t,n)}function Cf(t,n){ec(2048,8,t,n)}function OT(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Xu(),Le.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Op(t){var n=Bt().memoizedState;return OT({ref:n,nextImpl:t}),function(){if((ot&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mp(t,n){return ec(4,2,t,n)}function Vp(t,n){return ec(4,4,t,n)}function kp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Up(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,kp.bind(null,n,t),r)}function Rf(){}function Lp(t,n){var r=Bt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Pp(t,n){var r=Bt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),ra){xe(!0);try{t()}finally{xe(!1)}}return r.memoizedState=[o,n],o}function If(t,n,r){return r===void 0||(gs&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=jy(),Le.lanes|=t,sr|=t,r)}function jp(t,n,r,o){return zn(r,n)?r:Ha.current!==null?(t=If(t,r,o),zn(t,n)||(Xt=!0),t):(gs&42)===0||(gs&1073741824)!==0&&(Fe&261930)===0?(Xt=!0,t.memoizedState=r):(t=jy(),Le.lanes|=t,sr|=t,n)}function zp(t,n,r,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,Of(t,!1,n,r);try{var R=h(),j=F.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=CT(R,o);cl(t,n,Y,Yn(t))}else cl(t,n,o,Yn(t))}catch($){cl(t,n,{then:function(){},status:"rejected",reason:$},Yn())}finally{se.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function MT(){}function Nf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Bp(t).queue;zp(t,h,n,fe,r===null?MT:function(){return qp(t),r(o)})}function Bp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qp(t){var n=Bp(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},Yn())}function Df(){return fn(Cl)}function Hp(){return Bt().memoizedState}function Gp(){return Bt().memoizedState}function VT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Yn();t=Js(r);var o=Ws(n,t,r);o!==null&&(Vn(o,n,r),rl(o,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function kT(t,n,r){var o=Yn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Yp(n,r):(r=Kh(t,n,r,o),r!==null&&(Vn(r,t,o),Qp(r,n,o)))}function Fp(t,n,r){var o=Yn();cl(t,n,r,o)}function cl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Yp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,zn(T,g))return ku(t,n,h,0),Tt===null&&Vu(),!1}catch{}finally{}if(r=Kh(t,n,h,o),r!==null)return Vn(r,t,o),Qp(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=Kh(t,r,o,2),n!==null&&Vn(n,t,2)}function tc(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Yp(t,n){Ga=Ku=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Oo(t,r)}}var hl={readContext:fn,use:Zu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};hl.useEffectEvent=kt;var Kp={readContext:fn,use:Zu,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:Dp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,kp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=Sn();n=n===void 0?null:n;var o=t();if(ra){xe(!0);try{t()}finally{xe(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Sn();if(r!==void 0){var h=r(n);if(ra){xe(!0);try{r(n)}finally{xe(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=kT.bind(null,Le,t),[o.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Fp.bind(null,Le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Sn();return If(r,t,n)},useTransition:function(){var t=wf(!1);return t=zp.bind(null,Le,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Le,h=Sn();if(Je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Tt===null)throw Error(a(349));(Fe&127)!==0||gp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Dp(yp.bind(null,o,f,t),[t]),o.flags|=2048,Ya(9,{destroy:void 0},pp.bind(null,o,f,r,n),null),r},useId:function(){var t=Sn(),n=Tt.identifierPrefix;if(Je){var r=Bi,o=zi;r=(o&~(1<<32-nt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=$u++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=RT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:xp,useActionState:xp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Le,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return Sn().memoizedState=VT.bind(null,Le)},useEffectEvent:function(t){var n=Sn(),r={impl:t};return n.memoizedState=r,function(){if((ot&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:fn,use:Zu,useCallback:Lp,useContext:fn,useEffect:Cf,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:Ju,useRef:Np,useState:function(){return Ju(ps)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Bt();return jp(r,yt.memoizedState,t,n)},useTransition:function(){var t=Ju(ps)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Df,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var r=Bt();return Ep(r,yt,t,n)},useMemoCache:bf,useCacheRefresh:Gp};Mf.useEffectEvent=Op;var $p={readContext:fn,use:Zu,useCallback:Lp,useContext:fn,useEffect:Cf,useImperativeHandle:Up,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Pp,useReducer:Sf,useRef:Np,useState:function(){return Sf(ps)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Bt();return yt===null?If(r,t,n):jp(r,yt.memoizedState,t,n)},useTransition:function(){var t=Sf(ps)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Df,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var r=Bt();return yt!==null?Ep(r,yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Gp};$p.useEffectEvent=Op;function Vf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Yn(),h=Js(o);h.payload=n,r!=null&&(h.callback=r),n=Ws(t,h,o),n!==null&&(Vn(n,t,o),rl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Yn(),h=Js(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ws(t,h,o),n!==null&&(Vn(n,t,o),rl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Yn(),o=Js(r);o.tag=2,n!=null&&(o.callback=n),n=Ws(t,o,r),n!==null&&(Vn(n,t,r),rl(n,t,r))}};function Xp(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(r,o)||!Zo(h,f):!0}function Zp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function aa(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Jp(t){Mu(t)}function Wp(t){console.error(t)}function ey(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,r){return r=Js(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function ny(t){return t=Js(t),t.tag=3,t}function iy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ty(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ty(n,r,o),typeof h!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function UT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Pa(n,r,h,!0),r=qn.current,r!==null){switch(r.tag){case 31:case 13:return ri===null?mc():r.alternate===null&&Ut===0&&(Ut=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return r.flags|=65536,o===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(t,o,h)),!1}throw Error(a(435,r.tag))}return od(t,o,h),mc(),!1}if(Je)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(a(422),{cause:o}),el(ti(t,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),el(ti(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ti(o,r),h=Uf(t.stateNode,o,h),ff(t,h),Ut!==4&&(Ut=2)),!1;var f=Error(a(520),{cause:o});if(f=ti(f,r),vl===null?vl=[f]:vl.push(f),Ut!==4&&(Ut=2),n===null)return!0;o=ti(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Uf(r.stateNode,o,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ny(h),iy(h,t,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Xt=!1;function dn(t,n,r,o){n.child=t===null?op(n,null,r,o):sa(n,t.child,r,o)}function sy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return ea(n),o=_f(t,n,r,g,f,h),T=vf(),t!==null&&!Xt?(Ef(t,n,h),ys(t,n,h)):(Je&&T&&Jh(n),n.flags|=1,dn(t,n,o,h),n.child)}function ry(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ay(t,n,f,o,h)):(t=Lu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(g,o)&&t.ref===n.ref)return ys(t,n,h)}return n.flags|=1,t=hs(f,o),t.ref=n.ref,t.return=n,n.child=t}function ay(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(Xt=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(Xt=!0);else return n.lanes=t.lanes,ys(t,n,h)}return Pf(t,n,r,o,h)}function oy(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ly(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?cp(n,f):mf(),hp(n);else return o=n.lanes=536870912,ly(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Bu(n,f.cachePool),cp(n,f),tr(),n.memoizedState=null):(t!==null&&Bu(n,null),mf(),tr());return dn(t,n,h,r),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(t,n,r,o,h){var f=lf();return f=f===null?null:{parent:Kt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),mf(),hp(n),t!==null&&Pa(t,n,o,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function uy(t,n,r){return sa(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Hn(n),n.memoizedState=null,t}function LT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=ic(n,o),n.lanes=536870912,fl(null,t);if(pf(n),(t=At)?(t=T0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,hn=n,At=null)):t=null,t===null)throw $s(n);return n.lanes=536870912,null}return ic(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=uy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xt||Pa(t,n,r,!1),h=(r&t.childLanes)!==0,Xt||h){if(o=Tt,o!==null&&(g=Mo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),Vn(o,t,g),Lf;mc(),n=uy(t,n,r)}else t=f.treeContext,At=ai(g.nextSibling),hn=n,Je=!0,Ks=null,si=!1,t!==null&&$g(n,t),n=ic(n,o),n.flags|=4096;return n}return t=hs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,o,h){return ea(n),r=_f(t,n,r,o,void 0,h),o=vf(),t!==null&&!Xt?(Ef(t,n,h),ys(t,n,h)):(Je&&o&&Jh(n),n.flags|=1,dn(t,n,r,h),n.child)}function cy(t,n,r,o,h,f){return ea(n),n.updateQueue=null,r=dp(n,o,r,h),fp(t),o=vf(),t!==null&&!Xt?(Ef(t,n,f),ys(t,n,f)):(Je&&o&&Jh(n),n.flags|=1,dn(t,n,r,f),n.child)}function hy(t,n,r,o,h){if(ea(n),n.stateNode===null){var f=Va,g=r.contextType;typeof g=="object"&&g!==null&&(f=fn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?fn(g):Va,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&kf.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,R=aa(r,T);f.props=R;var j=f.context,Y=r.contextType;g=Va,typeof Y=="object"&&Y!==null&&(g=fn(Y));var $=r.getDerivedStateFromProps;Y=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Zp(n,f,o,g),Zs=!1;var z=n.memoizedState;f.state=z,ol(n,o,f,h),al(),j=n.memoizedState,T||z!==j||Zs?(typeof $=="function"&&(Vf(n,r,$,o),j=n.memoizedState),(R=Zs||Xp(n,r,R,o,z,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),g=n.memoizedProps,Y=aa(r,g),f.props=Y,$=n.pendingProps,z=f.context,j=r.contextType,R=Va,typeof j=="object"&&j!==null&&(R=fn(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||z!==R)&&Zp(n,f,o,R),Zs=!1,z=n.memoizedState,f.state=z,ol(n,o,f,h),al();var q=n.memoizedState;g!==$||z!==q||Zs||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,o),q=n.memoizedState),(Y=Zs||Xp(n,r,Y,o,z,q,R)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=Y):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=sa(n,t.child,null,h),n.child=sa(n,null,r,h)):dn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ys(t,n,h),t}function fy(t,n,r,o){return Jr(),n.flags|=256,dn(t,n,r,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:tp()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Fn),t}function dy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?er(n):tr(),(t=At)?(t=T0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Qs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,hn=n,At=null)):t=null,t===null)throw $s(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(tr(),h=n.mode,T=rc({mode:"hidden",children:T},h),o=Zr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,g,r),n.memoizedState=jf,fl(null,o)):(er(n),qf(n,T))}var R=t.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),T=o.fallback,h=n.mode,o=rc({mode:"visible",children:o.children},h),T=Zr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,sa(n,t.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,g,r),n.memoizedState=jf,n=fl(null,o));else if(er(n),Ad(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,el({value:o,source:null,stack:null}),n=Hf(t,n,r)}else if(Xt||Pa(t,n,r,!1),g=(r&t.childLanes)!==0,Xt||g){if(g=Tt,g!==null&&(o=Mo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Xr(t,o),Vn(g,t,o),Lf;bd(T)||mc(),n=Hf(t,n,r)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,At=ai(T.nextSibling),hn=n,Je=!0,Ks=null,si=!1,t!==null&&$g(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(tr(),T=o.fallback,h=n.mode,R=t.child,j=R.sibling,o=hs(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?T=hs(j,T):(T=Zr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,fl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=zf(r):(h=T.cachePool,h!==null?(R=Kt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=tp(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(t,g,r),n.memoizedState=jf,fl(t.child,o)):(er(n),r=t.child,t=r.sibling,r=hs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Bn(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return sa(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function my(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function gy(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=zt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ae(zt,g),dn(t,n,o,r),o=Je?Wo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,r,n);else if(t.tag===19)my(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ys(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Pa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=hs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=hs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function PT(t,n,r){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),Xs(n,Kt,t.memoizedState.cache),Jr();break;case 27:case 5:es(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:Xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?dy(t,n,r):(er(n),t=ys(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Pa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return gy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(zt,zt.current),o)break;return null;case 22:return n.lanes=0,oy(t,n,r,n.pendingProps);case 24:Xs(n,Kt,t.memoizedState.cache)}return ys(t,n,r)}function py(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Xt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Xt=!1,PT(t,n,r);Xt=(t.flags&131072)!==0}else Xt=!1,Je&&(n.flags&1048576)!==0&&Kg(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=na(n.elementType),n.type=t,typeof t=="function")$h(t)?(o=aa(t,o),n.tag=1,n=hy(null,n,t,o,r)):(n.tag=0,n=Pf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===lt){n.tag=11,n=sy(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=ry(null,n,t,o,r);break e}}throw n=ut(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=aa(o,n.pendingProps),hy(t,n,o,h,r);case 3:e:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),ol(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Xs(n,Kt,o),o!==f.cache&&rf(n,[Kt],r,!0),al(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(t,n,o,r);break e}else if(o!==h){h=ti(Error(a(424)),n),el(h),n=fy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=ai(t.firstChild),hn=n,Je=!0,Ks=null,si=!0,r=op(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Jr(),o===h){n=ys(t,n,r);break e}dn(t,n,o,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=C0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Je||(r=n.type,t=n.pendingProps,o=Tc(Ve.current).createElement(r),o[Ft]=n,o[an]=t,mn(o,r,t),Yt(o),n.stateNode=o):n.memoizedState=C0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return es(n),t===null&&Je&&(o=n.stateNode=S0(n.type,n.pendingProps,Ve.current),hn=n,si=!0,h=At,ur(n.type)?(Sd=h,At=ai(o.firstChild)):At=h),dn(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=o=At)&&(o=mb(o,n.type,n.pendingProps,si),o!==null?(n.stateNode=o,hn=n,At=ai(o.firstChild),si=!1,h=!0):h=!1),h||$s(n)),es(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,IT,null,null,r),Cl._currentValue=h),sc(t,n),dn(t,n,o,r),n.child;case 6:return t===null&&Je&&((t=r=At)&&(r=gb(r,n.pendingProps,si),r!==null?(n.stateNode=r,hn=n,At=null,t=!0):t=!1),t||$s(n)),null;case 13:return dy(t,n,r);case 4:return Mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=sa(n,null,o,r):dn(t,n,o,r),n.child;case 11:return sy(t,n,n.type,n.pendingProps,r);case 7:return dn(t,n,n.pendingProps,r),n.child;case 8:return dn(t,n,n.pendingProps.children,r),n.child;case 12:return dn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Xs(n,n.type,o.value),dn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ea(n),h=fn(h),o=o(h),n.flags|=1,dn(t,n,o,r),n.child;case 14:return ry(t,n,n.type,n.pendingProps,r);case 15:return ay(t,n,n.type,n.pendingProps,r);case 19:return gy(t,n,r);case 31:return LT(t,n,r);case 22:return oy(t,n,r,n.pendingProps);case 24:return ea(n),o=fn(Kt),t===null?(h=lf(),h===null&&(h=Tt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),Xs(n,Kt,h)):((t.lanes&r)!==0&&(hf(t,n),ol(n,null,null,r),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Xs(n,Kt,o)):(o=f.cache,Xs(n,Kt,o),o!==h.cache&&rf(n,[Kt],r,!0))),dn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function _s(t){t.flags|=4}function Yf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw ia=Hu,uf}else t.flags&=-16777217}function yy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!O0(n))if(Hy())t.flags|=8192;else throw ia=Hu,uf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Lr():536870912,t.lanes|=n,Xa|=n)}function dl(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function jT(t,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ms(Kt),bt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(La(n)?_s(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),St(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(_s(n),f!==null?(St(n),yy(n,f)):(St(n),Yf(n,h,null,o,r))):f?f!==t.memoizedState?(_s(n),St(n),yy(n,f)):(St(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&_s(n),St(n),Yf(n,h,t,o,r)),null;case 27:if(ci(n),r=Ve.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&_s(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}t=ee.current,La(n)?Xg(n):(t=S0(h,o,r),n.stateNode=t,_s(n))}return St(n),null;case 5:if(ci(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&_s(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}if(f=ee.current,La(n))Xg(n);else{var g=Tc(Ve.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ft]=n,f[an]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(mn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&_s(n)}}return St(n),Yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&_s(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ve.current,La(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=hn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ft]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||d0(t.nodeValue,r)),t||$s(n,!0)}else t=Tc(t).createTextNode(o),t[Ft]=n,n.stateNode=t}return St(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=La(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ft]=n}else Jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Hn(n),n):(Hn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return St(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ft]=n}else Jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Hn(n),n):(Hn(n),null)}return Hn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),St(n),null);case 4:return bt(),t===null&&md(n.stateNode.containerInfo),St(n),null;case 10:return ms(n.type),St(n),null;case 19:if(K(zt),o=n.memoizedState,o===null)return St(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(Ut!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fg(r,t),r=r.sibling;return ae(zt,zt.current&1|2),Je&&fs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Z()>hc&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Je)return St(n),null}else 2*Z()-o.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Z(),t.sibling=null,r=zt.current,ae(zt,h?r&1|2:r&1),Je&&fs(n,o.treeForkCount),t):(St(n),null);case 22:case 23:return Hn(n),gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&K(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ms(Kt),St(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ms(Kt),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 31:if(n.memoizedState!==null){if(Hn(n),n.alternate===null)throw Error(a(340));Jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Hn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(zt),null;case 4:return bt(),null;case 10:return ms(n.type),null;case 22:case 23:return Hn(n),gf(),t!==null&&K(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ms(Kt),null;case 25:return null;default:return null}}function _y(t,n){switch(Wh(n),n.tag){case 3:ms(Kt),bt();break;case 26:case 27:case 5:ci(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&Hn(n);break;case 13:Hn(n);break;case 19:K(zt);break;case 10:ms(n.type);break;case 22:case 23:Hn(n),gf(),t!==null&&K(ta);break;case 24:ms(Kt)}}function ml(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){dt(n,n.return,T)}}function nr(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,j=T;try{j()}catch(Y){dt(h,R,Y)}}}o=o.next}while(o!==f)}}catch(Y){dt(n,n.return,Y)}}function vy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{up(n,r)}catch(o){dt(t,t.return,o)}}}function Ey(t,n,r){r.props=aa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){dt(t,n,o)}}function gl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){dt(t,n,h)}}function qi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){dt(t,n,h)}else r.current=null}function Ty(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){dt(t,t.return,h)}}function Qf(t,n,r){try{var o=t.stateNode;lb(o,t.type,r,n),o[an]=n}catch(h){dt(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=mi));else if(o!==4&&(o===27&&ur(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,r),t=t.sibling;t!==null;)$f(t,n,r),t=t.sibling}function oc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&ur(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oc(t,n,r),t=t.sibling;t!==null;)oc(t,n,r),t=t.sibling}function Ay(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,o,r),n[Ft]=t,n[an]=r}catch(f){dt(t,t.return,f)}}var vs=!1,Zt=!1,Xf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,ln=null;function BT(t,n){if(t=t.containerInfo,yd=Rc,t=Ug(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,R=-1,j=0,Y=0,$=t,z=null;t:for(;;){for(var q;$!==r||h!==0&&$.nodeType!==3||(T=g+h),$!==f||o!==0&&$.nodeType!==3||(R=g+o),$.nodeType===3&&(g+=$.nodeValue.length),(q=$.firstChild)!==null;)z=$,$=q;for(;;){if($===t)break t;if(z===r&&++j===h&&(T=g),z===f&&++Y===o&&(R=g),(q=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Rc=!1,ln=n;ln!==null;)if(n=ln,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ln=t;else for(;ln!==null;){switch(n=ln,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var he=aa(r.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){dt(r,r.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ln=t;break}ln=n.return}}function wy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ts(t,r),o&4&&ml(5,r);break;case 1:if(Ts(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){dt(r,r.return,g)}else{var h=aa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){dt(r,r.return,g)}}o&64&&vy(r),o&512&&gl(r,r.return);break;case 3:if(Ts(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{up(t,n)}catch(g){dt(r,r.return,g)}}break;case 27:n===null&&o&4&&Ay(r);case 26:case 5:Ts(t,r),n===null&&o&4&&Ty(r),o&512&&gl(r,r.return);break;case 12:Ts(t,r);break;case 31:Ts(t,r),o&4&&Ry(t,r);break;case 13:Ts(t,r),o&4&&Iy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=XT.bind(null,r),pb(t,r))));break;case 22:if(o=r.memoizedState!==null||vs,!o){n=n!==null&&n.memoizedState!==null||Zt,h=vs;var f=Zt;vs=o,(Zt=n)&&!f?bs(t,r,(r.subtreeFlags&8772)!==0):Ts(t,r),vs=h,Zt=f}break;case 30:break;default:Ts(t,r)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Nn=!1;function Es(t,n,r){for(r=r.child;r!==null;)Cy(t,n,r),r=r.sibling}function Cy(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Se,r)}catch{}switch(r.tag){case 26:Zt||qi(r,n),Es(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||qi(r,n);var o=Ct,h=Nn;ur(r.type)&&(Ct=r.stateNode,Nn=!1),Es(t,n,r),Sl(r.stateNode),Ct=o,Nn=h;break;case 5:Zt||qi(r,n);case 6:if(o=Ct,h=Nn,Ct=null,Es(t,n,r),Ct=o,Nn=h,Ct!==null)if(Nn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(r.stateNode)}catch(f){dt(r,n,f)}else try{Ct.removeChild(r.stateNode)}catch(f){dt(r,n,f)}break;case 18:Ct!==null&&(Nn?(t=Ct,v0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),so(t)):v0(Ct,r.stateNode));break;case 4:o=Ct,h=Nn,Ct=r.stateNode.containerInfo,Nn=!0,Es(t,n,r),Ct=o,Nn=h;break;case 0:case 11:case 14:case 15:nr(2,r,n),Zt||nr(4,r,n),Es(t,n,r);break;case 1:Zt||(qi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ey(r,n,o)),Es(t,n,r);break;case 21:Es(t,n,r);break;case 22:Zt=(o=Zt)||r.memoizedState!==null,Es(t,n,r),Zt=o;break;default:Es(t,n,r)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(r){dt(n,n.return,r)}}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(r){dt(n,n.return,r)}}function qT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sy),n;default:throw Error(a(435,t.tag))}}function lc(t,n){var r=qT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=ZT.bind(null,t,o);o.then(h,h)}})}function Dn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ur(T.type)){Ct=T.stateNode,Nn=!1;break e}break;case 5:Ct=T.stateNode,Nn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(Ct===null)throw Error(a(160));Cy(f,g,h),Ct=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,t),n=n.sibling}var Ei=null;function Ny(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),o&4&&(nr(3,t,t.return),ml(3,t),nr(5,t,t.return));break;case 1:Dn(n,t),On(t),o&512&&(Zt||r===null||qi(r,r.return)),o&64&&vs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Ei;if(Dn(n,t),On(t),o&512&&(Zt||r===null||qi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),mn(f,o,r),f[Ft]=t,Yt(f),o=f;break e;case"link":var g=N0("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=N0("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ft]=t,Yt(f),o=f}t.stateNode=o}else D0(h,t.type,t.stateNode);else t.stateNode=I0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?D0(h,t.type,t.stateNode):I0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Dn(n,t),On(t),o&512&&(Zt||r===null||qi(r,r.return)),r!==null&&o&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Dn(n,t),On(t),o&512&&(Zt||r===null||qi(r,r.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(he){dt(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(Dn(n,t),On(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(he){dt(t,t.return,he)}}break;case 3:if(Sc=null,h=Ei,Ei=bc(n.containerInfo),Dn(n,t),Ei=h,On(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(he){dt(t,t.return,he)}Xf&&(Xf=!1,Dy(t));break;case 4:o=Ei,Ei=bc(t.stateNode.containerInfo),Dn(n,t),On(t),Ei=o;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Z()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,j=vs,Y=Zt;if(vs=j||h,Zt=Y||R,Dn(n,t),Zt=Y,vs=j,On(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||vs||Zt||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){dt(R,R.return,he)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(he){dt(R,R.return,he)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?E0(q,!0):E0(R.stateNode,!1)}catch(he){dt(R,R.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,lc(t,r))));break;case 19:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,lc(t,o)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(by(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(t);oc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(In(g,""),r.flags&=-33);var T=Kf(t);oc(t,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,j=Kf(t);$f(t,j,R);break;default:throw Error(a(161))}}catch(Y){dt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ts(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),oa(n);break;case 1:qi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ey(n,n.return,r),oa(n);break;case 27:Sl(n.stateNode);case 26:case 5:qi(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function bs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:bs(h,f,r),ml(4,f);break;case 1:if(bs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){dt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)lp(R[h],T)}catch(j){dt(o,o.return,j)}}r&&g&64&&vy(f),gl(f,f.return);break;case 27:Ay(f);case 26:case 5:bs(h,f,r),r&&o===null&&g&4&&Ty(f),gl(f,f.return);break;case 12:bs(h,f,r);break;case 31:bs(h,f,r),r&&g&4&&Ry(h,f);break;case 13:bs(h,f,r),r&&g&4&&Iy(h,f);break;case 22:f.memoizedState===null&&bs(h,f,r),gl(f,f.return);break;case 30:break;default:bs(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&tl(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function Ti(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(t,n,r,o),n=n.sibling}function Oy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ti(t,n,r,o),h&2048&&ml(9,n);break;case 1:Ti(t,n,r,o);break;case 3:Ti(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){Ti(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){dt(n,n.return,R)}}else Ti(t,n,r,o);break;case 31:Ti(t,n,r,o);break;case 13:Ti(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Ti(t,n,r,o):pl(t,n):f._visibility&2?Ti(t,n,r,o):(f._visibility|=2,Qa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:Ti(t,n,r,o),h&2048&&Jf(n.alternate,n);break;default:Ti(t,n,r,o)}}function Qa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,R=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Qa(f,g,T,R,h),ml(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Qa(f,g,T,R,h):pl(f,g):(Y._visibility|=2,Qa(f,g,T,R,h)),h&&j&2048&&Zf(g.alternate,g);break;case 24:Qa(f,g,T,R,h),h&&j&2048&&Jf(g.alternate,g);break;default:Qa(f,g,T,R,h)}n=n.sibling}}function pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:pl(r,o),h&2048&&Zf(o.alternate,o);break;case 24:pl(r,o),h&2048&&Jf(o.alternate,o);break;default:pl(r,o)}n=n.sibling}}var yl=8192;function Ka(t,n,r){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)My(t,n,r),t=t.sibling}function My(t,n,r){switch(t.tag){case 26:Ka(t,n,r),t.flags&yl&&t.memoizedState!==null&&Rb(r,Ei,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,n,r);break;case 3:case 4:var o=Ei;Ei=bc(t.stateNode.containerInfo),Ka(t,n,r),Ei=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Ka(t,n,r),yl=o):Ka(t,n,r));break;default:Ka(t,n,r)}}function Vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ln=o,Uy(o,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ky(t),t=t.sibling}function ky(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&nr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):_l(t);break;default:_l(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ln=o,Uy(o,t)}Vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function Uy(t,n){for(;ln!==null;){var r=ln;switch(r.tag){case 0:case 11:case 15:nr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ln=o;else e:for(r=t;ln!==null;){o=ln;var h=o.sibling,f=o.return;if(xy(o),o===r){ln=null;break e}if(h!==null){h.return=f,ln=h;break e}ln=f}}}var HT={getCacheForType:function(t){var n=fn(Kt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return fn(Kt).controller.signal}},GT=typeof WeakMap=="function"?WeakMap:Map,ot=0,Tt=null,Be=null,Fe=0,ft=0,Gn=null,ir=!1,$a=!1,Wf=!1,As=0,Ut=0,sr=0,la=0,ed=0,Fn=0,Xa=0,vl=null,Mn=null,td=!1,cc=0,Ly=0,hc=1/0,fc=null,rr=null,nn=0,ar=null,Za=null,Ss=0,nd=0,id=null,Py=null,El=0,sd=null;function Yn(){return(ot&2)!==0&&Fe!==0?Fe&-Fe:F.T!==null?cd():du()}function jy(){if(Fn===0)if((Fe&536870912)===0||Je){var t=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),Fn=t}else Fn=536870912;return t=qn.current,t!==null&&(t.flags|=32),Fn}function Vn(t,n,r){(t===Tt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),or(t,Fe,Fn,!1)),Nt(t,r),((ot&2)===0||t!==Tt)&&(t===Tt&&((ot&2)===0&&(la|=r),Ut===4&&or(t,Fe,Fn,!1)),Hi(t))}function zy(t,n,r){if((ot&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||rt(t,n),h=o?QT(t,n):ad(t,n,!0),f=o;do{if(h===0){$a&&!o&&or(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!FT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=vl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ja(T,g).flags|=256),g=ad(T,g,!1),g!==2){if(Wf&&!R){T.errorRecoveryDisabledLanes|=f,la|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),or(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:or(o,n,Fn,!ir);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-Z(),10<h)){if(or(o,n,Fn,!ir),Ce(o,0,!0)!==0)break e;Ss=n,o.timeoutHandle=y0(By.bind(null,o,r,Mn,fc,td,n,Fn,la,Xa,ir,f,"Throttled",-0,0),h);break e}By(o,r,Mn,fc,td,n,Fn,la,Xa,ir,f,null,-0,0)}}break}while(!0);Hi(t)}function By(t,n,r,o,h,f,g,T,R,j,Y,$,z,q){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},My(n,f,$);var he=(f&62914560)===f?cc-Z():(f&4194048)===f?Ly-Z():0;if(he=Ib($,he),he!==null){Ss=f,t.cancelPendingCommit=he($y.bind(null,t,n,f,r,o,h,g,T,R,Y,$,null,z,q)),or(t,f,g,!j);return}}$y(t,n,f,r,o,h,g,T,R)}function FT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!zn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function or(t,n,r,o){n&=~ed,n&=~la,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-nt(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&as(t,r,n)}function dc(){return(ot&6)===0?(Tl(0),!1):!0}function rd(){if(Be!==null){if(ft===0)var t=Be.return;else t=Be,ds=Wr=null,Tf(t),qa=null,il=0,t=Be;for(;t!==null;)_y(t.alternate,t),t=t.return;Be=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ss=0,rd(),Tt=t,Be=r=hs(t.current,null),Fe=n,ft=0,Gn=null,ir=!1,$a=rt(t,n),Wf=!1,Xa=Fn=ed=la=sr=Ut=0,Mn=vl=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-nt(o),f=1<<h;n|=t[h],o&=~f}return As=n,Vu(),r}function qy(t,n){Le=null,F.H=hl,n===Ba||n===qu?(n=sp(),ft=3):n===uf?(n=sp(),ft=4):ft=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,Be===null&&(Ut=1,nc(t,ti(n,t.current)))}function Hy(){var t=qn.current;return t===null?!0:(Fe&4194048)===Fe?ri===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ri:!1}function Gy(){var t=F.H;return F.H=hl,t===null?hl:t}function Fy(){var t=F.A;return F.A=HT,t}function mc(){Ut=4,ir||(Fe&4194048)!==Fe&&qn.current!==null||($a=!0),(sr&134217727)===0&&(la&134217727)===0||Tt===null||or(Tt,Fe,Fn,!1)}function ad(t,n,r){var o=ot;ot|=2;var h=Gy(),f=Fy();(Tt!==t||Fe!==n)&&(fc=null,Ja(t,n)),n=!1;var g=Ut;e:do try{if(ft!==0&&Be!==null){var T=Be,R=Gn;switch(ft){case 8:rd(),g=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var j=ft;if(ft=0,Gn=null,Wa(t,T,R,j),r&&$a){g=0;break e}break;default:j=ft,ft=0,Gn=null,Wa(t,T,R,j)}}YT(),g=Ut;break}catch(Y){qy(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ds=Wr=null,ot=o,F.H=h,F.A=f,Be===null&&(Tt=null,Fe=0,Vu()),g}function YT(){for(;Be!==null;)Yy(Be)}function QT(t,n){var r=ot;ot|=2;var o=Gy(),h=Fy();Tt!==t||Fe!==n?(fc=null,hc=Z()+500,Ja(t,n)):$a=rt(t,n);e:do try{if(ft!==0&&Be!==null){n=Be;var f=Gn;t:switch(ft){case 1:ft=0,Gn=null,Wa(t,n,f,1);break;case 2:case 9:if(np(f)){ft=0,Gn=null,Qy(n);break}n=function(){ft!==2&&ft!==9||Tt!==t||(ft=7),Hi(t)},f.then(n,n);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:np(f)?(ft=0,Gn=null,Qy(n)):(ft=0,Gn=null,Wa(t,n,f,7));break;case 5:var g=null;switch(Be.tag){case 26:g=Be.memoizedState;case 5:case 27:var T=Be;if(g?O0(g):T.stateNode.complete){ft=0,Gn=null;var R=T.sibling;if(R!==null)Be=R;else{var j=T.return;j!==null?(Be=j,gc(j)):Be=null}break t}}ft=0,Gn=null,Wa(t,n,f,5);break;case 6:ft=0,Gn=null,Wa(t,n,f,6);break;case 8:rd(),Ut=6;break e;default:throw Error(a(462))}}KT();break}catch(Y){qy(t,Y)}while(!0);return ds=Wr=null,F.H=o,F.A=h,ot=r,Be!==null?0:(Tt=null,Fe=0,Vu(),Ut)}function KT(){for(;Be!==null&&!ns();)Yy(Be)}function Yy(t){var n=py(t.alternate,t,As);t.memoizedProps=t.pendingProps,n===null?gc(t):Be=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=cy(r,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=cy(r,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Tf(n);default:_y(r,n),n=Be=Fg(n,As),n=py(r,n,As)}t.memoizedProps=t.pendingProps,n===null?gc(t):Be=n}function Wa(t,n,r,o){ds=Wr=null,Tf(n),qa=null,il=0;var h=n.return;try{if(UT(t,h,n,r,Fe)){Ut=1,nc(t,ti(r,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;Ut=1,nc(t,ti(r,t.current)),Be=null;return}n.flags&32768?(Je||o===1?t=!0:$a||(Fe&536870912)!==0?t=!1:(ir=t=!0,(o===2||o===9||o===3||o===6)&&(o=qn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,t)):gc(n)}function gc(t){var n=t;do{if((n.flags&32768)!==0){Ky(n,ir);return}t=n.return;var r=jT(n.alternate,n,As);if(r!==null){Be=r;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);Ut===0&&(Ut=5)}function Ky(t,n){do{var r=zT(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Ut=6,Be=null}function $y(t,n,r,o,h,f,g,T,R){t.cancelPendingCommit=null;do pc();while(nn!==0);if((ot&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,rs(t,r,f,g,T,R),t===Tt&&(Be=Tt=null,Fe=0),Za=n,ar=t,Ss=r,nd=f,id=h,Py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JT(Pe,function(){return e0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=se.p,se.p=2,g=ot,ot|=4;try{BT(t,n,r)}finally{ot=g,se.p=h,F.T=o}}nn=1,Xy(),Zy(),Jy()}}function Xy(){if(nn===1){nn=0;var t=ar,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=ot;ot|=4;try{Ny(n,t);var f=_d,g=Ug(t.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&kg(T.ownerDocument.documentElement,T)){if(R!==null&&qh(T)){var j=R.start,Y=R.end;if(Y===void 0&&(Y=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Y,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var q=z.getSelection(),he=T.textContent.length,Ae=Math.min(R.start,he),vt=R.end===void 0?Ae:Math.min(R.end,he);!q.extend&&Ae>vt&&(g=vt,vt=Ae,Ae=g);var k=Vg(T,Ae),D=Vg(T,vt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),Ae>vt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Q=$[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!yd,_d=yd=null}finally{ot=h,se.p=o,F.T=r}}t.current=n,nn=2}}function Zy(){if(nn===2){nn=0;var t=ar,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=ot;ot|=4;try{wy(t,n.alternate,n)}finally{ot=h,se.p=o,F.T=r}}nn=3}}function Jy(){if(nn===4||nn===3){nn=0,H();var t=ar,n=Za,r=Ss,o=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nn=5:(nn=0,Za=ar=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(rr=null),os(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,se.p=h}}(Ss&3)!==0&&pc(),Hi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?El++:(El=0,sd=t):El=0,Tl(0)}}function Wy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function pc(){return Xy(),Zy(),Jy(),e0()}function e0(){if(nn!==5)return!1;var t=ar,n=nd;nd=0;var r=os(Ss),o=F.T,h=se.p;try{se.p=32>r?32:r,F.T=null,r=id,id=null;var f=ar,g=Ss;if(nn=0,Za=ar=null,Ss=0,(ot&6)!==0)throw Error(a(331));var T=ot;if(ot|=4,ky(f.current),Oy(f,f.current,g,r),ot=T,Tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Se,f)}catch{}return!0}finally{se.p=h,F.T=o,Wy(t,n)}}function t0(t,n,r){n=ti(r,n),n=Uf(t.stateNode,n,2),t=Ws(t,n,2),t!==null&&(Nt(t,2),Hi(t))}function dt(t,n,r){if(t.tag===3)t0(t,t,r);else for(;n!==null;){if(n.tag===3){t0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(rr===null||!rr.has(o))){t=ti(r,t),r=ny(2),o=Ws(n,r,2),o!==null&&(iy(r,o,n,t),Nt(o,2),Hi(o));break}}n=n.return}}function od(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new GT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=$T.bind(null,t,n,r),n.then(t,t))}function $T(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Tt===t&&(Fe&r)===r&&(Ut===4||Ut===3&&(Fe&62914560)===Fe&&300>Z()-cc?(ot&2)===0&&Ja(t,0):ed|=r,Xa===Fe&&(Xa=0)),Hi(t)}function n0(t,n){n===0&&(n=Lr()),t=Xr(t,n),t!==null&&(Nt(t,n),Hi(t))}function XT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),n0(t,r)}function ZT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),n0(t,r)}function JT(t,n){return tt(t,n)}var yc=null,eo=null,ld=!1,_c=!1,ud=!1,lr=0;function Hi(t){t!==eo&&t.next===null&&(eo===null?yc=eo=t:eo=eo.next=t),_c=!0,ld||(ld=!0,eb())}function Tl(t,n){if(!ud&&_c){ud=!0;do for(var r=!1,o=yc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-nt(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,a0(o,f))}else f=Fe,f=Ce(o,o===Tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||rt(o,f)||(r=!0,a0(o,f));o=o.next}while(r);ud=!1}}function WT(){i0()}function i0(){_c=ld=!1;var t=0;lr!==0&&cb()&&(t=lr);for(var n=Z(),r=null,o=yc;o!==null;){var h=o.next,f=s0(o,n);f===0?(o.next=null,r===null?yc=h:r.next=h,h===null&&(eo=r)):(r=o,(t!==0||(f&3)!==0)&&(_c=!0)),o=h}nn!==0&&nn!==5||Tl(t),lr!==0&&(lr=0)}function s0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-nt(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&o)!==0)&&(h[g]=ss(T,n)):R<=n&&(t.expiredLanes|=T),f&=~T}if(n=Tt,r=Fe,r=Ce(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ln(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||rt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Ln(o),os(r)){case 2:case 8:r=Te;break;case 32:r=Pe;break;case 268435456:r=Ze;break;default:r=Pe}return o=r0.bind(null,t),r=tt(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Ln(o),t.callbackPriority=2,t.callbackNode=null,2}function r0(t,n){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var o=Fe;return o=Ce(t,t===Tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(zy(t,o,n),s0(t,Z()),t.callbackNode!=null&&t.callbackNode===r?r0.bind(null,t):null)}function a0(t,n){if(pc())return null;zy(t,n,!0)}function eb(){fb(function(){(ot&6)!==0?tt(oe,WT):i0()})}function cd(){if(lr===0){var t=ja;t===0&&(t=It,It<<=1,(It&261888)===0&&(It=256)),lr=t}return lr}function o0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function l0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function tb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=o0((h[an]||null).action),g=o.submitter;g&&(n=(n=g[an]||null)?o0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ui("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(lr!==0){var R=g?l0(h,g):new FormData(h);Nf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?l0(h,g):new FormData(h),Nf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],nb=fd.toLowerCase(),ib=fd[0].toUpperCase()+fd.slice(1);vi(nb,"on"+ib)}vi(jg,"onAnimationEnd"),vi(zg,"onAnimationIteration"),vi(Bg,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(vT,"onTransitionRun"),vi(ET,"onTransitionStart"),vi(TT,"onTransitionCancel"),vi(qg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function u0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,j=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(Y){Mu(Y)}h.currentTarget=null,f=R}}}}function qe(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var o=t+"__bubble";r.has(o)||(c0(n,t,2,!1),r.add(o))}function dd(t,n,r){var o=0;n&&(o|=4),c0(r,t,o,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[vc]){t[vc]=!0,Vo.forEach(function(r){r!=="selectionchange"&&(sb.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,dd("selectionchange",!1,n))}}function c0(t,n,r,o){switch(j0(n)){case 2:var h=Ob;break;case 8:h=Mb;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ii(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue e}T=T.parentNode}}o=o.return}Hs(function(){var j=f,Y=Zn(r),$=[];e:{var z=Hg.get(t);if(z!==void 0){var q=Ui,he=t;switch(t){case"keypress":if(Gr(r)===0)break e;case"keydown":case"keyup":q=Nu;break;case"focusin":he="focus",q=Yr;break;case"focusout":he="blur",q=Yr;break;case"beforeblur":case"afterblur":q=Yr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case jg:case zg:case Bg:q=Au;break;case qg:q=b;break;case"scroll":case"scrollend":q=Yo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=cs;break;case"toggle":case"beforetoggle":q=Ue}var Ae=(n&4)!==0,vt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?z!==null?z+"Capture":null:z;Ae=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=gi(D,k),Q!=null&&Ae.push(Al(D,Q,P))),vt)break;D=D.return}0<Ae.length&&(z=new q(z,he,null,r,Y),$.push({event:z,listeners:Ae}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Ho&&(he=r.relatedTarget||r.fromElement)&&(Ii(he)||he[Ci]))break e;if((q||z)&&(z=Y.window===Y?Y:(z=Y.ownerDocument)?z.defaultView||z.parentWindow:window,q?(he=r.relatedTarget||r.toElement,q=j,he=he?Ii(he):null,he!==null&&(vt=c(he),Ae=he.tag,he!==vt||Ae!==5&&Ae!==27&&Ae!==6)&&(he=null)):(q=null,he=j),q!==he)){if(Ae=Qo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=cs,Q="onPointerLeave",k="onPointerEnter",D="pointer"),vt=q==null?z:Pn(q),P=he==null?z:Pn(he),z=new Ae(Q,D+"leave",q,r,Y),z.target=vt,z.relatedTarget=P,Q=null,Ii(Y)===j&&(Ae=new Ae(k,D+"enter",he,r,Y),Ae.target=P,Ae.relatedTarget=vt,Q=Ae),vt=Q,q&&he)t:{for(Ae=rb,k=q,D=he,P=0,Q=k;Q;Q=Ae(Q))P++;Q=0;for(var ye=D;ye;ye=Ae(ye))Q++;for(;0<P-Q;)k=Ae(k),P--;for(;0<Q-P;)D=Ae(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Ae=k;break t}k=Ae(k),D=Ae(D)}Ae=null}else Ae=null;q!==null&&h0($,z,q,Ae,!1),he!==null&&vt!==null&&h0($,vt,he,Ae,!0)}}e:{if(z=j?Pn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var it=Rg;else if(xg(z))if(Ig)it=pT;else{it=mT;var me=dT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Aa(j.elementType)&&(it=Rg):it=gT;if(it&&(it=it(t,j))){Cg($,it,r,Y);break e}me&&me(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&zo(z,"number",z.value)}switch(me=j?Pn(j):window,t){case"focusin":(xg(me)||me.contentEditable==="true")&&(Da=me,Hh=j,Jo=null);break;case"focusout":Jo=Hh=Da=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Lg($,r,Y);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":Lg($,r,Y)}var je;if(at)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Na?Qr(t,r)&&(Ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ye="onCompositionStart");Ye&&(ji&&r.locale!=="ko"&&(Na||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Na&&(je=Fo()):(ki=Y,Go="value"in ki?ki.value:ki.textContent,Na=!0)),me=Ec(j,Ye),0<me.length&&(Ye=new Pi(Ye,t,null,r,Y),$.push({event:Ye,listeners:me}),je?Ye.data=je:(je=Ia(r),je!==null&&(Ye.data=je)))),(je=Wn?uT(t,r):cT(t,r))&&(Ye=Ec(j,"onBeforeInput"),0<Ye.length&&(me=new Pi("onBeforeInput","beforeinput",null,r,Y),$.push({event:me,listeners:Ye}),me.data=je)),tb($,t,j,r,Y)}u0($,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ec(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=gi(t,r),h!=null&&o.unshift(Al(t,h,f)),h=gi(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function rb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h0(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||j===null||(R=j,h?(j=gi(r,f),j!=null&&g.unshift(Al(r,j,R))):h||(j=gi(r,f),j!=null&&g.push(Al(r,j,R)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var ab=/\r\n?/g,ob=/\u0000|\uFFFD/g;function f0(t){return(typeof t=="string"?t:""+t).replace(ab,`
`).replace(ob,"")}function d0(t,n){return n=f0(n),f0(t)===n}function _t(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||In(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&In(t,""+o);break;case"className":jn(t,"class",o);break;case"tabIndex":jn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,o);break;case"style":qo(t,o,f);break;case"data":if(n!=="object"){jn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&_t(t,n,"name",h.name,h,null),_t(t,n,"formEncType",h.formEncType,h,null),_t(t,n,"formMethod",h.formMethod,h,null),_t(t,n,"formTarget",h.formTarget,h,null)):(_t(t,n,"encType",h.encType,h,null),_t(t,n,"method",h.method,h,null),_t(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Sa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=mi);break;case"onScroll":o!=null&&qe("scroll",t);break;case"onScrollEnd":o!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Ta(t,"popover",o);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Eu.get(r)||r,Ta(t,r,o))}}function pd(t,n,r,o,h,f){switch(r){case"style":qo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?In(t,o):(typeof o=="number"||typeof o=="bigint")&&In(t,""+o);break;case"onScroll":o!=null&&qe("scroll",t);break;case"onScrollEnd":o!=null&&qe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[an]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ta(t,r,o)}}}function mn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:_t(t,n,f,g,r,null)}}h&&_t(t,n,"srcSet",r.srcSet,r,null),o&&_t(t,n,"src",r.src,r,null);return;case"input":qe("invalid",t);var T=f=g=h=null,R=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":R=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:_t(t,n,o,Y,r,null)}}yu(t,f,T,R,j,g,h,!1);return;case"select":qe("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:_t(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!o,n!=null?js(t,!!o,n,!1):r!=null&&js(t,!!o,r,!0);return;case"textarea":qe("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:_t(t,n,g,T,r,null)}zs(t,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:_t(t,n,R,o,r,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)qe(bl[o],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:_t(t,n,j,o,r,null)}return;default:if(Aa(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&pd(t,n,Y,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&_t(t,n,T,o,r,null))}function lb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,j=null,Y=null;for(q in r){var $=r[q];if(r.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(q)||_t(t,n,q,null,o,$)}}for(var z in o){var q=o[z];if($=r[z],o.hasOwnProperty(z)&&(q!=null||$!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Y=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&_t(t,n,z,q,o,$)}}ba(t,g,T,R,j,Y,f,h);return;case"select":q=g=T=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||_t(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&_t(t,n,h,f,o,R)}n=T,r=g,o=q,z!=null?js(t,!!r,z,!1):!!o!=!!r&&(n!=null?js(t,!!r,n,!0):js(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&_t(t,n,g,h,o,f)}_u(t,z,q);return;case"option":for(var he in r)if(z=r[he],r.hasOwnProperty(he)&&z!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:_t(t,n,he,null,o,z)}for(R in o)if(z=o[R],q=r[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:_t(t,n,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in r)z=r[Ae],r.hasOwnProperty(Ae)&&z!=null&&!o.hasOwnProperty(Ae)&&_t(t,n,Ae,null,o,z);for(j in o)if(z=o[j],q=r[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:_t(t,n,j,z,o,q)}return;default:if(Aa(n)){for(var vt in r)z=r[vt],r.hasOwnProperty(vt)&&z!==void 0&&!o.hasOwnProperty(vt)&&pd(t,n,vt,void 0,o,z);for(Y in o)z=o[Y],q=r[Y],!o.hasOwnProperty(Y)||z===q||z===void 0&&q===void 0||pd(t,n,Y,z,o,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&_t(t,n,k,null,o,z);for($ in o)z=o[$],q=r[$],!o.hasOwnProperty($)||z===q||z==null&&q==null||_t(t,n,$,z,o,q)}function m0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ub(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&m0(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],j=R.startTime;if(j>T)break;var Y=R.transferSize,$=R.initiatorType;Y&&m0($)&&(R=R.responseEnd,g+=Y*(R<T?1:(T-j)/(R-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function g0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function cb(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var y0=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(t){return _0.resolve(null).then(t).catch(db)}:y0;function db(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function v0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),so(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Sl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Sl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Sl(t.ownerDocument.body);r=h}while(r);so(n)}function E0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),Ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function gb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ai(t.nextSibling),t===null))return null;return t}function T0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function b0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ai(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function A0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function S0(t,n,r){switch(n=Tc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ea(t)}var oi=new Map,w0=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ws=se.d;se.d={f:yb,r:_b,D:vb,C:Eb,L:Tb,m:bb,X:Sb,S:Ab,M:wb};function yb(){var t=ws.f(),n=dc();return t||n}function _b(t){var n=Xn(t);n!==null&&n.tag===5&&n.type==="form"?qp(n):ws.r(t)}var to=typeof document>"u"?null:document;function x0(t,n,r){var o=to;if(o&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),w0.has(h)||(w0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),mn(n,"link",t),Yt(n),o.head.appendChild(n)))}}function vb(t){ws.D(t),x0("dns-prefetch",t,null)}function Eb(t,n){ws.C(t,n),x0("preconnect",t,n)}function Tb(t,n,r){ws.L(t,n,r);var o=to;if(o&&t&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Rn(r.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var f=h;switch(n){case"style":f=no(t);break;case"script":f=io(t)}oi.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),oi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(xl(f))||(n=o.createElement("link"),mn(n,"link",t),Yt(n),o.head.appendChild(n)))}}function bb(t,n){ws.m(t,n);var r=to;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=io(t)}if(!oi.has(f)&&(t=w({rel:"modulepreload",href:t},n),oi.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xl(f)))return}o=r.createElement("link"),mn(o,"link",t),Yt(o),r.head.appendChild(o)}}}function Ab(t,n,r){ws.S(t,n,r);var o=to;if(o&&t){var h=Ni(o).hoistableStyles,f=no(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(wl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=oi.get(f))&&wd(t,r);var R=g=o.createElement("link");Yt(R),mn(R,"link",t),R._p=new Promise(function(j,Y){R.onload=j,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Sb(t,n){ws.X(t,n);var r=to;if(r&&t){var o=Ni(r).hoistableScripts,h=io(t),f=o.get(h);f||(f=r.querySelector(xl(h)),f||(t=w({src:t,async:!0},n),(n=oi.get(h))&&xd(t,n),f=r.createElement("script"),Yt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wb(t,n){ws.M(t,n);var r=to;if(r&&t){var o=Ni(r).hoistableScripts,h=io(t),f=o.get(h);f||(f=r.querySelector(xl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=oi.get(h))&&xd(t,n),f=r.createElement("script"),Yt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C0(t,n,r,o){var h=(h=Ve.current)?bc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=no(r.href),r=Ni(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=no(r.href);var f=Ni(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(wl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),oi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},oi.set(t,r),f||xb(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=io(r),r=Ni(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function no(t){return'href="'+Rn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function R0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function xb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),mn(n,"link",r),Yt(n),t.head.appendChild(n))}function io(t){return'[src="'+Rn(t)+'"]'}function xl(t){return"script[async]"+t}function I0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Rn(r.href)+'"]');if(o)return n.instance=o,Yt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Yt(o),mn(o,"style",h),Ac(o,r.precedence,t),n.instance=o;case"stylesheet":h=no(r.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,Yt(f),f;o=R0(r),(h=oi.get(h))&&wd(o,h),f=(t.ownerDocument||t).createElement("link"),Yt(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),mn(f,"link",o),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=io(r.src),(h=t.querySelector(xl(f)))?(n.instance=h,Yt(h),h):(o=r,(h=oi.get(f))&&(o=w({},r),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Yt(h),mn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ac(o,r.precedence,t));return n.instance}function Ac(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function N0(t,n,r){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(r,o)}else h=Sc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function D0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Cb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=wc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Yt(f);return}f=n.ownerDocument||n,o=R0(o),(h=oi.get(h))&&wd(o,h),f=f.createElement("link"),Yt(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),mn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function Ib(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Cd===0&&(Cd=62500*ub());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Cd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(Nb,t),xc=null,wc.call(t))}function Nb(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var o=r.get(null);else{r=new Map,xc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=wc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Db(t,n,r,o,h,f,g,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function M0(t,n,r,o,h,f,g,T,R,j,Y,$){return t=new Db(t,n,r,g,R,j,Y,$,T),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),t}function V0(t){return t?(t=Va,t):Va}function k0(t,n,r,o,h,f){h=V0(h),o.context===null?o.context=h:o.pendingContext=h,o=Js(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ws(t,o,n),r!==null&&(Vn(r,t,n),rl(r,t,n))}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function L0(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Vn(n,t,67108864),Rd(t,67108864)}}function P0(t){if(t.tag===13||t.tag===31){var n=Yn();n=Pr(n);var r=Xr(t,n);r!==null&&Vn(r,t,n),Rd(t,n)}}var Rc=!0;function Ob(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=2,Id(t,n,r,o)}finally{se.p=f,F.T=h}}function Mb(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=8,Id(t,n,r,o)}finally{se.p=f,F.T=h}}function Id(t,n,r,o){if(Rc){var h=Nd(o);if(h===null)gd(t,n,o,Ic,r),z0(t,o);else if(kb(h,t,n,r,o))o.stopPropagation();else if(z0(t,o),n&4&&-1<Vb.indexOf(t)){for(;h!==null;){var f=Xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ve(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-nt(g);T.entanglements[1]|=R,g&=~R}Hi(f),(ot&6)===0&&(hc=Z()+500,Tl(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&Vn(T,f,2),dc(),Rd(f,2)}if(f=Nd(o),f===null&&gd(t,n,o,Ic,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(t,n,o,null,r)}}function Nd(t){return t=Zn(t),Dd(t)}var Ic=null;function Dd(t){if(Ic=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ic=t,null}function j0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(W()){case oe:return 2;case Te:return 8;case Pe:case ue:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Od=!1,cr=null,hr=null,fr=null,Rl=new Map,Il=new Map,dr=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(t,n){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Nl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Xn(n),n!==null&&L0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kb(t,n,r,o,h){switch(n){case"focusin":return cr=Nl(cr,t,n,r,o,h),!0;case"dragenter":return hr=Nl(hr,t,n,r,o,h),!0;case"mouseover":return fr=Nl(fr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Nl(Rl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Nl(Il.get(f)||null,t,n,r,o,h)),!0}return!1}function B0(t){var n=Ii(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,fi(t.priority,function(){P0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,fi(t.priority,function(){P0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ho=o,r.target.dispatchEvent(o),Ho=null}else return n=Xn(r),n!==null&&L0(n),t.blockedOn=r,!1;n.shift()}return!0}function q0(t,n,r){Nc(t)&&r.delete(n)}function Ub(){Od=!1,cr!==null&&Nc(cr)&&(cr=null),hr!==null&&Nc(hr)&&(hr=null),fr!==null&&Nc(fr)&&(fr=null),Rl.forEach(q0),Il.forEach(q0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ub)))}var Oc=null;function H0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Xn(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function so(t){function n(R){return Dc(R,t)}cr!==null&&Dc(cr,t),hr!==null&&Dc(hr,t),fr!==null&&Dc(fr,t),Rl.forEach(n),Il.forEach(n);for(var r=0;r<dr.length;r++){var o=dr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)B0(r),r.blockedOn===null&&dr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[an]||null;if(typeof f=="function")g||H0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[an]||null)T=g.formAction;else if(Dd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),H0(r)}}}function G0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Mc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Yn();k0(r,o,t,n,null,null)},Mc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;k0(t.current,2,null,t,null,null),dc(),n[Ci]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<dr.length&&n!==0&&n<dr[r].priority;r++);dr.splice(r,0,t),r===0&&B0(t)}};var F0=e.version;if(F0!=="19.2.0")throw Error(a(527,F0,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Lb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Se=Vc.inject(Lb),ke=Vc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Jp,f=Wp,g=ey;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=M0(t,1,!1,null,null,r,o,null,h,f,g,G0),t[Ci]=n.current,md(t),new Md(n)},Ol.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Jp,g=Wp,T=ey,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=M0(t,1,!0,n,r??null,o,h,R,f,g,T,G0),n.context=V0(null),r=n.current,o=Yn(),o=Pr(o),h=Js(o),h.callback=null,Ws(r,h,o),r=o,n.current.lanes=r,Nt(n,r),Hi(n),t[Ci]=n.current,md(t),new Mc(n)},Ol.version="19.2.0",Ol}var t_;function $b(){if(t_)return Ud.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Kb(),Ud.exports}var Xb=$b();const Zb=()=>{};var n_={};const Vv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Jb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(M=64)),a.push(i[E],i[w],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Vv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Jb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new Wb;const M=c<<2|p>>4;if(a.push(M),y!==64){const G=p<<4&240|y>>2;if(a.push(G),w!==64){const ne=y<<6&192|w;a.push(ne)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eA=function(s){const e=Vv(s);return kv.encodeByteArray(e,!0)},Wc=function(s){return eA(s).replace(/\./g,"")},Uv=function(s){try{return kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nA=()=>tA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof n_>"u")return;const s=n_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uv(s[1]);return e&&JSON.parse(e)},vh=()=>{try{return Zb()||nA()||iA()||sA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Lv=s=>vh()?.emulatorHosts?.[s],rA=s=>{const e=Lv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Pv=()=>vh()?.config,jv=s=>vh()?.[`_${s}`];class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function wo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(s){return(await fetch(s,{credentials:"include"})).ok}function oA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Ll={};function lA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ll))Ll[e]?s.emulator.push(e):s.prod.push(e);return s}function uA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let i_=!1;function Bv(s,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Ll[s]===e||Ll[s]||i_)return;Ll[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=lA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{i_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=uA(a),G=i("text"),ne=document.getElementById(G)||document.createElement("span"),re=i("learnmore"),te=document.getElementById(re)||document.createElement("a"),_e=i("preprendIcon"),Ne=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;p(pe),E(te,re);const lt=y();_(Ne,_e),pe.append(Ne,ne,te,lt),document.body.appendChild(pe)}c?(ne.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function hA(){const s=vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const s=bn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function pA(){return!hA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const vA="FirebaseError";class Us extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=vA,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?EA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Us(l,p,a)}}function EA(s,e){return s.replace(TA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const TA=/\{\$([^}]+)}/g;function bA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function xr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(s_(c)&&s_(d)){if(!xr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function s_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function AA(s,e){const i=new SA(s,e);return i.subscribe.bind(i)}class SA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function xn(s){return s&&s._delegate?s._delegate:s}let fa=class{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const ua="[DEFAULT]";class xA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new aA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===ua?void 0:s}function RA(s){return s.instantiationMode==="EAGER"}class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const NA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},DA=Qe.INFO,OA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},MA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=OA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=DA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const VA=(s,e)=>e.some(i=>s instanceof i);let r_,a_;function kA(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,sm=new WeakMap,Hv=new WeakMap,Bd=new WeakMap,Lm=new WeakMap;function LA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Tr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qv.set(i,s)}).catch(()=>{}),Lm.set(e,s),e}function PA(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jA(s){rm=s(rm)}function zA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Hv.set(a,e.sort?e.sort():[e]),Tr(a)}:UA().includes(s)?function(...e){return s.apply(qd(this),e),Tr(qv.get(this))}:function(...e){return Tr(s.apply(qd(this),e))}}function BA(s){return typeof s=="function"?zA(s):(s instanceof IDBTransaction&&PA(s),VA(s,kA())?new Proxy(s,rm):s)}function Tr(s){if(s instanceof IDBRequest)return LA(s);if(Bd.has(s))return Bd.get(s);const e=BA(s);return e!==s&&(Bd.set(s,e),Lm.set(e,s)),e}const qd=s=>Lm.get(s);function qA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=Tr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Tr(d.result),_.oldVersion,_.newVersion,Tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const HA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],Hd=new Map;function o_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=GA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||HA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(e,c),c}jA(s=>({...s,get:(e,i,a)=>o_(e,i)||s.get(e,i,a),has:(e,i)=>!!o_(e,i)||s.has(e,i)}));class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function YA(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",l_="0.14.6";const Ns=new Um("@firebase/app"),QA="@firebase/app-compat",KA="@firebase/analytics-compat",$A="@firebase/analytics",XA="@firebase/app-check-compat",ZA="@firebase/app-check",JA="@firebase/auth",WA="@firebase/auth-compat",eS="@firebase/database",tS="@firebase/data-connect",nS="@firebase/database-compat",iS="@firebase/functions",sS="@firebase/functions-compat",rS="@firebase/installations",aS="@firebase/installations-compat",oS="@firebase/messaging",lS="@firebase/messaging-compat",uS="@firebase/performance",cS="@firebase/performance-compat",hS="@firebase/remote-config",fS="@firebase/remote-config-compat",dS="@firebase/storage",mS="@firebase/storage-compat",gS="@firebase/firestore",pS="@firebase/ai",yS="@firebase/firestore-compat",_S="firebase",vS="12.6.0";const om="[DEFAULT]",ES={[am]:"fire-core",[QA]:"fire-core-compat",[$A]:"fire-analytics",[KA]:"fire-analytics-compat",[ZA]:"fire-app-check",[XA]:"fire-app-check-compat",[JA]:"fire-auth",[WA]:"fire-auth-compat",[eS]:"fire-rtdb",[tS]:"fire-data-connect",[nS]:"fire-rtdb-compat",[iS]:"fire-fn",[sS]:"fire-fn-compat",[rS]:"fire-iid",[aS]:"fire-iid-compat",[oS]:"fire-fcm",[lS]:"fire-fcm-compat",[uS]:"fire-perf",[cS]:"fire-perf-compat",[hS]:"fire-rc",[fS]:"fire-rc-compat",[dS]:"fire-gcs",[mS]:"fire-gcs-compat",[gS]:"fire-fst",[yS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};const eh=new Map,TS=new Map,lm=new Map;function u_(s,e){try{s.container.addComponent(e)}catch(i){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function yo(s){const e=s.name;if(lm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of eh.values())u_(i,s);for(const i of TS.values())u_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function li(s){return s==null?!1:s.settings!==void 0}const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Wl("app","Firebase",bS);class AS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const xo=vS;function Gv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Pv()),!i)throw br.create("no-options");const c=eh.get(l);if(c){if(xr(i,c.options)&&xr(a,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new IA(l);for(const _ of lm.values())d.addComponent(_);const p=new AS(i,a,d);return eh.set(l,p),p}function Fv(s=om){const e=eh.get(s);if(!e&&s===om&&Pv())return Gv();if(!e)throw br.create("no-app",{appName:s});return e}function Ar(s,e,i){let a=ES[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(d.join(" "));return}yo(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const SS="firebase-heartbeat-database",wS=1,Gl="firebase-heartbeat-store";let Gd=null;function Yv(){return Gd||(Gd=qA(SS,wS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function xS(s){try{const i=(await Yv()).transaction(Gl),a=await i.objectStore(Gl).get(Qv(s));return await i.done,a}catch(e){if(e instanceof Us)Ns.warn(e.message);else{const i=br.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}async function c_(s,e){try{const a=(await Yv()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,Qv(s)),await a.done}catch(i){if(i instanceof Us)Ns.warn(i.message);else{const a=br.create("idb-set",{originalErrorMessage:i?.message});Ns.warn(a.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const CS=1024,RS=30;class IS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>RS){const l=OS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:i,unsentEntries:a}=NS(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ns.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function NS(s,e=CS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),f_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),f_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function f_(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function OS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function MS(s){yo(new fa("platform-logger",e=>new FA(e),"PRIVATE")),yo(new fa("heartbeat",e=>new IS(e),"PRIVATE")),Ar(am,l_,s),Ar(am,l_,"esm2020"),Ar("fire-js","")}MS("");var VS="firebase",kS="12.6.0";Ar(VS,kS,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const US=Kv,$v=new Wl("auth","Firebase",Kv());const th=new Um("@firebase/auth");function LS(s,...e){th.logLevel<=Qe.WARN&&th.warn(`Auth (${xo}): ${s}`,...e)}function Bc(s,...e){th.logLevel<=Qe.ERROR&&th.error(`Auth (${xo}): ${s}`,...e)}function Ds(s,...e){throw jm(s,...e)}function Yi(s,...e){return jm(s,...e)}function Xv(s,e,i){const a={...US(),[e]:i};return new Wl("auth","Firebase",a).create(e,{appName:s.name})}function Is(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return $v.create(s,...e)}function Re(s,e,...i){if(!s)throw jm(e,...i)}function Cs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function Os(s,e){s||Cs(e)}function um(){return typeof self<"u"&&self.location?.href||""}function PS(){return d_()==="http:"||d_()==="https:"}function d_(){return typeof self<"u"&&self.location?.protocol||null}function jS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PS()||dA()||"connection"in navigator)?navigator.onLine:!0}function zS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Os(i>e,"Short delay should be less than long delay!"),this.isMobile=cA()||mA()}get(){return jS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zm(s,e){Os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Zv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HS=new tu(3e4,6e4);function nu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Co(s,e,i,a,l={}){return Jv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=eu({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return fA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&wo(s.emulatorConfig.host)&&(y.credentials="include"),Zv.fetch()(await Wv(s,s.config.apiHost,i,p),y)})}async function Jv(s,e,i){s._canInitEmulator=!1;const a={...BS,...e};try{const l=new GS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xv(s,E,y);Ds(s,E)}}catch(l){if(l instanceof Us)throw l;Ds(s,"network-request-failed",{message:String(l)})}}async function Bm(s,e,i,a,l={}){const c=await Co(s,e,i,a,l);return"mfaPendingCredential"in c&&Ds(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Wv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?zm(s.config,l):`${s.config.apiScheme}://${l}`;return qS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class GS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Yi(this.auth,"network-request-failed")),HS.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Yi(s,e,a);return l.customData._tokenResponse=i,l}async function FS(s,e){return Co(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return Co(s,"POST","/v1/accounts:lookup",e)}function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YS(s,e=!1){const i=xn(s),a=await i.getIdToken(e),l=qm(a);Re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Pl(Fd(l.auth_time)),issuedAtTime:Pl(Fd(l.iat)),expirationTime:Pl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function qm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Uv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function m_(s){const e=qm(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Us&&QS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function QS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class KS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Fl(s,nh(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?e1(l.providerUserInfo):[],d=XS(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function $S(s){const e=xn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function e1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ZS(s,e){const i=await Jv(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Wv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&wo(s.emulatorConfig.host)&&(_.credentials="include"),Zv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function JS(s,e){return Co(s,"POST","/v2/accounts:revokeToken",nu(s,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=m_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await ZS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ho;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Cs("not implemented")}}function gr(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new KS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return YS(this,e)}reload(){return $S(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Fl(this,FS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:ne,stsTokenManager:re}=i;Re(w&&re,e,"internal-error");const te=ho.fromJSON(this.name,re);Re(typeof w=="string",e,"internal-error"),gr(a,e.name),gr(l,e.name),Re(typeof M=="boolean",e,"internal-error"),Re(typeof G=="boolean",e,"internal-error"),gr(c,e.name),gr(d,e.name),gr(p,e.name),gr(_,e.name),gr(y,e.name),gr(E,e.name);const _e=new bi({uid:w,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:y,lastLoginAt:E});return ne&&Array.isArray(ne)&&(_e.providerData=ne.map(Ne=>({...Ne}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,i,a=!1){const l=new ho;l.updateFromServerResponse(i);const c=new bi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Re(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?e1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ho;p.updateFromIdToken(a);const _=new bi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const g_=new Map;function Rs(s){Os(s instanceof Function,"Expected a class definition");let e=g_.get(s);return e?(Os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,g_.set(s,e),e)}class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}t1.type="NONE";const p_=t1;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class fo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fo(Rs(p_),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Rs(p_);const d=qc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const M=await nh(e,{idToken:E}).catch(()=>{});if(!M)break;w=await bi._fromGetAccountInfoResponse(e,M,E)}else w=bi._fromJSON(e,E);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new fo(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fo(c,e,a))}}function y_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(l1(e))return"Webos";if(i1(e))return"Safari";if((e.includes("chrome/")||s1(e))&&!e.includes("edge/"))return"Chrome";if(a1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function n1(s=bn()){return/firefox\//i.test(s)}function i1(s=bn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s1(s=bn()){return/crios\//i.test(s)}function r1(s=bn()){return/iemobile/i.test(s)}function a1(s=bn()){return/android/i.test(s)}function o1(s=bn()){return/blackberry/i.test(s)}function l1(s=bn()){return/webos/i.test(s)}function Hm(s=bn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function WS(s=bn()){return Hm(s)&&!!window.navigator?.standalone}function ew(){return gA()&&document.documentMode===10}function u1(s=bn()){return Hm(s)||a1(s)||l1(s)||o1(s)||/windows phone/i.test(s)||r1(s)}function c1(s,e=[]){let i;switch(s){case"Browser":i=y_(bn());break;case"Worker":i=`${y_(bn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${xo}/${a}`}class tw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nw(s,e={}){return Co(s,"GET","/v2/passwordPolicy",nu(s,e))}const iw=6;class sw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$v,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Is(this));const i=e?xn(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nw(this),i=new sw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await JS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Rs(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function iu(s){return xn(s)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=AA(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aw(s){Gm=s}function ow(s){return Gm.loadJS(s)}function lw(){return Gm.gapiScript}function uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cw(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(xr(c,e??{}))return l;Ds(l,"already-initialized")}return i.initialize({options:e})}function hw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Rs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fw(s,e,i){const a=iu(s);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=h1(e),{host:d,port:p}=dw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(xr(y,a.config.emulator)&&xr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,wo(d)?(zv(`${c}//${d}${_}`),Bv("Auth",!0)):mw()}function h1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dw(s){const e=h1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:v_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:v_(d)}}}function v_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class f1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,i){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function mo(s,e){return Bm(s,"POST","/v1/accounts:signInWithIdp",nu(s,e))}const gw="http://localhost";class da extends f1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new da(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return mo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,mo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mo(e,i)}buildRequest(){const e={requestUri:gw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class d1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pr extends su{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";class yr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return yr.credential(i,a)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";class _r extends su{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";class vr extends su{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";async function pw(s,e){return Bm(s,"POST","/v1/accounts:signUp",nu(s,e))}class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await bi._fromIdTokenResponse(e,a,l),d=E_(a);return new Ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=E_(a);return new Ms({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function E_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function yw(s){if(li(s.app))return Promise.reject(Is(s));const e=iu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ms({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await pw(e,{returnSecureToken:!0}),a=await Ms._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class sh extends Us{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new sh(e,i,a,l)}}function m1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function _w(s,e,i=!1){const a=await Fl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Ms._forOperation(s,"link",a)}async function vw(s,e,i=!1){const{auth:a}=s;if(li(a.app))return Promise.reject(Is(a));const l="reauthenticate";try{const c=await Fl(s,m1(a,l,e,s),i);Re(c.idToken,a,"internal-error");const d=qm(c.idToken);Re(d,a,"internal-error");const{sub:p}=d;return Re(s.uid===p,a,"user-mismatch"),Ms._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ds(a,"user-mismatch"),c}}async function Ew(s,e,i=!1){if(li(s.app))return Promise.reject(Is(s));const a="signIn",l=await m1(s,a,e),c=await Ms._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Tw(s,e){return Bm(s,"POST","/v1/accounts:signInWithCustomToken",nu(s,e))}async function bw(s,e){if(li(s.app))return Promise.reject(Is(s));const i=iu(s),a=await Tw(i,{token:e,returnSecureToken:!0}),l=await Ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Aw(s,e,i,a){return xn(s).onIdTokenChanged(e,i,a)}function Sw(s,e,i){return xn(s).beforeAuthStateChanged(e,i)}function ww(s,e,i,a){return xn(s).onAuthStateChanged(e,i,a)}const rh="__sak";class g1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xw=1e3,Cw=10;class p1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ew()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Cw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}p1.type="LOCAL";const Rw=p1;class y1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}y1.type="SESSION";const _1=y1;function Iw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Eh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Iw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Fm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Nw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Fm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function Dw(s){Qi().location.href=s}function v1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Ow(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mw(){return navigator?.serviceWorker?.controller||null}function Vw(){return v1()?self:null}const E1="firebaseLocalStorageDb",kw=1,ah="firebaseLocalStorage",T1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Uw(){const s=indexedDB.deleteDatabase(E1);return new ru(s).toPromise()}function hm(){const s=indexedDB.open(E1,kw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:T1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await Uw(),e(await hm()))})})}async function T_(s,e,i){const a=Th(s,!0).put({[T1]:e,value:i});return new ru(a).toPromise()}async function Lw(s,e){const i=Th(s,!1).get(e),a=await new ru(i).toPromise();return a===void 0?null:a.value}function b_(s,e){const i=Th(s,!0).delete(e);return new ru(i).toPromise()}const Pw=800,jw=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>jw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(Vw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ow(),!this.activeServiceWorker)return;this.sender=new Nw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hm();return await T_(e,rh,"1"),await b_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>T_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Lw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>b_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const zw=b1;new tu(3e4,6e4);function Bw(s,e){return e?Rs(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ym extends f1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function qw(s){return Ew(s.auth,new Ym(s),s.bypassAuthState)}function Hw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),vw(i,new Ym(s),s.bypassAuthState)}async function Gw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),_w(i,new Ym(s),s.bypassAuthState)}class A1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qw;case"linkViaPopup":case"linkViaRedirect":return Gw;case"reauthViaPopup":case"reauthViaRedirect":return Hw;default:Ds(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fw=new tu(2e3,1e4);class uo extends A1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fw.get())};e()}}uo.currentPopupAction=null;const Yw="pendingRedirect",Hc=new Map;class Qw extends A1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const a=await Kw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kw(s,e){const i=Zw(e),a=Xw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function $w(s,e){Hc.set(s._key(),e)}function Xw(s){return Rs(s._redirectPersistence)}function Zw(s){return qc(Yw,s.config.apiKey,s.name)}async function Jw(s,e,i=!1){if(li(s.app))return Promise.reject(Is(s));const a=iu(s),l=Bw(a,e),d=await new Qw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Ww=600*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!S1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Yi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(A_(e))}saveEventToCache(e){this.cachedEventUids.add(A_(e)),this.lastProcessedEventTime=Date.now()}}function A_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function S1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function t2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S1(s);default:return!1}}async function n2(s,e={}){return Co(s,"GET","/v1/projects",e)}const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function r2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await n2(s);for(const i of e)try{if(a2(i))return}catch{}Ds(s,"unauthorized-domain")}function a2(s){const e=um(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!s2.test(i))return!1;if(i2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const o2=new tu(3e4,6e4);function S_(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function l2(s){return new Promise((e,i)=>{function a(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),i(Yi(s,"network-request-failed"))},timeout:o2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=uw("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Yi(s,"network-request-failed"))},ow(`${lw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function u2(s){return Gc=Gc||l2(s),Gc}const c2=new tu(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?zm(e,f2):`https://${s.config.authDomain}/${h2}`,a={apiKey:e.apiKey,appName:s.name,v:xo},l=m2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function p2(s){const e=await u2(s),i=Qi().gapi;return Re(i,s,"internal-error"),e.open({where:document.body,url:g2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Yi(s,"network-request-failed"),p=Qi().setTimeout(()=>{c(d)},c2.get());function _(){Qi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(s,e,i,a=_2,l=v2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...y2,width:a.toString(),height:l.toString(),top:c,left:d},y=bn().toLowerCase();i&&(p=s1(y)?E2:i),n1(y)&&(e=e||T2,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[G,ne])=>`${M}${G}=${ne},`,"");if(WS(y)&&p!=="_self")return A2(e||"",p),new w_(null);const w=window.open(e||"",p,E);Re(w,s,"popup-blocked");try{w.focus()}catch{}return new w_(w)}function A2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const S2="__/auth/handler",w2="emulator/auth/handler",x2=encodeURIComponent("fac");async function x_(s,e,i,a,l,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:xo,eventId:l};if(e instanceof d1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",bA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof su){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await s._getAppCheckToken(),y=_?`#${x2}=${encodeURIComponent(_)}`:"";return`${C2(s)}?${eu(p).slice(1)}${y}`}function C2({config:s}){return s.emulator?zm(s,w2):`https://${s.authDomain}/${S2}`}const Yd="webStorageSupport";class R2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=Jw,this._overrideRedirectResult=$w}async _openPopup(e,i,a,l){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x_(e,i,a,um(),l);return b2(e,c,Fm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await x_(e,i,a,um(),l);return Dw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await p2(e),a=new e2(e);return i.register("authEvent",l=>(Re(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=r2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return u1()||i1()||Hm()}}const I2=R2;var C_="@firebase/auth",R_="1.11.1";class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function D2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(s){yo(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c1(s)},y=new rw(a,l,c,_);return hw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yo(new fa("auth-internal",e=>{const i=iu(e.getProvider("auth").getImmediate());return(a=>new N2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(C_,R_,D2(s)),Ar(C_,R_,"esm2020")}const M2=300,V2=jv("authIdTokenMaxAge")||M2;let I_=null;const k2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>V2)return;const l=i?.token;I_!==l&&(I_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function U2(s=Fv()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=cw(s,{popupRedirectResolver:I2,persistence:[zw,Rw,_1]}),a=jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=k2(c.toString());Sw(i,d,()=>d(i.currentUser)),Aw(i,p=>d(p))}}const l=Lv("auth");return l&&fw(i,`http://${l}`),i}function L2(){return document.getElementsByTagName("head")?.[0]??document}aw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Yi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",L2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Sr,w1;(function(){var s;function e(I,S){function x(){}x.prototype=S.prototype,I.F=S.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,U){for(var C=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)C[ut-2]=arguments[ut];return S.prototype[N].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,x){x||(x=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=I.g[0],x=I.g[1],N=I.g[2];let U=I.g[3],C;C=S+(U^x&(N^U))+V[0]+3614090360&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(N^S&(x^N))+V[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(x^U&(S^x))+V[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=x+(S^N&(U^S))+V[3]+3250441966&4294967295,x=N+(C<<22&4294967295|C>>>10),C=S+(U^x&(N^U))+V[4]+4118548399&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(N^S&(x^N))+V[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(x^U&(S^x))+V[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=x+(S^N&(U^S))+V[7]+4249261313&4294967295,x=N+(C<<22&4294967295|C>>>10),C=S+(U^x&(N^U))+V[8]+1770035416&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(N^S&(x^N))+V[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(x^U&(S^x))+V[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=x+(S^N&(U^S))+V[11]+2304563134&4294967295,x=N+(C<<22&4294967295|C>>>10),C=S+(U^x&(N^U))+V[12]+1804603682&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(N^S&(x^N))+V[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=N+(x^U&(S^x))+V[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=x+(S^N&(U^S))+V[15]+1236535329&4294967295,x=N+(C<<22&4294967295|C>>>10),C=S+(N^U&(x^N))+V[1]+4129170786&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^N&(S^x))+V[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^x&(U^S))+V[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(N^U))+V[0]+3921069994&4294967295,x=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(x^N))+V[5]+3593408605&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^N&(S^x))+V[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^x&(U^S))+V[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(N^U))+V[4]+3889429448&4294967295,x=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(x^N))+V[9]+568446438&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^N&(S^x))+V[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^x&(U^S))+V[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(N^U))+V[8]+1163531501&4294967295,x=N+(C<<20&4294967295|C>>>12),C=S+(N^U&(x^N))+V[13]+2850285829&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^N&(S^x))+V[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=N+(S^x&(U^S))+V[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(N^U))+V[12]+2368359562&4294967295,x=N+(C<<20&4294967295|C>>>12),C=S+(x^N^U)+V[5]+4294588738&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^N)+V[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^x)+V[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=x+(N^U^S)+V[14]+4259657740&4294967295,x=N+(C<<23&4294967295|C>>>9),C=S+(x^N^U)+V[1]+2763975236&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^N)+V[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^x)+V[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=x+(N^U^S)+V[10]+3200236656&4294967295,x=N+(C<<23&4294967295|C>>>9),C=S+(x^N^U)+V[13]+681279174&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^N)+V[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^x)+V[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=x+(N^U^S)+V[6]+76029189&4294967295,x=N+(C<<23&4294967295|C>>>9),C=S+(x^N^U)+V[9]+3654602809&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^N)+V[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=N+(U^S^x)+V[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=x+(N^U^S)+V[2]+3299628645&4294967295,x=N+(C<<23&4294967295|C>>>9),C=S+(N^(x|~U))+V[0]+4096336452&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~N))+V[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~x))+V[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=x+(U^(N|~S))+V[5]+4237533241&4294967295,x=N+(C<<21&4294967295|C>>>11),C=S+(N^(x|~U))+V[12]+1700485571&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~N))+V[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~x))+V[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=x+(U^(N|~S))+V[1]+2240044497&4294967295,x=N+(C<<21&4294967295|C>>>11),C=S+(N^(x|~U))+V[8]+1873313359&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~N))+V[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~x))+V[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=x+(U^(N|~S))+V[13]+1309151649&4294967295,x=N+(C<<21&4294967295|C>>>11),C=S+(N^(x|~U))+V[4]+4149444226&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~N))+V[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=N+(S^(U|~x))+V[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=x+(U^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const x=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=x;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[S++]=this.g[x]>>>V&255;return I};function c(I,S){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=S(I)}function d(I,S){this.h=S;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==S||(x[N]=U,V=!1)}this.g=x}var p={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return te(y(-I));const S=[];let x=1;for(let V=0;I>=x;V++)S[V]=I/x|0,x*=4294967296;return new d(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return te(E(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let V=w;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const C=parseInt(I.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(C))):(V=V.j(x),V=V.add(y(C)))}return V}var w=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-te(this).m();let I=0,S=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ne(this))return"0";if(re(this))return"-"+te(this).toString(I);const S=y(Math.pow(I,6));var x=this;let V="";for(;;){const N=lt(x,S).g;x=_e(x,N.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,ne(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ne(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function re(I){return I.h==-1}s.l=function(I){return I=_e(this,I),re(I)?-1:ne(I)?0:1};function te(I){const S=I.g.length,x=[];for(let V=0;V<S;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}s.abs=function(){return re(this)?te(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=C>>>16,U&=65535,C&=65535,x[N]=C<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function _e(I,S){return I.add(te(S))}s.j=function(I){if(ne(this)||ne(I))return w;if(re(this))return re(I)?te(this).j(te(I)):te(te(this).j(I));if(re(I))return te(this.j(te(I)));if(this.l(G)<0&&I.l(G)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,x=[];for(var V=0;V<2*S;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,C=this.i(V)&65535,ut=I.i(N)>>>16,Rt=I.i(N)&65535;x[2*V+2*N]+=C*Rt,Ne(x,2*V+2*N),x[2*V+2*N+1]+=U*Rt,Ne(x,2*V+2*N+1),x[2*V+2*N+1]+=C*ut,Ne(x,2*V+2*N+1),x[2*V+2*N+2]+=U*ut,Ne(x,2*V+2*N+2)}for(I=0;I<S;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=S;I<2*S;I++)x[I]=0;return new d(x,0)};function Ne(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pe(I,S){this.g=I,this.h=S}function lt(I,S){if(ne(S))throw Error("division by zero");if(ne(I))return new pe(w,w);if(re(I))return S=lt(te(I),S),new pe(te(S.g),te(S.h));if(re(S))return S=lt(I,te(S)),new pe(te(S.g),S.h);if(I.g.length>30){if(re(I)||re(S))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=S;V.l(I)<=0;)x=gt(x),V=gt(V);var N=ze(x,1),U=ze(V,1);for(V=ze(V,2),x=ze(x,2);!ne(V);){var C=U.add(V);C.l(I)<=0&&(N=N.add(x),U=C),V=ze(V,1),x=ze(x,1)}return S=_e(I,N.j(S)),new pe(N,S)}for(N=w;I.l(S)>=0;){for(x=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),C=U.j(S);re(C)||C.l(I)>0;)x-=V,U=y(x),C=U.j(S);ne(U)&&(U=M),N=N.add(U),I=_e(I,C)}return new pe(N,I)}s.B=function(I){return lt(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<S;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function gt(I){const S=I.g.length+1,x=[];for(let V=0;V<S;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function ze(I,S){const x=S>>5;S%=32;const V=I.g.length-x,N=[];for(let U=0;U<V;U++)N[U]=S>0?I.i(U+x)>>>S|I.i(U+x+1)<<32-S:I.i(U+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,w1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Sr=d}).apply(typeof N_<"u"?N_:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var x1,Ml,C1,Fc,fm,R1,I1,N1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ie=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ie[Ue-2]=arguments[Ue];return m.prototype[L].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ne(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=L[ie]}else u.push(L)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,v){const b=pe.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new re(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,ze=!1,I=new Ne,S=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(x)}};function x(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){te(v)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ut,N),ut.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=Ve(u,m,b,L);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new se(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Ee(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ve(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Mt={};function bt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)bt(u,m[B],v,b,L);return null}return v=ts(v),u&&u[Rt]?u.J(m,v,p(b)?!!b.capture:!1,L):es(u,m,v,!1,b,L)}function es(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let Ue=wi(u);if(Ue||(u[Ge]=Ue=new ee(u)),v=Ue.add(m,v,b,ie,B),v.proxy)return v;if(b=ci(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ci(){function u(v){return m.call(u.src,u.listener,v)}const m=kr;return u}function hi(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)hi(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=ts(v),u&&u[Rt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ve(m,v,b,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=wi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ve(m,v,b,L)),(v=u>-1?m[u]:null)&&Ls(v))}function Ls(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Rt])Ee(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Cn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=wi(m))?(Ee(v,u),v.h==0&&(v.src=null,m[Ge]=null)):fe(u)}}}function Cn(u){return u in Mt?Mt[u]:Mt[u]="on"+u}function kr(u,m){if(u.da)u=!0;else{m=new ut(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ls(u),u=v.call(b,m)}return u}function wi(u){return u=u[Ge],u instanceof ee?u:null}var Ur="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(u){return typeof u=="function"?u:(u[Ur]||(u[Ur]=function(m){return u.handleEvent(m)}),u[Ur])}function Vt(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}w(Vt,V),Vt.prototype[Rt]=!0,Vt.prototype.removeEventListener=function(u,m,v,b){hi(this,u,m,v,b)};function tt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),ae(m,L)}L=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],L=Ln(B,b,!0,m)&&L;if(B=m.g=u,L=Ln(B,b,!0,m)&&L,L=Ln(B,b,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],L=Ln(B,b,!1,m)&&L}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)fe(v[b]);delete u.g[m],u.h--}}this.G=null},Vt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Vt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Ln(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const Ue=ie.listener,jt=ie.ha||ie.src;ie.fa&&Ee(u.i,ie),L=Ue.call(jt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ns(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function H(u){u.g=ns(()=>{u.g=null,u.i&&(u.i=!1,H(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Z extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function W(u){V.call(this),this.h=u,this.g={}}w(W,V);var oe=[];function Te(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ls(m)},u),u.g={}}W.prototype.N=function(){W.Z.N.call(this),Te(this)},W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=d.JSON.stringify,ue=d.JSON.parse,Ze=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function de(){}function Ie(){}var Se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}w(ke,N);function xe(){N.call(this,"c")}w(xe,N);var nt={},is=null;function xi(){return is=is||new Vt}nt.Ia="serverreachability";function Gt(u){N.call(this,nt.Ia,u)}w(Gt,N);function It(u){const m=xi();tt(m,new Gt(m))}nt.STAT_EVENT="statevent";function Kn(u,m){N.call(this,nt.STAT_EVENT,u),this.stat=m}w(Kn,N);function le(u){const m=xi();tt(m,new Kn(m,u))}nt.Ja="timingevent";function ve(u,m){N.call(this,nt.Ja,u),this.size=m}w(ve,N);function Ce(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function rt(){this.g=!0}rt.prototype.ua=function(){this.g=!1};function ss(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ie="",Ue=B.split("&");for(let at=0;at<Ue.length;at++){var jt=Ue[at].split("=");if(jt.length>1){const xt=jt[0];jt=jt[1];const Wn=xt.split("_");ie=Wn.length>=2&&Wn[1]=="type"?ie+(xt+"="+jt+"&"):ie+(xt+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function Lr(u,m,v,b,L,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ie})}function $n(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+rs(u,v)+(b?" "+b:"")})}function Nt(u,m){u.info(function(){return"TIMEOUT: "+m})}rt.prototype.info=function(){};function rs(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return Pe(B)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Pr(){}w(Pr,de),Pr.prototype.g=function(){return new XMLHttpRequest},Mo=new Pr;function os(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function fi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new W(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Ft={},an={};function Ci(u,m,v){u.M=1,u.A=jr(Qt(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ri(u),u.B=Qt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new di,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Z(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(oe[0]=L.toString()),L=oe);for(let B=0;B<L.length;B++){const ie=bt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),It(),ss(u.i,u.v,u.B,u.l,u.S,u.u)}fi.prototype.ba=function(u){u=u.target;const m=this.O;m&&pi(u)==3?m.j():this.Y(u)},fi.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=pi(this.g),jt=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Ue!=4||jt==7||(jt==8||at<=0?It(3):It(2)),Ii(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,Lr(this.i,this.v,this.B,this.l,this.S,Ue,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var B=b;break t}}B=null}if(u=B)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,le(12),Pn(this),Xn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<v.length;)if(xt=gu(this,v),xt==an){Ue==4&&(this.m=4,le(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Ft){this.m=4,le(15),$n(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,xt,null),Ni(this,xt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||v.length!=0||this.h.h||(this.m=1,le(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,v,"[Invalid Chunked Response]"),Pn(this),Xn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(ie),ie.P=!0,le(11))}}else $n(this.i,this.l,v,null),Ni(this,v);Ue==4&&Pn(this),this.o&&!this.K&&(Ue==4?Su(this.j,this):(this.o=!1,Ri(this)))}else us(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,le(12)):(this.m=0,le(13)),Pn(this),Xn(this)}}}catch{}finally{}};function jh(u){if(!mu(u))return u.g.la();const m=cn(u.g);if(m==="")return"";let v="";const b=m.length,L=pi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Pn(u),Xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function gu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?an:(v=Number(m.substring(v,b)),isNaN(v)?Ft:(b+=1,b+v>m.length?an:(m=m.slice(b,b+v),u.C=b+v,m)))}fi.prototype.cancel=function(){this.K=!0,Pn(this)};function Ri(u){u.T=Date.now()+u.H,Ea(u,u.H)}function Ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ce(y(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}fi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nt(this.i,this.B),this.M!=2&&(It(),le(17)),Pn(this),this.m=2,Xn(this)):Ea(this,this.T-u)};function Xn(u){u.j.I==0||u.K||Su(u.j,u)}function Pn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Te(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ra(v),Fs(v);else break e;Yr(v),le(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ce(y(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Ra(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let at=L[m];const xt=at[0];if(!(xt<=v.K))if(v.K=xt,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const Wn=at[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const ji=at[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const yi=at[5];yi!=null&&typeof yi=="number"&&yi>0&&(b=1.5*yi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const _i=u.g;if(_i){const Qr=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var B=b.h;B.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Uo(B,B.h),B.h=null))}if(b.G){const Ia=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(b.wa=Ia,ht(b.J,b.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=Cu(b,b.L?b.ba:null,b.W),ie.L){Lo(b.h,ie);var Ue=ie,jt=b.O;jt&&(Ue.H=jt),Ue.D&&(Ii(Ue),Ri(Ue)),b.g=ie}else bu(b);v.i.length>0&&Li(v)}else at[0]!="stop"&&at[0]!="close"||Pi(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Pi(v,7):Yo(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}It(4)}catch{}}var Yt=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Uo(u,m){u.g?u.g.add(m):u.h=m}function Lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Po(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof jn?(this.l=u.l,on(this,u.j),this.o=u.o,this.g=u.g,Ps(this,u.u),this.h=u.h,jo(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,on(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Ps(this,m[4]),this.h=Mi(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}jn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(zr(m,ba,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zr(m,ba,!0),"@"),u.push(os(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(zr(v,v.charAt(0)=="/"?zo:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",zr(v,_u)),u.join("")},jn.prototype.resolve=function(u){const m=Qt(this);let v=!!u.j;v?on(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ps(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ie=0;ie<L.length;){const Ue=L[ie++];Ue=="."?b&&ie==L.length&&B.push(""):Ue==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==L.length&&B.push("")):(B.push(Ue),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?jo(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Qt(u){return new jn(u)}function on(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jo(u,m,v){m instanceof zs?(u.i=m,Sa(u.i,u.l)):(v||(m=zr(m,js)),u.i=new zs(m,u.l))}function ht(u,m,v){u.i.set(m,v)}function jr(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,yu=/[#\?:]/g,zo=/[#\?]/g,js=/[#\?@]/g,_u=/#/g;function zs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=zs.prototype,s.add=function(u,m){In(this),this.i=null,u=Bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){In(u),m=Bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bo(u,m){return In(u),m=Bs(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function qo(u,m){In(u);let v=[];if(typeof m=="string")Bo(u,m)&&(v=v.concat(u.g.get(Bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return In(this),this.i=null,u=Bs(this,u),Bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=qo(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Bs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=os(v);v=qo(this,v);for(let B=0;B<v.length;B++){let ie=L;v[B]!==""&&(ie+="="+os(v[B])),u.push(ie)}}return this.i=u.join("&")};function Eu(u){const m=new zs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(vu(this,b),Aa(this,L,v))},u)),u.j=m}function mi(u,m){const v=new rt;if(d.Image){const b=new Image;b.onload=E(Zn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Zn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Zn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Zn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ho(u,m){const v=new rt,b=new AbortController,L=setTimeout(()=>{b.abort(),Zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Zn(v,"TestPingServer: ok",!0,m):Zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Zn(v,"TestPingServer: error",!1,m)})}function Zn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function qs(){this.g=new Ze}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Vi,de),Vi.prototype.g=function(){return new Br(this.i,this.h)};function Br(u,m){Vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Br,Vt),s=Br.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,gi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hs(this):gi(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Hs(this))},s.Na=function(u){this.g&&(this.response=u,Hs(this))},s.ga=function(){this.g&&Hs(this)};function Hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,gi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function gi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return He(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function qr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Jn(v),typeof u=="string"?v!=null&&os(v):ht(u,m,v))}function pt(u){Vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(pt,Vt);var ki=/^https?$/i,Go=["POST","PUT"];s=pt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Hr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Go,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Hr(this,B)}};function Hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fo(u),ls(u)}function Fo(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,tt(this,"complete"),tt(this,"abort"),ls(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),pt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},s.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&pi(u)==4)setTimeout(u.Ca.bind(u),0);else if(tt(u,"readystatechange"),pi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(pu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!ki.test(ie?ie.toLowerCase():"")}v=b}if(v)tt(u,"complete"),tt(u,"success");else{u.o=6;try{var L=pi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Fo(u)}}finally{ls(u)}}}}function ls(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||tt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function pi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return pi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ue(m)}};function cn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function us(u){const m={};u=(u.g&&pi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=du(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Gs(u){this.za=0,this.i=[],this.j=new rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new qs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){le(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Cu(this,null,this.W),Li(this)};function Yo(u){if(xa(u),u.I==3){var m=u.V++,v=Qt(u.J);if(ht(v,"SID",u.M),ht(v,"RID",m),ht(v,"TYPE","terminate"),Fr(u,v),m=new fi(u,u.j,m),m.M=2,m.A=jr(Qt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}xu(u)}function Fs(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function xa(u){Fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||S(),ze||(gt(),ze=!0),I.add(m,u),u.D=0}}function Ca(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ce(y(u.Ea,u,m),wu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new fi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Tu(this,L,m),v=Qt(this.J),ht(v,"RID",u),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),Fr(this,v),B&&(this.R?m="headers="+os(Jn(B))+"&"+m:this.u&&qr(v,this.u,B)),Uo(this.h,L),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",m),ht(v,"SID","null"),L.U=!0,Ci(L,v,null)):Ci(L,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||ko(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const b=Qt(u.J);ht(b,"SID",u.M),ht(b,"RID",v),ht(b,"AID",u.K),Fr(u,b),u.u&&u.o&&qr(b,u.u,u.o),v=new fi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,v),Ci(v,b,m)}function Fr(u,m){u.H&&He(u.H,function(v,b){ht(m,b,v)}),u.l&&He({},function(v,b){ht(m,b,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ue=-1;for(;;){const jt=["count="+v];Ue==-1?v>0?(Ue=L[0].g,jt.push("ofs="+Ue)):Ue=0:jt.push("ofs="+Ue);let at=!0;for(let xt=0;xt<v;xt++){var B=L[xt].g;const Wn=L[xt].map;if(B-=Ue,B<0)Ue=Math.max(0,L[xt].g-100),at=!1;else try{B="req"+B+"_"||"";try{var ie=Wn instanceof Map?Wn:Object.entries(Wn);for(const[ji,yi]of ie){let _i=yi;p(yi)&&(_i=Pe(yi)),jt.push(B+ji+"="+encodeURIComponent(_i))}}catch(ji){throw jt.push(B+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(Wn)}}if(at){ie=jt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||S(),ze||(gt(),ze=!0),I.add(m,u),u.A=0}}function Yr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ce(y(u.Da,u),wu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ce(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,le(10),Fs(this),Au(this))};function Ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new fi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Qt(u.na);ht(m,"RID","rpc"),ht(m,"SID",u.M),ht(m,"AID",u.K),ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(m,"TO",u.ia),ht(m,"TYPE","xmlhttp"),Fr(u,m),u.u&&u.o&&qr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(Qt(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Fs(this),Yr(this),le(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Ra(u),Ko(u),u.g=null;var b=2}else if(Oi(u.h,m))v=m.G,Lo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=xi(),tt(b,new ve(b,v)),Li(u)}else bu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ca(u,m)||b==2&&Yr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function wu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new jn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||on(b,"https"),jr(b),L?mi(b.toString(),v):Ho(b.toString(),v)}else le(2);u.I=0,u.l&&u.l.pa(m),xu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Po(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var b=v instanceof jn?Qt(v):new jn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ps(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new jn(null);b&&on(B,b),m&&(B.g=m),L&&Ps(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ht(b,v,m),ht(b,"VER",u.ka),Fr(u,b),b}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new pt(new Vi({ab:v})):new pt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}s=Iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new An(u,m)};function An(u,m){Vt.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new cs(this)}w(An,Vt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Yo(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Pe(u),u=v);m.i.push(new Yt(m.Ya++,u)),m.I==3&&Li(m)},An.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,An.Z.N.call(this)};function Nu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Nu,ke);function Du(){xe.call(this),this.status=1}w(Du,xe);function cs(u){this.g=u}w(cs,Iu),cs.prototype.ra=function(){tt(this.g,"a")},cs.prototype.qa=function(u){tt(this.g,new Nu(u))},cs.prototype.pa=function(u){tt(this.g,new Du)},cs.prototype.oa=function(){tt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,N1=function(){return new Ys},I1=function(){return xi()},R1=nt,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Fc=as,Oo.COMPLETE="complete",C1=Oo,Ie.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Ml=Ie,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,x1=pt}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",O_="4.9.2";let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Ro="12.3.0";const ma=new Um("@firebase/firestore");function ro(){return ma.logLevel}function ce(s,...e){if(ma.logLevel<=Qe.DEBUG){const i=e.map(Qm);ma.debug(`Firestore (${Ro}): ${s}`,...i)}}function Vs(s,...e){if(ma.logLevel<=Qe.ERROR){const i=e.map(Qm);ma.error(`Firestore (${Ro}): ${s}`,...i)}}function _o(s,...e){if(ma.logLevel<=Qe.WARN){const i=e.map(Qm);ma.warn(`Firestore (${Ro}): ${s}`,...i)}}function Qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,D1(s,a,i)}function D1(s,e,i){let a=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vs(a),new Error(a)}function ct(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||D1(e,l,a)}function Me(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class O1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class j2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ct(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new O1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class B2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ct(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ct(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=G2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ke(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Ke(l,c):Qd(l)?1:-1}return Ke(s.length,e.length)}const F2=55296,Y2=57343;function Qd(s){const e=s.charCodeAt(0);return e>=F2&&e<=Y2}function vo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const V_="__name__";class Fi{constructor(e,i,a){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&we(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ke(e.length,i.length)}static compareSegments(e,i){const a=Fi.isNumericId(e),l=Fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Dt extends Fi{construct(e,i,a){return new Dt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Dt(i)}static emptyPath(){return new Dt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Fi{construct(e,i,a){return new pn(e,i,a)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new pn([V_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(i)}static emptyPath(){return new pn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(Dt.fromString(e))}static fromName(e){return new be(Dt.fromString(e).popFirst(5))}static empty(){return new be(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Dt(e.slice()))}}function K2(s,e,i){if(!i)throw new ge(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $2(s,e,i,a){if(e===!0&&a===!0)throw new ge(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function k_(s){if(!be.isDocumentKey(s))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function $m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function Ai(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$m(s);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function en(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!M1(s))throw new ge(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(J.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,L_=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:en("string",wt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new wt(0,0))}static max(){return new De(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function X2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=De.fromTimestamp(a===1e9?new wt(i+1,0):new wt(i,a));return new Cr(l,be.empty(),e)}function Z2(s){return new Cr(s.readTime,s.key,Yl)}class Cr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Cr(De.min(),be.empty(),Yl)}static max(){return new Cr(De.max(),be.empty(),Yl)}}function J2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:Ke(s.largestBatchId,e.largestBatchId))}const W2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==W2)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function tx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Xm=-1;function Ah(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function nx(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const V1="";function ix(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=P_(e)),e=sx(s.get(i),e);return P_(e)}function sx(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case V1:i+="";break;default:i+=c}}return i}function P_(s){return s+V1+""}function j_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Mr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function k1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ot{constructor(e,i){this.comparator=e,this.root=i||gn.EMPTY}insert(e,i){return new Ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??gn.RED,this.left=l??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new gn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return gn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new gn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new rn(this.comparator);return i.data=e,i}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new rn(pn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class U1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new U1("Invalid base64 string: "+c):c}})(e);return new yn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new yn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(ct(!!s,39018),typeof s=="string"){let e=0;const i=rx.exec(s);if(ct(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(s.seconds),nanos:Ht(s.nanos)}}function Ht(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ir(s){return typeof s=="string"?yn.fromBase64String(s):yn.fromUint8Array(s)}const L1="server_timestamp",P1="__type__",j1="__previous_value__",z1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[P1]?.stringValue===L1}function Sh(s){const e=s.mapValue.fields[j1];return Zm(e)?Sh(e):e}function Ql(s){const e=Rr(s.mapValue.fields[z1].timestampValue);return new wt(e.seconds,e.nanos)}class ax{constructor(e,i,a,l,c,d,p,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const lh="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const B1="__type__",ox="__max__",Pc={mapValue:{}},q1="__vector__",uh="value";function Nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:ux(s)?9007199254740991:lx(s)?10:11:we(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const i=Nr(s);if(i!==Nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Rr(l.timestampValue),p=Rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Ir(l.bytesValue).isEqual(Ir(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ht(l.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(l.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ht(l.integerValue)===Ht(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ht(l.doubleValue),p=Ht(c.doubleValue);return d===p?oh(d)===oh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return vo(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(j_(d)!==j_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ji(d[_],p[_])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function $l(s,e){return(s.values||[]).find((i=>Ji(i,e)))!==void 0}function Eo(s,e){if(s===e)return 0;const i=Nr(s),a=Nr(e);if(i!==a)return Ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ht(c.integerValue||c.doubleValue),_=Ht(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return B_(s.timestampValue,e.timestampValue);case 4:return B_(Ql(s),Ql(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ir(c),_=Ir(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Ke(p[y],_[y]);if(E!==0)return E}return Ke(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ke(Ht(c.latitude),Ht(d.latitude));return p!==0?p:Ke(Ht(c.longitude),Ht(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return q_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[uh]?.arrayValue,E=_[uh]?.arrayValue,w=Ke(y?.values?.length||0,E?.values?.length||0);return w!==0?w:q_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Pc.mapValue&&d===Pc.mapValue)return 0;if(c===Pc.mapValue)return 1;if(d===Pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let w=0;w<_.length&&w<E.length;++w){const M=dm(_[w],E[w]);if(M!==0)return M;const G=Eo(p[_[w]],y[E[w]]);if(G!==0)return G}return Ke(_.length,E.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function B_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const i=Rr(s),a=Rr(e),l=Ke(i.seconds,a.seconds);return l!==0?l:Ke(i.nanos,a.nanos)}function q_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Eo(i[l],a[l]);if(c)return c}return Ke(i.length,a.length)}function To(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ir(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=mm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function Yc(s){switch(Nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(s);return e?16+Yc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Mr(a.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function gm(s){return!!s&&"integerValue"in s}function Jm(s){return!!s&&"arrayValue"in s}function H_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qc(s){return!!s&&"mapValue"in s}function lx(s){return(s?.mapValue?.fields||{})[B1]?.stringValue===q1}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Mr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(s.arrayValue.values[i]);return e}return{...s}}function ux(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=pn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=jl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Mr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Un(jl(this.value))}}function H1(s){const e=[];return Mr(s.fields,((i,a)=>{const l=new pn([i]);if(Qc(a)){const c=H1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Qn(e)}class Tn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Tn(e,0,De.min(),De.min(),De.min(),Un.empty(),0)}static newFoundDocument(e,i,a,l){return new Tn(e,1,i,De.min(),a,l,0)}static newNoDocument(e,i){return new Tn(e,2,i,De.min(),De.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,De.min(),De.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function F_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),i.key):a=Eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ji(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function cx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class G1{}class sn extends G1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new fx(e,i,a):i==="array-contains"?new gx(e,a):i==="in"?new px(e,a):i==="not-in"?new yx(e,a):i==="array-contains-any"?new _x(e,a):new sn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new dx(e,a):new mx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Eo(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Eo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends G1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return F1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F1(s){return s.op==="and"}function Y1(s){return hx(s)&&F1(s)}function hx(s){for(const e of s.filters)if(e instanceof Wi)return!1;return!0}function pm(s){if(s instanceof sn)return s.field.canonicalString()+s.op.toString()+To(s.value);if(Y1(s))return s.filters.map((e=>pm(e))).join(",");{const e=s.filters.map((i=>pm(i))).join(",");return`${s.op}(${e})`}}function Q1(s,e){return s instanceof sn?(function(a,l){return l instanceof sn&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(s,e):s instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&Q1(d,l.filters[p])),!0):!1})(s,e):void we(19439)}function K1(s){return s instanceof sn?(function(i){return`${i.field.canonicalString()} ${i.op} ${To(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(K1).join(" ,")+"}"})(s):"Filter"}class fx extends sn{constructor(e,i,a){super(e,i,a),this.key=be.fromName(a.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class dx extends sn{constructor(e,i){super(e,"in",i),this.keys=$1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class mx extends sn{constructor(e,i){super(e,"not-in",i),this.keys=$1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function $1(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class gx extends sn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Jm(i)&&$l(i.arrayValue,this.value)}}class px extends sn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class yx extends sn{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class _x extends sn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$l(this.value.arrayValue,a)))}}class vx{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Q_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new vx(s,e,i,a,l,c,d)}function Wm(s){const e=Me(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>To(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>To(a))).join(",")),e.Te=i}return e.Te}function eg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Q1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y_(s.startAt,e.startAt)&&Y_(s.endAt,e.endAt)}function ym(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class wh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ex(s,e,i,a,l,c,d,p){return new wh(s,e,i,a,l,c,d,p)}function xh(s){return new wh(s)}function K_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Tx(s){return s.collectionGroup!==null}function zl(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new rn(pn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(pn.keyField().canonicalString())||e.Ie.push(new hh(pn.keyField(),a))}return e.Ie}function Ki(s){const e=Me(s);return e.Ee||(e.Ee=bx(e,zl(s))),e.Ee}function bx(s,e){if(s.limitType==="F")return Q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return Q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function _m(s,e,i){return new wh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return eg(Ki(s),Ki(e))&&s.limitType===e.limitType}function X1(s){return`${Wm(Ki(s))}|lt:${s.limitType}`}function ao(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>K1(l))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>To(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>To(l))).join(",")),`Target(${a})`})(Ki(s))}; limitType=${s.limitType})`}function Rh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of zl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=F_(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,zl(a),l)||a.endAt&&!(function(d,p,_){const y=F_(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,zl(a),l))})(s,e)}function Ax(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z1(s){return(e,i)=>{let a=!1;for(const l of zl(s)){const c=Sx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Sx(s,e,i){const a=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Eo(_,y):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:s.dir})}}class ya{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}const wx=new Ot(be.comparator);function ks(){return wx}const J1=new Ot(be.comparator);function Vl(...s){let e=J1;for(const i of s)e=e.insert(i.key,i);return e}function W1(s){let e=J1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ca(){return Bl()}function eE(){return Bl()}function Bl(){return new ya((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xx=new Ot(be.comparator),Cx=new rn(be.comparator);function $e(...s){let e=Cx;for(const i of s)e=e.add(i);return e}const Rx=new rn(Ke);function Ix(){return Rx}function tg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function tE(s){return{integerValue:""+s}}function nE(s,e){return nx(e)?tE(e):tg(s,e)}class Ih{constructor(){this._=void 0}}function Nx(s,e,i){return s instanceof fh?(function(l,c){const d={fields:{[P1]:{stringValue:L1},[z1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=Sh(c)),c&&(d.fields[j1]=c),{mapValue:d}})(i,e):s instanceof bo?sE(s,e):s instanceof Xl?rE(s,e):(function(l,c){const d=iE(l,c),p=$_(d)+$_(l.Ae);return gm(d)&&gm(l.Ae)?tE(p):tg(l.serializer,p)})(s,e)}function Dx(s,e,i){return s instanceof bo?sE(s,e):s instanceof Xl?rE(s,e):i}function iE(s,e){return s instanceof Zl?(function(a){return gm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Ih{}class bo extends Ih{constructor(e){super(),this.elements=e}}function sE(s,e){const i=aE(e);for(const a of s.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Xl extends Ih{constructor(e){super(),this.elements=e}}function rE(s,e){let i=aE(e);for(const a of s.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class Zl extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $_(s){return Ht(s.integerValue||s.doubleValue)}function aE(s){return Jm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class oE{constructor(e,i){this.field=e,this.transform=i}}function Ox(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof bo&&l instanceof bo||a instanceof Xl&&l instanceof Xl?vo(a.elements,l.elements,Ji):a instanceof Zl&&l instanceof Zl?Ji(a.Ae,l.Ae):a instanceof fh&&l instanceof fh})(s.transform,e.transform)}class Mx{constructor(e,i){this.version=e,this.transformResults=i}}class Si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nh{}function lE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ng(s.key,Si.none()):new ou(s.key,s.data,Si.none());{const i=s.data,a=Un.empty();let l=new rn(pn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Vr(s.key,a,new Qn(l.toArray()),Si.none())}}function Vx(s,e,i){s instanceof ou?(function(l,c,d){const p=l.value.clone(),_=Z_(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Vr?(function(l,c,d){if(!Kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Z_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(uE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ql(s,e,i,a){return s instanceof ou?(function(c,d,p,_){if(!Kc(c.precondition,d))return p;const y=c.value.clone(),E=J_(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Vr?(function(c,d,p,_){if(!Kc(c.precondition,d))return p;const y=J_(c.fieldTransforms,_,d),E=d.data;return E.setAll(uE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function kx(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=iE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function X_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&vo(a,l,((c,d)=>Ox(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ou extends Nh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Vr extends Nh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Z_(s,e,i){const a=new Map;ct(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,Dx(d,p,i[l]))}return a}function J_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Nx(c,d,e))}return a}class ng extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux extends Nh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Vx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=eE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=lE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(De.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$e())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((i,a)=>X_(i,a)))&&vo(this.baseMutations,e.baseMutations,((i,a)=>X_(i,a)))}}class ig{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ct(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return xx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ig(e,i,a,l)}}class Px{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class jx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Wt,We;function zx(s){switch(s){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function cE(s){if(s===void 0)return Vs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Wt.OK:return J.OK;case Wt.CANCELLED:return J.CANCELLED;case Wt.UNKNOWN:return J.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return J.INTERNAL;case Wt.UNAVAILABLE:return J.UNAVAILABLE;case Wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Wt.NOT_FOUND:return J.NOT_FOUND;case Wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Wt.ABORTED:return J.ABORTED;case Wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Wt.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:s})}}(We=Wt||(Wt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function Bx(){return new TextEncoder}const qx=new Sr([4294967295,4294967295],0);function W_(s){const e=Bx().encode(s),i=new w1;return i.update(e),new Uint8Array(i.digest())}function ev(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,a],0),new Sr([l,c],0)]}class sg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Sr.fromNumber(a)));return l.compare(qx)===1&&(l=new Sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=W_(e),[a,l]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new sg(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=W_(e),[a,l]=ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dh(De.min(),l,new Ot(Ke),ks(),$e())}}class lu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,$e(),$e(),$e())}}class $c{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class hE{constructor(e,i){this.targetId=e,this.Ce=i}}class fE{constructor(e,i,a=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class tv{constructor(){this.ve=0,this.Fe=nv(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),i=$e(),a=$e();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:we(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=nv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Hx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=jc(),this.He=jc(),this.Ye=new Ot(Ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(a===0){const d=new be(c.path);this.et(i,d,Tn.newNoDocument(d,De.min()))}else ct(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ir(a).toUint8Array()}catch(_){if(_ instanceof U1)return _o("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new sg(d,l,c)}catch(_){return _o(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ym(p.target)){const _=new be(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=$e();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Dh(e,i,this.Ye,this.je,a);return this.je=ks(),this.Je=jc(),this.He=jc(),this.Ye=new Ot(Ke),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new tv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new rn(Ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new rn(Ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new Ot(be.comparator)}function nv(){return new Ot(be.comparator)}const Gx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yx={and:"AND",or:"OR"};class Qx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vm(s,e){return s.useProto3Json||Ah(e)?e:{value:e}}function dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kx(s,e){return dh(s,e.toTimestamp())}function $i(s){return ct(!!s,49232),De.fromTimestamp((function(i){const a=Rr(i);return new wt(a.seconds,a.nanos)})(s))}function rg(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(l){return new Dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function mE(s){const e=Dt.fromString(s);return ct(vE(e),10190,{key:e.toString()}),e}function Tm(s,e){return rg(s.databaseId,e.path)}function Kd(s,e){const i=mE(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(pE(i))}function gE(s,e){return rg(s.databaseId,e)}function $x(s){const e=mE(s);return e.length===4?Dt.emptyPath():pE(e)}function bm(s){return new Dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pE(s){return ct(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function iv(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function Xx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(ct(E===void 0||typeof E=="string",58123),yn.fromBase64String(E||"")):(ct(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),yn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:cE(y.code);return new ge(E,y.message||"")})(d);i=new fE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Kd(s,a.document.name),c=$i(a.document.updateTime),d=a.document.createTime?$i(a.document.createTime):De.min(),p=new Un({mapValue:{fields:a.document.fields}}),_=Tn.newFoundDocument(l,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Kd(s,a.document),c=a.readTime?$i(a.readTime):De.min(),d=Tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new $c([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Kd(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new jx(l,c),p=a.targetId;i=new hE(p,d)}}return i}function Zx(s,e){let i;if(e instanceof ou)i={update:iv(s,e.key,e.value)};else if(e instanceof ng)i={delete:Tm(s,e.key)};else if(e instanceof Vr)i={update:iv(s,e.key,e.data),updateMask:aC(e.fieldMask)};else{if(!(e instanceof Ux))return we(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Kx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function Jx(s,e){return s&&s.length>0?(ct(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?$i(l.updateTime):$i(c);return d.isEqual(De.min())&&(d=$i(c)),new Mx(d,l.transformResults||[])})(i,e)))):[]}function Wx(s,e){return{documents:[gE(s,e.path)]}}function eC(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=gE(s,l);const c=(function(y){if(y.length!==0)return _E(Wi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:oo(M.field),direction:iC(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function tC(s){let e=$x(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ct(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=yE(w);return M instanceof Wi&&Y1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ne){return new hh(lo(ne.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,Ah(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,G=w.values||[];return new ch(G,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,G=w.values||[];return new ch(G,M)})(i.endAt)),Ex(e,l,d,c,p,"F",_,y)}function nC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=lo(i.unaryFilter.field);return sn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=lo(i.unaryFilter.field);return sn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=lo(i.unaryFilter.field);return sn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=lo(i.unaryFilter.field);return sn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return sn.create(lo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>yE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function iC(s){return Gx[s]}function sC(s){return Fx[s]}function rC(s){return Yx[s]}function oo(s){return{fieldPath:s.canonicalString()}}function lo(s){return pn.fromServerFormat(s.fieldPath)}function _E(s){return s instanceof sn?(function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:oo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(i.field),op:sC(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const a=i.getFilters().map((l=>_E(l)));return a.length===1?a[0]:{compositeFilter:{op:rC(i.op),filters:a}}})(s):we(54877,{filter:s})}function aC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function vE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Er{constructor(e,i,a,l,c=De.min(),d=De.min(),p=yn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oC{constructor(e){this.yt=e}}function lC(s){const e=tC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(e,e.limit,"L"):e}class uC{constructor(){this.Cn=new cC}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Cr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Cr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class cC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new rn(Dt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new rn(Dt.comparator)).toArray()}}const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(EE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const rv="LruGarbageCollector",hC=1048576;function av([s,e],[i,a]){const l=Ke(s,i);return l===0?Ke(e,a):l}class fC{constructor(e){this.Ir=e,this.buffer=new rn(av),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?ce(rv,"Ignoring IndexedDB error during garbage collection: ",i):await Io(i)}await this.Vr(3e5)}))}}class mC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(bh.ce);const a=new fC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(sv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),ro()<=Qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function gC(s,e){return new mC(s,e)}class pC{constructor(){this.changes=new ya((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _C{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&ql(a.mutation,l,Qn.empty(),wt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,$e()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=$e()){const l=ca();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Vl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ca();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,$e())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=ks();const d=Bl(),p=(function(){return Bl()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Vr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ql(E.mutation,y,E.mutation.getFieldMask(),wt.now())):d.set(y.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new yC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Bl();let l=new Ot(((d,p)=>d-p)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Qn.empty();E=p.applyToLocalView(y,E),a.set(_,E);const w=(l.get(p.batchId)||$e()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,w=eE();E.forEach((M=>{if(!c.has(M)){const G=lE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Tx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(ca());let p=Yl,_=c;return d.next((y=>X.forEach(y,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,$e()))).next((E=>({batchId:p,changes:W1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((a=>{let l=Vl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Vl();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(_=>{const y=(function(w,M){return new wh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Tn.newInvalidDocument(E)))}));let p=Vl();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&ql(E.mutation,y,Qn.empty(),wt.now()),Rh(i,y)&&(p=p.insert(_,y))})),p}))}}class vC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:$i(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:lC(l.bundledQuery),readTime:$i(l.readTime)}})(i)),X.resolve()}}class EC{constructor(){this.overlays=new Ot(be.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ca();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=ca(),c=i.length+1,d=new be(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ot(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ca(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ca(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return X.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Px(i,a));let c=this.qr.get(i);c===void 0&&(c=$e(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class TC{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ag{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new un(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new un(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new be(new Dt([])),a=new un(i,e),l=new un(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new Dt([])),a=new un(i,e),l=new un(i,e+1);let c=$e();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new un(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Ke(e.Yr,i.Yr)}static Kr(e,i){return Ke(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class bC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Lx(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new un(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new rn(Ke);return i.forEach((l=>{const c=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const d=new un(new be(c),0);let p=new rn(Ke);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ct(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new un(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new un(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class AC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=ks();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Tn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ks();const d=i.path,p=new be(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||J2(Z2(E),a)<=0||(l.has(E.key)||Rh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){we(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new SC(this)}getSize(e){return X.resolve(this.size)}}class SC extends pC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class wC{constructor(e){this.persistence=e,this.si=new ya((i=>Wm(i)),eg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new ag,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ao(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class TE{constructor(e,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new TC,this.referenceDelegate=e(this),this.Pi=new wC(this),this.indexManager=new uC,this.remoteDocumentCache=(function(l){return new AC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new oC(i),this.Ii=new vC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new EC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new bC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new xC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class xC extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new ag,this.Vi=null}static mi(e){return new og(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=be.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mh{constructor(e,i){this.persistence=e,this.pi=new ya((a=>ix(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=gC(this,i)}static mi(e,i){return new mh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,De.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=$e(),l=$e();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new lg(e,i.fromCache,a,l)}}class CC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pA()?8:tx(bn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new CC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(ro()<=Qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ao(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ro()<=Qe.DEBUG&&ce("QueryEngine","Query:",ao(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ro()<=Qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ao(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):X.resolve())}ys(e,i){if(K_(i))return X.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=$e(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,_m(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return K_(i)||l.isEqual(De.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ro()<=Qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ao(i)),this.vs(e,d,i,X2(l,Yl)).next((p=>p)))}))}Ds(e,i){let a=new rn(Z1(e));return i.forEach(((l,c)=>{Rh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return ro()<=Qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ao(i)),this.ps.getDocumentsMatchingQuery(e,i,Cr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ug="LocalStore",IC=3e8;class NC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ot(Ke),this.xs=new ya((c=>Wm(c)),eg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _C(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function DC(s,e,i,a){return new NC(s,e,i,a)}async function bE(s,e){const i=Me(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=$e();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function OC(s,e){const i=Me(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const w=y.batch,M=w.keys();let G=X.resolve();return M.forEach((ne=>{G=G.next((()=>E.getEntry(_,ne))).next((re=>{const te=y.docVersions.get(ne);ct(te!==null,48541),re.version.compareTo(te)<0&&(w.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),E.addEntry(re)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=$e();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function AE(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function MC(s,e){const i=Me(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(yn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),l=l.insert(w,G),(function(re,te,_e){return re.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=IC?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,G,E)&&p.push(i.Pi.updateTargetData(c,G))}));let _=ks(),y=$e();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(VC(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(De.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function VC(s,e,i){let a=$e(),l=$e();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ks();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(De.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ce(ug,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function kC(s,e){const i=Me(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function UC(s,e){const i=Me(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Er(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Am(s,e,i){const a=Me(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;ce(ug,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function ov(s,e,i){const a=Me(s);let l=De.min(),c=$e();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const w=Me(_),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,E)})(a,d,Ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:De.min(),i?c:$e()))).next((p=>(LC(a,Ax(e),p),{documents:p,Qs:c})))))}function LC(s,e,i){let a=s.Os.get(e)||De.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class lv{constructor(){this.activeTargetIds=Ix()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PC{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jC{Oo(e){}shutdown(){}}const uv="ConnectivityMonitor";class cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(uv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zc=null;function Sm(){return zc===null?zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():zc++,"0x"+zc.toString(16)}const $d="RestConnection",zC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Sm(),p=this.zo(e,i.toUriEncodedString());ce($d,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),E=wo(y);return this.Jo(e,p,_,a,E).then((w=>(ce($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw _o($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=zC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class qC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class HC extends BC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Sm();return new Promise(((p,_)=>{const y=new x1;y.setWithCredentials(!0),y.listenOnce(C1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Fc.NO_ERROR:const w=y.getResponseJson();ce(vn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Fc.TIMEOUT:ce(vn,`RPC '${e}' ${d} timed out`),_(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const M=y.getStatus();if(ce(vn,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const ne=G?.error;if(ne&&ne.status&&ne.message){const re=(function(_e){const Ne=_e.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ne)>=0?Ne:J.UNKNOWN})(ne.status);_(new ge(re,ne.message))}else _(new ge(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ge(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(vn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);ce(vn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const l=Sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=N1(),p=I1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");ce(vn,`Creating RPC '${e}' stream ${l}: ${E}`,_);const w=d.createWebChannel(E,_);this.I_(w);let M=!1,G=!1;const ne=new qC({Yo:te=>{G?ce(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(M||(ce(vn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),M=!0),ce(vn,`RPC '${e}' stream ${l} sending:`,te),w.send(te))},Zo:()=>w.close()}),re=(te,_e,Ne)=>{te.listen(_e,(pe=>{try{Ne(pe)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return re(w,Ml.EventType.OPEN,(()=>{G||(ce(vn,`RPC '${e}' stream ${l} transport opened.`),ne.o_())})),re(w,Ml.EventType.CLOSE,(()=>{G||(G=!0,ce(vn,`RPC '${e}' stream ${l} transport closed`),ne.a_(),this.E_(w))})),re(w,Ml.EventType.ERROR,(te=>{G||(G=!0,_o(vn,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),ne.a_(new ge(J.UNAVAILABLE,"The operation could not be completed")))})),re(w,Ml.EventType.MESSAGE,(te=>{if(!G){const _e=te.data[0];ct(!!_e,16349);const Ne=_e,pe=Ne?.error||Ne[0]?.error;if(pe){ce(vn,`RPC '${e}' stream ${l} received error:`,pe);const lt=pe.status;let gt=(function(S){const x=Wt[S];if(x!==void 0)return cE(x)})(lt),ze=pe.message;gt===void 0&&(gt=J.INTERNAL,ze="Unknown error status: "+lt+" with message "+pe.message),G=!0,ne.a_(new ge(gt,ze)),w.close()}else ce(vn,`RPC '${e}' stream ${l} received:`,_e),ne.u_(_e)}})),re(p,R1.STAT_EVENT,(te=>{te.stat===fm.PROXY?ce(vn,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===fm.NOPROXY&&ce(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}function Oh(s){return new Qx(s,!0)}class SE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const hv="PersistentStream";class wE{constructor(e,i,a,l,c,d,p,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Vs(i.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ge(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GC extends wE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Xx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return De.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?$i(d.readTime):De.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=ym(_)?{documents:Wx(c,_)}:{query:eC(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=dE(c,d.resumeToken);const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(De.min())>0){p.readTime=dh(c,d.snapshotVersion.toTimestamp());const y=vm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=nC(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class FC extends wE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Jx(e.writeResults,e.commitTime),a=$i(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Zx(this.serializer,a)))};this.q_(i)}}class YC{}class QC extends YC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Em(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Em(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ga="RemoteStore";class $C{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{_a(this)&&(ce(ga,"Restarting streams for network reachability change."),await(async function(_){const y=Me(_);y.Ea.add(4),await uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Ra=new KC(a,l)}}async function Mh(s){if(_a(s))for(const e of s.da)await e(!0)}async function uu(s){for(const e of s.da)await e(!1)}function xE(s,e){const i=Me(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),dg(i)?fg(i):Do(i).O_()&&hg(i,e))}function cg(s,e){const i=Me(s),a=Do(i);i.Ia.delete(e),a.O_()&&CE(i,e),i.Ia.size===0&&(a.O_()?a.L_():_a(i)&&i.Ra.set("Unknown"))}function hg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Do(s).Y_(e)}function CE(s,e){s.Va.Ue(e),Do(s).Z_(e)}function fg(s){s.Va=new Hx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Do(s).start(),s.Ra.ua()}function dg(s){return _a(s)&&!Do(s).x_()&&s.Ia.size>0}function _a(s){return Me(s).Ea.size===0}function RE(s){s.Va=void 0}async function XC(s){s.Ra.set("Online")}async function ZC(s){s.Ia.forEach(((e,i)=>{hg(s,e)}))}async function JC(s,e){RE(s),dg(s)?(s.Ra.ha(e),fg(s)):s.Ra.set("Unknown")}async function WC(s,e,i){if(s.Ra.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){ce(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gh(s,a)}else if(e instanceof $c?s.Va.Ze(e):e instanceof hE?s.Va.st(e):s.Va.tt(e),!i.isEqual(De.min()))try{const a=await AE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),CE(c,_);const w=new Er(E.target,_,y,E.sequenceNumber);hg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ce(ga,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,e,i){if(!No(e))throw e;s.Ea.add(1),await uu(s),s.Ra.set("Offline"),i||(i=()=>AE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ga,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function IE(s,e){return e().catch((i=>gh(s,i,e)))}async function Vh(s){const e=Me(s),i=Dr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xm;for(;eR(e);)try{const l=await kC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,tR(e,l)}catch(l){await gh(e,l)}NE(e)&&DE(e)}function eR(s){return _a(s)&&s.Ta.length<10}function tR(s,e){s.Ta.push(e);const i=Dr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function NE(s){return _a(s)&&!Dr(s).x_()&&s.Ta.length>0}function DE(s){Dr(s).start()}async function nR(s){Dr(s).ra()}async function iR(s){const e=Dr(s);for(const i of s.Ta)e.ea(i.mutations)}async function sR(s,e,i){const a=s.Ta.shift(),l=ig.from(a,e,i);await IE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Vh(s)}async function rR(s,e){e&&Dr(s).X_&&await(async function(a,l){if((function(d){return zx(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Dr(a).B_(),await IE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Vh(a)}})(s,e),NE(s)&&DE(s)}async function fv(s,e){const i=Me(s);i.asyncQueue.verifyOperationInProgress(),ce(ga,"RemoteStore received new credentials");const a=_a(i);i.Ea.add(3),await uu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function aR(s,e){const i=Me(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function Do(s){return s.ma||(s.ma=(function(i,a,l){const c=Me(i);return c.sa(),new GC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:XC.bind(null,s),t_:ZC.bind(null,s),r_:JC.bind(null,s),H_:WC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),dg(s)?fg(s):s.Ra.set("Unknown")):(await s.ma.stop(),RE(s))}))),s.ma}function Dr(s){return s.fa||(s.fa=(function(i,a,l){const c=Me(i);return c.sa(),new FC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:nR.bind(null,s),r_:rR.bind(null,s),ta:iR.bind(null,s),na:sR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ga,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class mg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new mg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(s,e){if(Vs("AsyncQueue",`${e}: ${s}`),No(s))return new ge(J.UNAVAILABLE,`${e}: ${s}`);throw s}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||be.comparator(i.key,a.key):(i,a)=>be.comparator(i.key,a.key),this.keyedMap=Vl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new go;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class dv{constructor(){this.ga=new Ot(be.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class So{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new So(e,i,go.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class oR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lR{constructor(){this.queries=mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Me(i),c=l.queries;l.queries=mv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function mv(){return new ya((s=>X1(s)),Ch)}async function OE(s,e){const i=Me(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new oR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=gg(d,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&pg(i)}async function ME(s,e){const i=Me(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function uR(s,e){const i=Me(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&pg(i)}function cR(s,e,i){const a=Me(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function pg(s){s.Ca.forEach((e=>{e.next()}))}var wm,gv;(gv=wm||(wm={})).Ma="default",gv.Cache="cache";class VE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new So(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class kE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class hR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=Z1(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new dv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,w)=>{const M=l.get(E),G=Rh(this.query,w)?w:null,ne=!!M&&this.mutatedKeys.has(M.key),re=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let te=!1;M&&G?M.data.isEqual(G.data)?ne!==re&&(a.track({type:3,doc:G}),te=!0):this.su(M,G)||(a.track({type:2,doc:G}),te=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),te=!0):M&&!G&&(a.track({type:1,doc:M}),te=!0,(_||y)&&(p=!0)),te&&(G?(d=d.add(G),c=re?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,w)=>(function(G,ne){const re=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:te})}};return re(G)-re(ne)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new So(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new UE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new kE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=$e();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class fR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class dR{constructor(e){this.key=e,this.hu=!1}}class mR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((p=>X1(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(be.comparator),this.Au=new Map,this.Ru=new ag,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gR(s,e,i=!0){const a=qE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await LE(a,e,i,!0),l}async function pR(s,e){const i=qE(s);await LE(i,e,!0,!1)}async function LE(s,e,i,a){const l=await UC(s.localStore,Ki(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await yR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&xE(s.remoteStore,l),p}async function yR(s,e,i,a,l){s.pu=(w,M,G)=>(async function(re,te,_e,Ne){let pe=te.view.ru(_e);pe.Cs&&(pe=await ov(re.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,pe))));const lt=Ne&&Ne.targetChanges.get(te.targetId),gt=Ne&&Ne.targetMismatches.get(te.targetId)!=null,ze=te.view.applyChanges(pe,re.isPrimaryClient,lt,gt);return yv(re,te.targetId,ze.au),ze.snapshot})(s,w,M,G);const c=await ov(s.localStore,e,!0),d=new hR(e,c.Qs),p=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);yv(s,i,y.au);const E=new fR(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function _R(s,e,i){const a=Me(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&cg(a.remoteStore,l.targetId),xm(a,l.targetId)})).catch(Io)):(xm(a,l.targetId),await Am(a.localStore,l.targetId,!0))}async function vR(s,e){const i=Me(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),cg(i.remoteStore,a.targetId))}async function ER(s,e,i){const a=CR(s);try{const l=await(function(d,p){const _=Me(d),y=wt.now(),E=p.reduce(((G,ne)=>G.add(ne.key)),$e());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ne=ks(),re=$e();return _.Ns.getEntries(G,E).next((te=>{ne=te,ne.forEach(((_e,Ne)=>{Ne.isValidDocument()||(re=re.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ne))).next((te=>{w=te;const _e=[];for(const Ne of p){const pe=kx(Ne,w.get(Ne.key).overlayedDocument);pe!=null&&_e.push(new Vr(Ne.key,pe,H1(pe.value.mapValue),Si.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,_e,p)})).next((te=>{M=te;const _e=te.applyToLocalDocumentSet(w,re);return _.documentOverlayCache.saveOverlays(G,te.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:W1(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ot(Ke)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await cu(a,l.changes),await Vh(a.remoteStore)}catch(l){const c=gg(l,"Failed to persist write");i.reject(c)}}async function PE(s,e){const i=Me(s);try{const a=await MC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ct(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ct(d.hu,14607):l.removedDocuments.size>0&&(ct(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Io(a)}}function pv(s,e,i){const a=Me(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Me(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(y=!0)})),y&&pg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function TR(s,e,i){const a=Me(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ot(be.comparator);d=d.insert(c,Tn.newNoDocument(c,De.min()));const p=$e().add(c),_=new Dh(De.min(),new Map,new Ot(Ke),d,p);await PE(a,_),a.du=a.du.remove(c),a.Au.delete(e),_g(a)}else await Am(a.localStore,e,!1).then((()=>xm(a,e,i))).catch(Io)}async function bR(s,e){const i=Me(s),a=e.batch.batchId;try{const l=await OC(i.localStore,e);zE(i,a,null),jE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,l)}catch(l){await Io(l)}}async function AR(s,e,i){const a=Me(s);try{const l=await(function(d,p){const _=Me(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(ct(w!==null,37113),E=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);zE(a,e,i),jE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,l)}catch(l){await Io(l)}}function jE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function zE(s,e,i){const a=Me(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function xm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||BE(s,a)}))}function BE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(cg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),_g(s))}function yv(s,e,i){for(const a of i)a instanceof kE?(s.Ru.addReference(a.key,e),SR(s,a)):a instanceof UE?(ce(yg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||BE(s,a.key)):we(19791,{wu:a})}function SR(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ce(yg,"New document in limbo: "+i),s.Eu.add(a),_g(s))}function _g(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(Dt.fromString(e)),a=s.fu.next();s.Au.set(a,new dR(i)),s.du=s.du.insert(i,a),xE(s.remoteStore,new Er(Ki(xh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function cu(s,e,i){const a=Me(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=lg.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const E=Me(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(M=>X.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!No(w))throw w;ce(ug,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const G=E.Ms.get(M),ne=G.snapshotVersion,re=G.withLastLimboFreeSnapshotVersion(ne);E.Ms=E.Ms.insert(M,re)}}})(a.localStore,c))}async function wR(s,e){const i=Me(s);if(!i.currentUser.isEqual(e)){ce(yg,"User change. New user:",e.toKey());const a=await bE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ge(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ls)}}function xR(s,e){const i=Me(s),a=i.Au.get(e);if(a&&a.hu)return $e().add(a.key);{let l=$e();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function qE(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TR.bind(null,e),e.Pu.H_=uR.bind(null,e.eventManager),e.Pu.yu=cR.bind(null,e.eventManager),e}function CR(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AR.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DC(this.persistence,new RC,e.initialUser,this.serializer)}Cu(e){return new TE(og.mi,this.serializer)}Du(e){return new PC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class RR extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ct(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new TE((a=>mh.mi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,this.syncEngine),await aR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lR})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),a=(function(c){return new HC(c)})(e.databaseInfo);return(function(c,d,p,_){return new QC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new $C(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return cv.v()?new cv:new jC})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,E){const w=new mR(l,c,d,p,_,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Me(i);ce(ga,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Or="FirestoreClient";class IR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=En.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=gg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),ce(Or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await bE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _v(s,e){s.asyncQueue.verifyOperationInProgress();const i=await NR(s);ce(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>fv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>fv(e.remoteStore,l))),s._onlineComponents=e}async function NR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(Or,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;_o("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new ph)}}else ce(Or,"Using default OfflineComponentProvider"),await Zd(s,new RR(void 0));return s._offlineComponents}async function GE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(Or,"Using user provided OnlineComponentProvider"),await _v(s,s._uninitializedComponentsProvider._online)):(ce(Or,"Using default OnlineComponentProvider"),await _v(s,new Cm))),s._onlineComponents}function DR(s){return GE(s).then((e=>e.syncEngine))}async function Rm(s){const e=await GE(s),i=e.eventManager;return i.onListen=gR.bind(null,e.syncEngine),i.onUnlisten=_R.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vR.bind(null,e.syncEngine),i}function OR(s,e,i={}){const a=new wr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new HE({next:M=>{E.Nu(),d.enqueueAndForget((()=>ME(c,w)));const G=M.docs.has(p);!G&&M.fromCache?y.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&_&&_.source==="server"?y.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new VE(xh(p.path),E,{includeMetadataChanges:!0,qa:!0});return OE(c,w)})(await Rm(s),s.asyncQueue,e,i,a))),a.promise}function FE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const vv=new Map;const YE="firestore.googleapis.com",Ev=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=Ev}else this.host=e.host,this.ssl=e.ssl??Ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hC)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new P2;switch(a.type){case"firstParty":return new q2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=vv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),vv.delete(i),a.terminate())})(this),Promise.resolve()}}function MR(s,e,i,a={}){s=Ai(s,vg);const l=wo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(zv(`https://${p}`),Bv("Firestore",!0)),c.host!==YE&&c.host!==p&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!xr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=En.MOCK_USER;else{y=oA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new En(w)}s._authCredentials=new j2(new O1(y,E))}}class kh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class tn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,tn._jsonSchema))return new tn(e,a||null,new be(Dt.fromString(i.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:en("string",tn._jsonSchemaVersion),referencePath:en("string")};class Jl extends kh{constructor(e,i,a){super(e,i,xh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new be(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function Lt(s,e,...i){if(s=xn(s),arguments.length===1&&(e=Km.newId()),K2("doc","path",e),s instanceof vg){const a=Dt.fromString(e,...i);return k_(a),new tn(s,null,new be(a))}{if(!(s instanceof tn||s instanceof Jl))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Dt.fromString(e,...i));return k_(a),new tn(s.firestore,s instanceof Jl?s.converter:null,new be(a))}}const bv="AsyncQueue";class Av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&ce(bv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ce(bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",Sv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=mg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function wv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pa extends vg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Av,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Av(e),this._firestoreClient=void 0,await e}}}function VR(s,e){const i=typeof s=="object"?s:Fv(),a=typeof s=="string"?s:lh,l=Pm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=rA("firestore");c&&MR(l,...c)}return l}function Eg(s){if(s._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kR(s),s._firestoreClient}function kR(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new ax(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(yn.fromBase64String(e))}catch(i){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ui(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:en("string",ui._jsonSchemaVersion),bytes:en("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hu{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:en("string",Xi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zi(e.vectorValues);throw new ge(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:en("string",Zi._jsonSchemaVersion),vectorValues:en("object")};const UR=/^__.*__$/;class LR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class QE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class Lh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&UR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(e)}Cc(e,i,a,l=!1){return new Lh({Ac:e,methodName:i,Dc:a,path:pn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $E(s){const e=s._freezeSettings(),i=Oh(s._databaseId);return new PR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function jR(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);Ag("Data must be an object, but it was:",d,a);const p=XE(a,d);let _,y;if(c.merge)_=new Qn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Im(e,w,i);if(!d.contains(M))throw new ge(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);JE(E,M)||E.push(M)}_=new Qn(E),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new LR(new Un(p),_,y)}class Ph extends hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}function zR(s,e,i){return new Lh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends hu{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=zR(this,e,!0),a=this.vc.map((c=>fu(c,i))),l=new bo(a);return new oE(e.path,l)}isEqual(e){return e instanceof Tg&&xr(this.vc,e.vc)}}class bg extends hu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Zl(e.serializer,nE(e.serializer,this.Fc));return new oE(e.path,i)}isEqual(e){return e instanceof bg&&this.Fc===e.Fc}}function BR(s,e,i,a){const l=s.Cc(1,e,i);Ag("Data must be an object, but it was:",l,a);const c=[],d=Un.empty();Mr(a,((_,y)=>{const E=Sg(e,_,i);y=xn(y);const w=l.yc(E);if(y instanceof Ph)c.push(E);else{const M=fu(y,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Qn(c);return new QE(d,p,l.fieldTransforms)}function qR(s,e,i,a,l,c){const d=s.Cc(1,e,i),p=[Im(e,a,i)],_=[l];if(c.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Im(e,c[M])),_.push(c[M+1]);const y=[],E=Un.empty();for(let M=p.length-1;M>=0;--M)if(!JE(y,p[M])){const G=p[M];let ne=_[M];ne=xn(ne);const re=d.yc(G);if(ne instanceof Ph)y.push(G);else{const te=fu(ne,re);te!=null&&(y.push(G),E.set(G,te))}}const w=new Qn(y);return new QE(E,w,d.fieldTransforms)}function fu(s,e){if(ZE(s=xn(s)))return Ag("Unsupported field value:",e,s),XE(s,e);if(s instanceof hu)return(function(a,l){if(!KE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=fu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=xn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=wt.fromDate(a);return{timestampValue:dh(l.serializer,c)}}if(a instanceof wt){const c=new wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ui)return{bytesValue:dE(l.serializer,a._byteString)};if(a instanceof tn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:rg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,p){return{mapValue:{fields:{[B1]:{stringValue:q1},[uh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return tg(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${$m(a)}`)})(s,e)}function XE(s,e){const i={};return k1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(s,((a,l)=>{const c=fu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof Xi||s instanceof ui||s instanceof tn||s instanceof hu||s instanceof Zi)}function Ag(s,e,i){if(!ZE(i)||!M1(i)){const a=$m(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Im(s,e,i){if((e=xn(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Sg(s,e);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const HR=new RegExp("[~\\*/\\[\\]]");function Sg(s,e,i){if(e.search(HR)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ge(J.INVALID_ARGUMENT,p+s+_)}function JE(s,e){return s.some((i=>i.isEqual(e)))}class WE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(eT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class GR extends WE{data(){return super.data()}}function eT(s,e){return typeof e=="string"?Sg(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function FR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YR{convertValue(e,i="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Mr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Ht(a.doubleValue)));return new Zi(i)}convertGeoPoint(e){return new Xi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Sh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Dt.fromString(e);ct(vE(a),9688,{name:e});const l=new Kl(a.get(1),a.get(3)),c=new be(a.popFirst(5));return l.isEqual(i)||Vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function QR(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends WE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(eT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ha._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:en("string",ha._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Xc extends ha{data(e={}){return super.data(e)}}class po{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ul(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ul(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:KR(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function KR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}function xv(s){s=Ai(s,tn);const e=Ai(s.firestore,pa);return OR(Eg(e),s._key).then((i=>nT(e,s,i)))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:en("string",po._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class tT extends YR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function $R(s,e,i){s=Ai(s,tn);const a=Ai(s.firestore,pa),l=QR(s.converter,e);return wg(a,[jR($E(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Si.none())])}function Jt(s,e,i,...a){s=Ai(s,tn);const l=Ai(s.firestore,pa),c=$E(l);let d;return d=typeof(e=xn(e))=="string"||e instanceof Uh?qR(c,"updateDoc",s._key,e,i,a):BR(c,"updateDoc",s._key,e),wg(l,[d.toMutation(s._key,Si.exists(!0))])}function XR(s){return wg(Ai(s.firestore,pa),[new ng(s._key,Si.none())])}function Cv(s,...e){s=xn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||wv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof tn)d=Ai(s.firestore,pa),p=xh(s._key.path),c={next:_=>{e[a]&&e[a](nT(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ai(s,kh);d=Ai(_.firestore,pa),p=_._query;const y=new tT(d);c={next:E=>{e[a]&&e[a](new po(d,y,_,E))},error:e[a+1],complete:e[a+2]},FR(s._query)}return(function(y,E,w,M){const G=new HE(M),ne=new VE(E,G,w);return y.asyncQueue.enqueueAndForget((async()=>OE(await Rm(y),ne))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>ME(await Rm(y),ne)))}})(Eg(d),p,l,c)}function wg(s,e){return(function(a,l){const c=new wr;return a.asyncQueue.enqueueAndForget((async()=>ER(await DR(a),l,c))),c.promise})(Eg(s),e)}function nT(s,e,i){const a=i.docs.get(e._key),l=new tT(s);return new ha(s,l,e._key,a,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}function wn(...s){return new Tg("arrayUnion",s)}function Jd(s){return new bg("increment",s)}(function(e,i=!0){(function(l){Ro=l})(xo),yo(new fa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new pa(new z2(a.getProvider("auth-internal")),new H2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ar(D_,O_,e),Ar(D_,O_,"esm2020")})();const ZR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Rv=s=>{const e=JR(s);return e.charAt(0).toUpperCase()+e.slice(1)},iT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),WR=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var eI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tI=et.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>et.createElement("svg",{ref:_,...eI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:iT("lucide",l),...!c&&!WR(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>et.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Et=(s,e)=>{const i=et.forwardRef(({className:a,...l},c)=>et.createElement(tI,{ref:c,iconNode:e,className:iT(`lucide-${ZR(Rv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Rv(s),i};const nI=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],iI=Et("anchor",nI);const sI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Nm=Et("bomb",sI);const rI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Iv=Et("book-open",rI);const aI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wd=Et("circle-check-big",aI);const oI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Zc=Et("coins",oI);const lI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uI=Et("compass",lI);const cI=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],hI=Et("component",cI);const fI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Jc=Et("crown",fI);const dI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sT=Et("eye",dI);const mI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Dm=Et("footprints",mI);const gI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],pI=Et("hammer",gI);const yI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_I=Et("history",yI);const vI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],rT=Et("house",vI);const EI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TI=Et("info",EI);const bI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Om=Et("log-out",bI);const AI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],SI=Et("rotate-ccw",AI);const wI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xI=Et("settings",wI);const CI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xs=Et("shield",CI);const RI=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Mm=Et("ship",RI);const II=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Gi=Et("skull",II);const NI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Nv=Et("sparkles",NI);const DI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],_h=Et("sword",DI);const OI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MI=Et("trash-2",OI);const VI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aT=Et("triangle-alert",VI);const kI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hl=Et("trophy",kI);const UI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vm=Et("user",UI);const LI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],PI=Et("utensils",LI);const jI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oT=Et("x",jI),zI=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:4899548c3fd4da8c6aa637"},lT=Gv(zI),em=U2(lT),Pt=VR(lT),qt=typeof __app_id<"u"?__app_id:"pirates-game",BI="5",mt={THIEF:{name:"Thief",val:0,defaultCount:2,icon:Dm,color:"text-gray-400",bg:"bg-gray-800",desc:"Gain 1 coin if you survive a round."},GUARD:{name:"Guard",val:1,defaultCount:6,icon:xs,color:"text-blue-400",bg:"bg-blue-900",desc:"Guess a player's card. If right, they die."},SPY:{name:"Spy",val:2,defaultCount:2,icon:sT,color:"text-emerald-400",bg:"bg-emerald-900",desc:"Look at another player's hand."},SWORDSMAN:{name:"Swordsman",val:3,defaultCount:2,icon:_h,color:"text-red-400",bg:"bg-red-900",desc:"Fight another player. Lower card dies."},COOK:{name:"Cook",val:4,defaultCount:2,icon:PI,color:"text-orange-400",bg:"bg-orange-900",desc:"Immune to effects until your next turn."},CANNONEER:{name:"Cannoneer",val:5,defaultCount:2,icon:Nm,color:"text-red-600",bg:"bg-red-950",desc:"Force discard & redraw. Kills Pirates. Gets killed if Captain."},MERCHANT:{name:"Merchant",val:6,defaultCount:2,icon:Zc,color:"text-yellow-400",bg:"bg-yellow-900",desc:"Draw 2 extra, keep best of 3."},SAILOR:{name:"Sailor",val:7,defaultCount:1,icon:iI,color:"text-cyan-400",bg:"bg-cyan-900",desc:"Swap hands with another player."},CAPTAIN:{name:"Captain",val:8,defaultCount:1,icon:Jc,color:"text-purple-400",bg:"bg-purple-900",desc:"No action. Must play if holding Cannoneer/Sailor."},PIRATE:{name:"Pirate",val:9,defaultCount:1,icon:Gi,color:"text-white",bg:"bg-black",desc:"If played, you die. (Suicide)."}},tm=s=>s>=6?3:s===5?4:s===4?5:6,nm=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},qI=({type:s,message:e,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:A.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${s==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${s==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-blue-900/90 border-blue-500 text-blue-100":""}
    `,children:[a&&A.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:A.jsx(a,{size:64,className:"animate-bounce"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),im=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-red-900/10 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Dv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(Mm,{size:12,className:"text-red-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-500 uppercase",children:"PIRATES"})]}),Ov=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"Leaving will destroy the room for everyone!":l?"Leaving now will end the game for you!":"Leaving the lobby will disconnect you."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&A.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[A.jsx(rT,{size:18})," Return Crew to Lobby"]}),A.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[A.jsx(Om,{size:18})," ",a?"Destroy Room":"Leave Game"]})]})]})}),HI=({title:s,text:e,onClose:i,type:a="info",card:l=null,compareCard:c=null,labels:d=[]})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:A.jsx("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?A.jsx(aT,{className:"text-red-500 w-12 h-12"}):a==="spy"?A.jsx(sT,{className:"text-emerald-400 w-12 h-12"}):a==="sword"?A.jsx(_h,{className:"text-red-400 w-12 h-12"}):a==="round_end"?A.jsx(Hl,{className:"text-yellow-400 w-12 h-12 animate-bounce"}):A.jsx(TI,{className:"text-blue-400 w-12 h-12"}),A.jsx("h3",{className:"text-2xl font-bold text-white",children:s}),A.jsx("p",{className:"text-gray-300 text-lg",children:e}),(l||c)&&A.jsxs("div",{className:"flex gap-4 justify-center items-center my-2",children:[l&&A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[0]||"Target Hand"}),A.jsx(co,{type:l,small:!0})]}),c&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-bold text-xl text-gray-500",children:A.jsx(hI,{size:24})}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[1]||"Attacker"}),A.jsx(co,{type:c,small:!0})]})]})]}),A.jsx("button",{onClick:i,className:`w-full py-3 rounded-lg font-bold text-white transition-colors ${a==="error"?"bg-red-600 hover:bg-red-500":a==="spy"?"bg-emerald-600 hover:bg-emerald-500":a==="round_end"?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:a==="round_end"?"Continue":"Okay"})]})})}),Mv=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[170] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500 uppercase tracking-widest",children:"GAME GUIDE"}),A.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"Deception, Deduction & Discovery"})]}),A.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors",children:A.jsx(oT,{size:24})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 md:space-y-10 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[A.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-900/30 p-4 md:p-6 rounded-2xl border border-red-700/30",children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[A.jsx(Hl,{className:"text-yellow-400 fill-current",size:24})," The Objective"]}),A.jsxs("p",{className:"text-sm md:text-lg leading-relaxed mb-4",children:["The high seas are treacherous. Your goal is simple:"," ",A.jsx("strong",{children:"survive"}),". The game is played in multiple rounds. To win a round, you must be the ",A.jsx("strong",{children:"Last Player Standing"})," ","or hold the ",A.jsx("strong",{children:"Highest Value Card"})," when the deck runs out.",A.jsx("br",{}),A.jsx("br",{}),"Survivors earn"," ",A.jsx("span",{className:"text-yellow-400 font-bold",children:"1 Coin"}),". The number of coins needed to win the game depends on the crew size:"]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[A.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[A.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"2-3 Players"}),A.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"6 Coins"})]}),A.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[A.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"4 Players"}),A.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"5 Coins"})]}),A.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[A.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"5 Players"}),A.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"4 Coins"})]}),A.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[A.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"6-8 Players"}),A.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"3 Coins"})]})]})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(Vm,{className:"text-red-400",size:24})," The Crew (Cards)"]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:Object.values(mt).sort((e,i)=>e.val-i.val).map(e=>{const i=e.icon;return A.jsxs("div",{className:"flex items-start gap-3 md:gap-4 bg-gray-800/50 p-3 md:p-4 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[A.jsx("div",{className:`p-3 md:p-4 rounded-xl ${e.bg} border border-gray-600 shadow-lg shrink-0`,children:A.jsx(i,{className:`${e.color}`,size:24})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex justify-between items-center w-full mb-1",children:[A.jsx("h4",{className:"font-bold text-white text-base md:text-lg",children:e.name}),A.jsxs("span",{className:"text-xs bg-black/60 px-2 py-1 rounded text-gray-300 font-mono border border-gray-600",children:["Val: ",e.val]})]}),A.jsx("p",{className:"text-xs md:text-sm text-gray-400 leading-snug",children:e.desc})]})]},e.name)})})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(uI,{className:"text-orange-400",size:24})," How It Works"]}),A.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-gray-700 ml-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"1"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Draw"}),A.jsxs("p",{className:"text-gray-400 text-sm md:text-base",children:["You start the round with ",A.jsx("strong",{children:"1 card"})," in hand. At the start of your turn, you draw a"," ",A.jsx("strong",{children:"second card"})," from the deck."]})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"2"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Play"}),A.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Choose one of your two cards to play face up. Its ability triggers immediately. The other card remains hidden in your hand."})]})]})]})]})]}),A.jsx("div",{className:"p-4 md:p-6 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:A.jsx("button",{onClick:s,className:"w-full md:w-auto bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white px-10 py-3 md:py-4 rounded-xl font-bold text-lg transition-all shadow-xl",children:"Got it, Let's Play!"})})]})}),co=({type:s,onClick:e,disabled:i,highlight:a,small:l,tiny:c})=>{const d=mt[s];if(!d)return A.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-gray-700 rounded border border-gray-600"});if(c)return A.jsx("div",{className:`w-5 h-7 md:w-6 md:h-8 rounded border flex items-center justify-center ${d.bg} border-gray-600 shadow-sm`,title:d.name,children:A.jsx(d.icon,{className:`${d.color} w-3 h-3`})});const p=l?"w-12 h-16 md:w-16 md:h-24 p-0.5 md:p-1":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",_=l?"w-5 h-5 md:w-6 md:h-6":"w-10 h-10 md:w-12 md:h-12",y=l?"text-[8px] md:text-[10px]":"text-xs md:text-sm";return A.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between
        ${p}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":"border-gray-700"}
        ${d.bg} ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[A.jsxs("div",{className:`font-bold ${y} ${d.type==="PIRATE","text-white"} w-full flex justify-between`,children:[A.jsx("span",{children:d.val}),!l&&A.jsx("span",{children:d.name})]}),A.jsx(d.icon,{className:`${d.color} ${_}`}),!l&&A.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-300 text-center leading-tight bg-black/30 p-1 rounded w-full line-clamp-3 md:line-clamp-none",children:d.desc})]})},GI=({logs:s,onClose:e})=>A.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:A.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700",children:[A.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsx("h3",{className:"text-white font-bold text-lg",children:"Game Log"}),A.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:A.jsx(oT,{className:"text-gray-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>A.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function FI(){const[s,e]=et.useState(null),[i,a]=et.useState("menu"),[l,c]=et.useState(""),[d,p]=et.useState(""),[_,y]=et.useState(""),[E,w]=et.useState(null),[M,G]=et.useState(!1),[ne,re]=et.useState(""),[te,_e]=et.useState(!1),[Ne,pe]=et.useState(!1),[lt,gt]=et.useState(!1),[ze,I]=et.useState(!1),[S,x]=et.useState(null),[V,N]=et.useState(""),[U,C]=et.useState(null),[ut,Rt]=et.useState(null),[F,se]=et.useState([]),[fe,He]=et.useState(null),[Xe,O]=et.useState(null),K=et.useRef(null),ae=et.useRef(null);et.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await bw(em,__initial_auth_token):await yw(em)})();const Z=ww(em,e);return()=>Z()},[]),et.useEffect(()=>{if(s&&i==="menu"){const H=localStorage.getItem("pirates_room_id"),Z=localStorage.getItem("pirates_player_name");H&&Z&&(G(!0),c(Z),p(H))}},[s,i]),et.useEffect(()=>{if(!d||!s)return;const H=Cv(Lt(Pt,"artifacts",qt,"public","data","rooms",d),Z=>{if(Z.exists()){const W=Z.data();if(!W.players.some(Te=>Te.id===s.uid)){p(""),a("menu"),re("The Captain abandoned the ship! (You were disconnected)"),localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),G(!1);return}w(W),W.status==="playing"||W.status==="finished"?a("game"):W.status==="lobby"&&a("lobby"),G(!1)}else p(""),a("menu"),re("The ship has sunk! (Room Closed)"),localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),G(!1)});return()=>H()},[d,s]),et.useEffect(()=>{!fe&&F.length>0&&(He(F[0]),se(H=>H.slice(1)))},[fe,F]);const ee=(H,Z,W="",oe=null)=>{O({type:H,message:Z,subtext:W,icon:oe}),setTimeout(()=>O(null),2e3)};if(et.useEffect(()=>{if(!(!E||!s)){if(E.lastAction){const H=E.lastAction;H.id!==K.current&&H.targetId===s.uid&&(K.current=H.id,H.type==="CANNONEER"?H.message.includes("Reflected")?ee("success","DEFENDED","Captain Killed Attacker!",Jc):H.message.includes("Pirate")?ee("failure","ELIMINATED","Cannon Hit Pirate!",Gi):ee("failure","UNDER ATTACK","Card Destroyed!",Nm):H.type==="GUARD"&&H.message.includes("CORRECT")?ee("failure","ELIMINATED","Guard Caught You!",Gi):H.type==="GUARD"&&H.message.includes("WRONG")?ee("neutral","SAFE","Guard Guessed Wrong",Wd):H.type==="SWORDSMAN"&&(H.message.includes("You Died")?ee("failure","DEFEAT","Lost Sword Fight",Gi):H.message.includes("You Won")?ee("success","VICTORY","Won Sword Fight",Hl):ee("neutral","TIED","Both Survived",_h)),se(Z=>[...Z,{title:"Action Alert!",text:H.message,type:H.type==="SWORDSMAN"?"sword":H.type==="SPY"?"spy":"warning",card:H.cardToShow,compareCard:H.compareCard,labels:H.labels}]))}if(E.lastRoundResult){const H=E.lastRoundResult;H.id!==ae.current&&(ae.current=H.id,se(Z=>[...Z,{title:`Round ${H.round} Complete!`,text:`${H.winnerName} won the round and earned a Coin!`,type:"round_end",card:null,compareCard:null}]))}}},[E,s]),et.useEffect(()=>{const H=Cv(Lt(Pt,"game_hub_settings","config"),Z=>{Z.exists()&&(Z.data()[BI]?.maintenance?gt(!0):gt(!1))});return()=>H()},[]),lt)return A.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[A.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[A.jsx(pI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),A.jsx("p",{className:"text-gray-400",children:"The ship is in dry dock for repairs. The Captain says no sailing today!"})]}),A.jsx("div",{className:"h-8"}),A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:A.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:A.jsx("div",{className:"text-center pb-12 animate-pulse",children:A.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[A.jsx(Nv,{size:16})," Visit Gamehub...Try our other releases..."," ",A.jsx(Nv,{size:16})]})})})})]});const Ee=(H,Z,W="error",oe=null)=>{se(Te=>[...Te,{title:H,text:Z,type:W,card:oe}])},Ve=async()=>{if(!l)return re("Name required");G(!0);const H=Math.random().toString(36).substring(2,7).toUpperCase(),Z={roomId:H,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}],deck:[],deckConfig:{guards:6,merchants:2},discardPile:[],logs:[],turnIndex:0,roundCount:1,burntCard:null,thiefActive:null,pendingAction:null,lastAction:null,lastRoundResult:null};await $R(Lt(Pt,"artifacts",qt,"public","data","rooms",H),Z),localStorage.setItem("pirates_room_id",H),localStorage.setItem("pirates_player_name",l),p(H),y(H),a("lobby"),G(!1)},Ge=async()=>{if(!_||!l)return re("Room ID and Name required");G(!0);const H=Lt(Pt,"artifacts",qt,"public","data","rooms",_),Z=await xv(H);if(!Z.exists()){re("Room not found"),G(!1);return}const W=Z.data();if(W.status!=="lobby"&&!W.players.find(Te=>Te.id===s.uid)){re("Game already started"),G(!1);return}if(!W.players.find(oe=>oe.id===s.uid))if(W.players.length<8){const oe=[...W.players,{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}];await Jt(H,{players:oe})}else{re("Room full (Max 8)"),G(!1);return}localStorage.setItem("pirates_room_id",_),localStorage.setItem("pirates_player_name",l),p(_),G(!1)},Mt=async()=>{if(!(!d||!s)){try{const H=Lt(Pt,"artifacts",qt,"public","data","rooms",d),Z=await xv(H);if(Z.exists()){const W=Z.data();if(W.hostId===s.uid)await XR(H);else if(W.status==="lobby"){const Te=W.players.filter(Pe=>Pe.id!==s.uid);await Jt(H,{players:Te})}else await bt(H,W)}}catch(H){console.error("Error leaving room:",H)}localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),p(""),a("menu"),w(null),pe(!1)}},bt=async(H,Z)=>{const W=Z.players.filter(Te=>Te.id!==s.uid);let oe=null;W.length>0&&(oe=W[0].id),await Jt(H,{status:"finished",winnerId:oe,players:Z.players.filter(Te=>Te.id!==s.uid),logs:wn({id:Date.now().toString(),text:`${Z.players.find(Te=>Te.id===s.uid)?.name} left the game. Game Over.`,type:"danger"})})},es=async H=>{if(!E||E.hostId!==s.uid)return;const Z=E.players.filter(W=>W.id!==H);await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:Z})},ci=async(H,Z)=>{E.hostId===s.uid&&await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{deckConfig:{guards:H,merchants:Z}})},hi=async(H=null)=>{const Z=H||E,W=Z.players.length;let oe=Z.deckConfig||{guards:6,merchants:2};W>4&&(oe={guards:6,merchants:2});const Te=[];Object.keys(mt).forEach(Ie=>{let Se=mt[Ie].defaultCount;Ie==="GUARD"&&(Se=oe.guards??6),Ie==="MERCHANT"&&(Se=oe.merchants??2);for(let ke=0;ke<Se;ke++)Te.push(Ie)});const Pe=nm(Te),ue=Pe.pop(),Ze=Z.players.map(Ie=>({...Ie,hand:[Pe.pop()],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1})),de=Math.floor(Math.random()*Ze.length);Ze[de].hand.push(Pe.pop()),await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{status:"playing",deck:Pe,burntCard:ue,players:Ze,discardPile:[],turnIndex:de,thiefActive:null,lastAction:null,lastRoundResult:null,logs:wn({id:Date.now()+Math.random().toString(),text:`--- Round ${Z.roundCount||E.roundCount} Started ---`,type:"neutral"})})},Ls=async()=>{const H=[...E.players],Z=H.findIndex(W=>W.id===s.uid);H[Z].readyForNext=!0,await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:H})},Cn=async()=>{if(!E||E.hostId!==s.uid)return;const H=E.players.map(Z=>({...Z,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{status:"lobby",players:H,deck:[],logs:[],roundCount:1,winnerId:null,lastAction:null,lastRoundResult:null})},kr=async()=>{if(!E||E.hostId!==s.uid)return;const H=E.players.map(Ze=>({...Ze,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));let Z=E.deckConfig||{guards:6,merchants:2};H.length>4&&(Z={guards:6,merchants:2});const W=[];Object.keys(mt).forEach(Ze=>{let de=mt[Ze].defaultCount;Ze==="GUARD"&&(de=Z.guards??6),Ze==="MERCHANT"&&(de=Z.merchants??2);for(let Ie=0;Ie<de;Ie++)W.push(Ze)});const oe=nm(W),Te=oe.pop(),Pe=H.map(Ze=>({...Ze,hand:[oe.pop()]})),ue=Math.floor(Math.random()*Pe.length);Pe[ue].hand.push(oe.pop()),await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{status:"playing",deck:oe,burntCard:Te,players:Pe,discardPile:[],turnIndex:ue,thiefActive:null,lastAction:null,lastRoundResult:null,roundCount:1,winnerId:null,logs:[{id:Date.now().toString(),text:"--- NEW GAME STARTED ---",type:"neutral"}]})},wi=async(H,Z=[],W=null)=>{let oe=[...H.players],Te=[...H.deck],Pe=H.turnIndex,ue=H.thiefActive;const Ze=oe.filter(xe=>!xe.eliminated),de=Z.map(xe=>({...xe,id:xe.id||Date.now()+Math.random().toString()}));let Ie={players:oe,deck:Te};const Se=tm(oe.length);if(W&&(Ie.lastAction=W),Ze.length===1){const xe=Ze[0];xe.coins+=1,de.push({id:Date.now()+Math.random().toString(),text:` Round Over! ${xe.name} survives alone (+1 Coin).`,type:"success"});const nt={id:Date.now(),winnerName:xe.name,round:H.roundCount||E.roundCount};if(xe.coins>=Se){await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{...Ie,status:"finished",winnerId:xe.id,logs:wn(...de)});return}Ie.lastRoundResult=nt,await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{...Ie,roundCount:Jd(1),logs:wn(...de)}),setTimeout(()=>hi({...H,players:oe,roundCount:(H.roundCount||E.roundCount)+1}),3500);return}if(Te.length===0){let xe=-1,nt=[];Ze.forEach(Gt=>{if(Gt.hand.length>0){const It=mt[Gt.hand[0]].val;It>xe?(xe=It,nt=[Gt]):It===xe&&nt.push(Gt)}}),nt.forEach(Gt=>{const It=oe.findIndex(Kn=>Kn.id===Gt.id);oe[It].coins+=1});const is=nt.map(Gt=>Gt.name).join(", ");de.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${is} (Card Value: ${xe}).`,type:"success"});const xi={id:Date.now(),winnerName:is,round:H.roundCount||E.roundCount};if(oe.some(Gt=>Gt.coins>=Se)){await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{...Ie,status:"finished",winnerId:oe.find(Gt=>Gt.coins>=Se).id,logs:wn(...de)});return}Ie.lastRoundResult=xi,await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{...Ie,roundCount:Jd(1),logs:wn(...de)}),setTimeout(()=>hi({...H,players:oe,roundCount:(H.roundCount||E.roundCount)+1}),3500);return}let ke=(Pe+1)%oe.length;for(;oe[ke].eliminated;)ke=(ke+1)%oe.length;if(ue&&ue.playerId===oe[ke].id&&(oe[ke].id===s.uid&&ee("success","+1 COIN","Survived as Thief",Zc),oe[ke].coins+=1,de.push({id:Date.now()+Math.random().toString(),text:` ${oe[ke].name} survived the round as Thief (+1 Coin)!`,type:"success"}),ue=null,oe[ke].coins>=Se)){de.push({id:Date.now()+Math.random().toString(),text:` ${oe[ke].name} collected ${Se} coins via Thief and WINS THE GAME!`,type:"success"}),await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:oe,status:"finished",winnerId:oe[ke].id,logs:wn(...de)});return}oe[ke].immune=!1,Te.length>0&&oe[ke].hand.push(Te.pop()),Ie={...Ie,deck:Te,turnIndex:ke,thiefActive:ue,players:oe,logs:wn(...de)},await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),Ie)},Ur=H=>{if(S){if(H===s.uid){Ee("Targeting Error","You cannot target yourself!","error");return}if(S==="GUARD"){C(H),Rt(null);return}ts(S,H)}},ts=async(H,Z=null,W=null)=>{if(!s||E.players[E.turnIndex].id!==s.uid)return;const oe=["GUARD","SPY","SWORDSMAN","CANNONEER","SAILOR"],Te=H==="GUARD",Pe=W||V;if(oe.includes(H)&&!Z){x(H);return}if(Te&&!Pe){x(H);return}const ue=JSON.parse(JSON.stringify(E.players)),Ze=ue.findIndex(le=>le.id===s.uid),de=ue[Ze];let Ie=[...E.deck],Se=[],ke=E.thiefActive,xe=null;const nt=de.hand,is=nt.includes("CAPTAIN"),xi=nt.includes("CANNONEER")||nt.includes("SAILOR");if(is&&xi&&H!=="CAPTAIN"){Ee("Captain's Orders","You MUST play the Captain if you hold a Cannoneer or Sailor!","error");return}const Gt=de.hand.indexOf(H);if(Gt===-1)return;de.hand.splice(Gt,1),de.playedCards||(de.playedCards=[]),de.playedCards.push(H);const It=(le,ve)=>{const Ce=ue.findIndex(rt=>rt.id===le);ue[Ce].eliminated=!0,ue[Ce].hand.length>0&&(ue[Ce].playedCards||(ue[Ce].playedCards=[]),ue[Ce].playedCards.push(ue[Ce].hand[0])),ue[Ce].hand=[],Se.push({text:` ${ue[Ce].name} was eliminated! (${ve})`,type:"danger"}),ke&&ke.playerId===le&&(ke=null)},Kn=async()=>{let le=-1,ve=[];const Ce=ue.filter(Nt=>!Nt.eliminated),rt=tm(ue.length);Ce.forEach(Nt=>{const rs=mt[Nt.hand[0]].val;rs>le?(le=rs,ve=[Nt]):rs===le&&ve.push(Nt)}),ve.forEach(Nt=>{const rs=ue.findIndex(as=>as.id===Nt.id);ue[rs].coins+=1});const ss=ve.map(Nt=>Nt.name).join(", ");Se.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${ss} (Card Value: ${le}).`,type:"success"});const Lr=Se.map(Nt=>({...Nt,id:Date.now()+Math.random().toString()})),$n={id:Date.now(),winnerName:ss,round:E.roundCount};ue.some(Nt=>Nt.coins>=rt)?await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:ue,deck:Ie,status:"finished",winnerId:ue.find(Nt=>Nt.coins>=rt).id,logs:wn(...Lr),discardPile:wn(H),lastAction:xe}):(await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:ue,deck:Ie,roundCount:Jd(1),logs:wn(...Lr),discardPile:wn(H),lastAction:xe,lastRoundResult:$n}),setTimeout(()=>hi({...E,players:ue,roundCount:E.roundCount+1}),3500))};if(H==="THIEF")Se.push({text:` ${de.name} plays Thief. (Gain coin if survived until next turn)`,type:"neutral"}),ke&&Se.push({text:` Previous Thief thwarted by ${de.name}!`,type:"neutral"}),ke={playerId:s.uid,turnSet:E.turnIndex};else if(H==="GUARD"){const le=ue.find(ve=>ve.id===Z);if(Se.push({text:` ${de.name} used Guard on ${le.name}, guessing ${mt[Pe].name}.`,type:"neutral"}),le.immune)ee("failure","IMMUNE","Target Protected",xs),Se.push({text:` ${le.name} is immune to the Guard!`,type:"warning"}),xe={id:Date.now(),targetId:Z,type:"GUARD",message:`${de.name} tried to Guard you, but you were Immune!`};else{const ve=le.hand[0];ve===Pe?(ee("success","KILLED","Guard Guess Correct!",Gi),It(Z,`Guard caught a ${mt[Pe].name}`),xe={id:Date.now(),targetId:Z,type:"GUARD",message:`${de.name} guessed your card was a ${mt[Pe].name}. They were CORRECT! You are out.`,cardToShow:ve,compareCard:Pe,labels:["You Had","They Guessed"]}):(ee("failure","MISSED","Guard Guess Wrong",xs),Se.push({text:` Guard guess wrong. ${le.name} does not have ${mt[Pe].name}.`,type:"neutral"}),xe={id:Date.now(),targetId:Z,type:"GUARD",message:`${de.name} guessed your card was a ${mt[Pe].name}. They were WRONG. You are safe.`,cardToShow:ve,compareCard:Pe,labels:["You Have","They Guessed"]})}}else if(H==="SPY"){const le=ue.find(ve=>ve.id===Z);le.immune?(ee("failure","IMMUNE","Target Protected",xs),Se.push({text:` ${de.name} tried to Spy, but ${le.name} is immune!`,type:"warning"}),xe={id:Date.now(),targetId:Z,type:"SPY",message:`${de.name} tried to Spy on you, but you were Immune!`}):(Se.push({text:` ${de.name} plays Spy and looks at ${le.name}'s hand.`,type:"neutral"}),Ee("Spy Report",`${le.name} is holding: ${mt[le.hand[0]].name}`,"spy",le.hand[0]),xe={id:Date.now(),targetId:Z,type:"SPY",message:`${de.name} used a Spy to look at your hand.`})}else if(H==="SWORDSMAN"){const le=ue.find(ve=>ve.id===Z);if(le.immune)ee("failure","IMMUNE","Target Protected",xs),Se.push({text:` ${le.name} is immune to Sword Fight!`,type:"warning"}),xe={id:Date.now(),targetId:Z,type:"SWORDSMAN",message:`${de.name} tried to fight you, but you were Immune!`};else{const ve=ue[Ze].hand[0],Ce=le.hand[0],rt=mt[ve].val,ss=mt[Ce].val;Se.push({text:` ${de.name} challenged ${le.name}.`,type:"neutral"}),rt<ss?(ee("failure","DEFEAT","You Died (Lower Card)",Gi),It(s.uid,"Lost Sword Fight (Lower Card)"),Se.push({text:`... ${de.name} was defeated!`,type:"danger"}),xe={id:Date.now(),targetId:Z,type:"SWORDSMAN",message:`${de.name} challenged you! Your ${mt[Ce].name} beat their ${mt[ve].name}. You Won!`,cardToShow:Ce,compareCard:ve,labels:["Your Hand","Attacker"]},Ee("Sword Fight Result",`You challenged ${le.name}. Their ${mt[Ce].name} beat your ${mt[ve].name}. You Died.`,"sword",Ce)):ss<rt?(ee("success","VICTORY","Target Died (Lower Card)",Hl),It(Z,"Lost Sword Fight (Lower Card)"),Se.push({text:`... ${le.name} was defeated!`,type:"danger"}),xe={id:Date.now(),targetId:Z,type:"SWORDSMAN",message:`${de.name} challenged you! Your ${mt[Ce].name} lost to their ${mt[ve].name}. You Died.`,cardToShow:Ce,compareCard:ve,labels:["Your Hand","Attacker"]},Ee("Sword Fight Result",`You challenged ${le.name}. Your ${mt[ve].name} beat their ${mt[Ce].name}. You Won!`,"sword",Ce)):(ee("neutral","TIED","Both Survived",_h),Se.push({text:" Sword Fight Tie! Both survive.",type:"neutral"}),xe={id:Date.now(),targetId:Z,type:"SWORDSMAN",message:`${de.name} challenged you! Tie (${mt[Ce].name}). Both survive.`,cardToShow:Ce,compareCard:ve,labels:["Your Hand","Attacker"]},Ee("Sword Fight Result",`Tie! You both have ${mt[ve].name}.`,"sword",Ce))}}else if(H==="COOK")ue[Ze].immune=!0,Se.push({text:` ${de.name} plays Cook. Immune until next turn.`,type:"success"});else if(H==="CANNONEER"){const le=ue.findIndex(Ce=>Ce.id===Z),ve=ue[le];if(ve.immune)ee("failure","IMMUNE","Target Protected",xs),Se.push({text:` ${ve.name} is immune to Cannoneer!`,type:"warning"}),xe={id:Date.now(),targetId:Z,type:"CANNONEER",message:`${de.name} tried to Cannon you, but you were Immune!`};else if(ve.hand[0]==="PIRATE")ee("success","KILLED","Pirate Eliminated!",Gi),Se.push({text:` ${de.name} fires Cannon at ${ve.name}... It's a Pirate! Target eliminated.`,type:"success"}),It(Z,"Cannoneer hit a Pirate"),xe={id:Date.now(),targetId:Z,type:"CANNONEER",message:`${de.name} fired a Cannon at you. You had a Pirate and were eliminated!`};else if(ve.hand[0]==="CAPTAIN"){ee("failure","BACKFIRE","Hit Captain (You Died)",Jc),Se.push({text:` ${de.name} fires Cannon at ${ve.name}... It's a Captain! ${de.name} blows themselves up!`,type:"danger"}),It(s.uid,"Cannoneer hit a Captain");const Ce=ve.hand.pop();ue[le].playedCards||(ue[le].playedCards=[]),ue[le].playedCards.push(Ce);let rt;if(Ie.length>0?rt=Ie.pop():(rt=E.burntCard,Se.push({text:"Deck empty! Recycled Burnt Card for Captain holder.",type:"warning"})),ue[le].hand.push(rt),xe={id:Date.now(),targetId:Z,type:"CANNONEER",message:`${de.name} fired a Cannon at you. Your Captain Reflected the attack! They died. You drew a new card.`,cardToShow:Ce,compareCard:rt,labels:["Reflected","New Card"]},Ie.length===0){x(null),N(""),await Kn();return}}else{ee("success","DESTROYED","Card Removed",Nm);const Ce=ve.hand.pop();ue[le].playedCards||(ue[le].playedCards=[]),ue[le].playedCards.push(Ce);let rt;if(Ie.length>0?rt=Ie.pop():(rt=E.burntCard,Se.push({text:"Deck empty! Recycled Burnt Card.",type:"warning"})),ue[le].hand.push(rt),Se.push({text:` ${de.name} destroyed ${ve.name}'s card!`,type:"neutral"}),xe={id:Date.now(),targetId:Z,type:"CANNONEER",message:`${de.name} destroyed your card! It was added to your history. You drew a new one.`,cardToShow:Ce,compareCard:rt,labels:["Destroyed","New Card"]},Ie.length===0){x(null),N(""),await Kn();return}}}else if(H==="MERCHANT"){let le=[];Ie.length>=2?le=[Ie.pop(),Ie.pop()]:Ie.length===1&&(le=[Ie.pop()]);const ve=[...ue[Ze].hand,...le];ue[Ze].hand=[];const Ce=Se.map(rt=>({...rt,id:Date.now()+Math.random().toString()}));await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{players:ue,deck:Ie,thiefActive:ke||null,logs:wn(...Ce),discardPile:wn(H),merchantState:{pool:ve,originalDeckCount:Ie.length}}),x(null),N("");return}else if(H==="SAILOR"){const le=ue.findIndex(ve=>ve.id===Z);if(ue[le].immune)Se.push({text:` ${ue[le].name} is immune to Swap!`,type:"warning"}),xe={id:Date.now(),targetId:Z,type:"SAILOR",message:`${de.name} tried to swap hands with you, but you were Immune!`};else{const ve=ue[Ze].hand.pop(),Ce=ue[le].hand.pop();ue[Ze].hand.push(Ce),ue[le].hand.push(ve),Se.push({text:` ${de.name} swapped hands with ${ue[le].name}.`,type:"neutral"}),xe={id:Date.now(),targetId:Z,type:"SAILOR",message:`${de.name} swapped hands with you.`,cardToShow:ve,compareCard:Ce,labels:["Taken Card","Current Hand"]}}}else H==="CAPTAIN"?Se.push({text:` ${de.name} plays Captain (No Effect).`,type:"neutral"}):H==="PIRATE"&&(ee("failure","SUICIDE","You Played Pirate!",Gi),It(s.uid,"Played Pirate (Suicide)"));x(null),N(""),await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{discardPile:wn(H)}),await wi({players:ue,deck:Ie,turnIndex:E.turnIndex,thiefActive:ke||null,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},Se,xe)},Vt=async H=>{const Z=E.merchantState.pool,W=Z.filter((ue,Ze)=>Ze!==Z.indexOf(H));let oe=[...E.deck,...W];oe=nm(oe);const Te=[...E.players],Pe=Te.findIndex(ue=>ue.id===s.uid);Te[Pe].hand=[H],await Jt(Lt(Pt,"artifacts",qt,"public","data","rooms",d),{merchantState:null}),await wi({players:Te,deck:oe,turnIndex:E.turnIndex,thiefActive:E.thiefActive,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},[{text:` ${E.players.find(ue=>ue.id===s.uid).name} used Merchant to draw cards and kept one.`,type:"neutral"}])};E?.players.filter(H=>!H.eliminated&&H.id!==s?.uid);const tt=E?.players.find(H=>H.id===s?.uid),Ln=E?.players[E?.turnIndex]?.id===s?.uid,ns=E?.players.filter(H=>H.id!==E.hostId).every(H=>H.readyForNext);if(!s)return A.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(im,{}),te&&A.jsx(Mv,{onClose:()=>_e(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(Mm,{size:64,className:"text-red-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-red-500 to-orange-600 font-serif tracking-widest drop-shadow-md",children:"PIRATES"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Adventure on the Sea"})]}),A.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-red-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ne&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ne}),A.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-red-500 outline-none transition-colors",placeholder:"Pirate Name",value:l,onChange:H=>c(H.target.value)}),A.jsxs("button",{onClick:Ve,disabled:M,className:"w-full bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-red-500/30 shadow-[0_0_15px_rgba(220,38,38,0.2)] transition-all",children:[A.jsx(Mm,{size:20})," Create New Ship"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-red-500 outline-none",placeholder:"ROOM CODE",value:_,onChange:H=>y(H.target.value.toUpperCase())}),A.jsx("button",{onClick:Ge,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),A.jsxs("button",{onClick:()=>_e(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(Iv,{size:16})," How to Play"]})]}),A.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Love Letter. A tribute game.",A.jsx("br",{}),"Developed by ",A.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const H=E.hostId===s.uid,Z=E.deckConfig?.guards??6,W=E.deckConfig?.merchants??2,oe=E.players.length;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(im,{}),Ne&&A.jsx(Ov,{onCancel:()=>pe(!1),onConfirmLeave:Mt,onConfirmLobby:()=>{Cn(),pe(!1)},isHost:H,inGame:!1}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/50 shadow-2xl mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-red-500",children:["Cabin: ",A.jsx("span",{className:"text-white font-mono",children:d})]}),A.jsx("button",{onClick:()=>pe(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:A.jsx(Om,{size:16})})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[A.jsx("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:A.jsxs("span",{children:["Crew (",E.players.length,"/8)"]})}),A.jsxs("div",{className:"space-y-2",children:[E.players.map(Te=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${Te.id===s.uid?"text-red-400":"text-gray-300"}`,children:[A.jsx(Vm,{size:14,className:Te.id===s.uid?"text-red-400":"text-gray-500"}),Te.name,Te.id===E.hostId&&A.jsx(Jc,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Wd,{size:12})," Ready"]}),H&&Te.id!==s.uid&&A.jsx("button",{onClick:()=>es(Te.id),className:"p-1 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:A.jsx(MI,{size:16})})]})]},Te.id)),E.players.length<2&&A.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),H&&A.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-red-300 font-bold mb-2 uppercase text-xs tracking-wider flex items-center gap-2",children:[A.jsx(xI,{size:16})," Deck Config"]}),oe>4&&A.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Disabled (5+ Players)"})]}),A.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${oe>4?"opacity-50 pointer-events-none":""}`,children:[A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-blue-400",children:["Guards (",Z,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ci(Z-1,W),disabled:Z<=4,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>ci(Z+1,W),disabled:Z>=6,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]}),A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:["Merchants (",W,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ci(Z,W-1),disabled:W<=0,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>ci(Z,W+1),disabled:W>=2,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]})]})]}),H?A.jsx("button",{onClick:()=>hi(),disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:E.players.length<2?"Awaiting Agents...":"Commence Operation"}):A.jsx("div",{className:"text-center text-red-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),A.jsx(Dv,{})]})}if(i==="game"&&E){const H=E.merchantState&&Ln,Z=E.hostId===s.uid;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[A.jsx(im,{}),Xe&&A.jsx(qI,{type:Xe.type,message:Xe.message,subtext:Xe.subtext,icon:Xe.icon}),fe&&A.jsx(HI,{title:fe.title,text:fe.text,type:fe.type,card:fe.card,compareCard:fe.compareCard,labels:fe.labels,onClose:()=>He(null)}),Ne&&A.jsx(Ov,{onCancel:()=>pe(!1),onConfirmLeave:Mt,onConfirmLobby:()=>{Cn(),pe(!1)},isHost:Z,inGame:!0}),te&&A.jsx(Mv,{onClose:()=>_e(!1)}),A.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-[160] backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-red-500 font-bold tracking-wider hidden md:block",children:"PIRATES"}),A.jsxs("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:["Room ",E.roomId]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>_e(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Guide",children:A.jsx(Iv,{size:18})}),A.jsx("button",{onClick:()=>I(!ze),className:`p-2 rounded-full ${ze?"bg-red-900 text-red-400":"text-gray-400 hover:bg-gray-800"}`,children:A.jsx(_I,{size:18})}),A.jsx("button",{onClick:()=>pe(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave",children:A.jsx(Om,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[A.jsxs("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 flex flex-col gap-2 items-center text-gray-500 hidden md:flex",children:[A.jsx("div",{className:"w-16 h-24 bg-gray-900/90 border-2 border-gray-700 rounded-lg flex items-center justify-center",children:A.jsx("span",{className:"font-bold text-xl",children:E.deck.length})}),A.jsx("span",{className:"text-xs uppercase",children:"Deck"})]}),A.jsxs("div",{className:"md:hidden bg-gray-800/80 px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-400 mb-2",children:["Deck:"," ",A.jsx("span",{className:"text-white font-bold",children:E.deck.length})]}),A.jsx("div",{className:"flex gap-2 md:gap-4 justify-center flex-wrap w-full",children:E.players.map((W,oe)=>{if(W.id===s.uid)return null;const Te=E.turnIndex===oe,Pe=Ln&&S&&!W.eliminated,ue=W.immune,Ze=E.thiefActive?.playerId===W.id;return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:`
                    relative bg-gray-900/90 p-2 md:p-3 rounded-lg md:rounded-xl border-2 w-36 md:w-48 transition-all cursor-pointer
                    ${Te?"border-red-500 shadow-red-500/20 shadow-lg scale-105":"border-gray-700"}
                    ${W.eliminated?"opacity-50 grayscale":""}
                    ${Pe?"ring-2 md:ring-4 ring-orange-500 hover:scale-110":""}
                    ${ue?"ring-2 md:ring-4 ring-green-400/50 shadow-[0_0_15px_rgba(74,222,128,0.5)] animate-pulse":""}
                    ${Ze?"ring-2 md:ring-4 ring-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse":""}
                  `,onClick:()=>Pe?Ur(W.id):null,children:[A.jsx("div",{className:"flex justify-between items-start mb-1 md:mb-2",children:A.jsx("span",{className:`font-bold truncate text-xs md:text-sm w-full ${Te?"text-red-300":"text-gray-300"}`,children:W.name})}),A.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[W.immune&&A.jsx(xs,{size:10,className:"text-green-400"}),Ze&&A.jsx(Dm,{size:10,className:"text-red-400"})]}),A.jsx("div",{className:"flex gap-0.5 md:gap-1 justify-center mb-1 md:mb-2",children:W.hand.map((de,Ie)=>A.jsx("div",{className:"w-4 h-6 md:w-6 md:h-8 bg-blue-900 rounded border border-blue-500"},Ie))}),A.jsxs("div",{className:"flex justify-between items-center text-[8px] md:text-xs text-gray-400 bg-gray-900/50 p-0.5 md:p-1 rounded",children:[A.jsxs("span",{className:"flex items-center gap-0.5",children:[A.jsx(Zc,{size:8,className:"text-yellow-400"})," ",W.coins]}),W.eliminated&&A.jsx(Gi,{size:10,className:"text-red-500"})]}),Te&&A.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap",children:"PLAYING"}),Pe&&A.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-lg md:rounded-xl flex items-center justify-center font-bold text-[10px] md:text-sm text-orange-300 animate-pulse",children:"TARGET"}),ue&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"IMMUNE"}),Ze&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"THIEF"})]}),A.jsx("div",{className:"mt-1 md:mt-2 flex gap-0.5 justify-center flex-wrap max-w-[5rem] md:max-w-[8rem]",children:W.playedCards&&W.playedCards.map((de,Ie)=>A.jsx(co,{type:de,tiny:!0},Ie))})]},W.id)})}),A.jsx("div",{className:"pointer-events-none z-0 my-2 flex flex-col items-center space-y-2 opacity-80 w-full px-4",children:E.logs.slice(-2).reverse().map((W,oe)=>A.jsx("div",{className:"bg-black/60 px-3 py-1 rounded text-xs md:text-sm text-white backdrop-blur-sm text-center truncate max-w-full",children:W.text},oe))}),A.jsxs("div",{className:`w-full max-w-2xl bg-gray-900/95 p-3 md:p-6 rounded-t-2xl md:rounded-t-3xl border-t border-red-900/50 backdrop-blur-md transition-colors ${tt?.eliminated?"grayscale opacity-75":""}`,children:[A.jsxs("div",{className:"flex justify-between items-start md:items-center mb-3 md:mb-4",children:[A.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3",children:[A.jsxs("div",{className:`bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2 
                    ${tt.immune?"ring-2 ring-green-500 shadow-lg shadow-green-500/20":""}
                    ${E.thiefActive?.playerId===tt.id?"ring-2 ring-red-500 shadow-lg shadow-red-500/20":""}
                   `,children:[A.jsx(Vm,{className:"text-gray-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-lg max-w-[80px] md:max-w-none truncate text-gray-300",children:tt.name}),tt.immune&&A.jsx(xs,{className:"text-green-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"}),E.thiefActive?.playerId===tt.id&&A.jsx(Dm,{className:"text-red-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"})]}),A.jsxs("div",{className:"bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2",children:[A.jsx(Zc,{className:"text-yellow-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-xl text-yellow-400",children:tt.coins}),A.jsxs("span",{className:"text-[10px] md:text-xs text-gray-500 uppercase font-bold self-end mb-0.5 md:mb-1",children:["/ ",tm(E.players.length)]})]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-1 max-w-[160px] md:max-w-xs",children:[Ln&&!tt.eliminated&&!H&&A.jsx("div",{className:"text-green-400 font-bold animate-pulse uppercase tracking-widest text-xs md:text-sm mb-1 bg-green-900/20 px-2 py-0.5 rounded border border-green-500/50",children:"PLAYING"}),A.jsxs("div",{className:"flex gap-0.5 items-center bg-gray-900/50 p-1 md:p-2 rounded-lg border border-gray-700 w-full overflow-x-auto",children:[A.jsx("span",{className:"text-[8px] md:text-[10px] text-gray-500 uppercase mr-1 hidden md:inline shrink-0",children:"History"}),tt.playedCards&&tt.playedCards.map((W,oe)=>A.jsx("div",{className:"shrink-0",children:A.jsx(co,{type:W,tiny:!0})},oe))]})]})]}),tt.eliminated?A.jsxs("div",{className:"text-center py-4 md:py-8 text-red-500 font-bold text-xl md:text-2xl uppercase tracking-widest border-2 border-red-900 bg-red-900/10 rounded-xl",children:[A.jsx(Gi,{className:"inline-block mb-1 md:mb-2 w-8 h-8 md:w-12 md:h-12"}),A.jsx("br",{}),"Eliminated"]}):A.jsx(A.Fragment,{children:A.jsx("div",{className:"flex justify-center gap-2 md:gap-4 mb-2",children:H?E.merchantState.pool.map((W,oe)=>A.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A.jsx(co,{type:W,onClick:()=>Vt(W),highlight:!0}),A.jsx("span",{className:"text-xs text-green-400 font-bold",children:"Keep"})]},oe)):tt.hand.map((W,oe)=>{const Te=Ln,Pe=S===W;return A.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[Pe&&A.jsx("div",{className:"absolute -top-8 md:-top-10 bg-yellow-500 text-black px-2 py-1 rounded text-[10px] md:text-xs font-bold animate-bounce z-20 whitespace-nowrap",children:"Select Target!"}),A.jsx(co,{type:W,onClick:()=>Te?ts(W):null,disabled:!Te,highlight:Te&&Pe}),Te&&Pe&&A.jsx("div",{className:"flex flex-col gap-1 w-full animate-in fade-in slide-in-from-bottom-2",children:A.jsx("button",{onClick:()=>x(null),className:"bg-red-900/50 hover:bg-red-900 text-[8px] md:text-[10px] py-1 rounded text-red-300 w-full",children:"Cancel"})})]},oe)})})})]})]}),ze&&A.jsx(GI,{logs:E.logs,onClose:()=>I(!1)}),U&&A.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 border-2 border-blue-500 rounded-xl p-4 md:p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in",children:[A.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-4 flex items-center gap-2",children:[A.jsx(xs,{className:"text-blue-400"}),"Guess a Card"]}),A.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.keys(mt).filter(W=>{if(W==="GUARD")return!1;const oe=E.deckConfig?.merchants??2;return!(W==="MERCHANT"&&oe===0)}).map(W=>A.jsxs("button",{onClick:()=>Rt(W),className:`
                        p-2 rounded text-xs md:text-sm font-bold transition-colors flex items-center gap-1 md:gap-2 justify-center md:justify-start
                        ${ut===W?"bg-yellow-500 text-black ring-2 ring-yellow-300":"bg-gray-700 hover:bg-blue-600 text-white"}
                      `,children:[Hb.createElement(mt[W].icon,{size:14}),mt[W].name]},W))}),A.jsx("button",{onClick:()=>{ut?(ts("GUARD",U,ut),C(null),Rt(null),x(null)):(C(null),x(null))},className:`
                  w-full py-3 rounded font-bold transition-colors
                  ${ut?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-red-900/50 hover:bg-red-900 text-red-200"}
                `,children:ut?"Confirm Play":"Cancel"})]})}),E.status==="finished"&&!fe&&F.length===0&&A.jsxs("div",{className:"fixed inset-0 top-14 bg-black/95 z-[150] flex flex-col items-center justify-center p-4 text-center",children:[A.jsx(Hl,{size:48,className:"text-yellow-400 mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Game Over!"}),A.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8",children:[E.players.find(W=>W.id===E.winnerId)?.name," ","wins the treasure!"]}),E.hostId===s.uid?A.jsxs("div",{className:"flex flex-col items-center gap-3 w-full max-w-xs",children:[!ns&&A.jsxs("div",{className:"text-red-400 text-xs md:text-sm animate-pulse mb-1 flex items-center gap-2 justify-center",children:[A.jsx(aT,{size:16})," Waiting for crew..."]}),A.jsxs("button",{onClick:kr,disabled:!ns,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all
                        ${ns?"bg-blue-600 hover:bg-blue-500 shadow-blue-900/20 text-white":"bg-gray-700 cursor-not-allowed text-gray-400"}
                      `,children:[A.jsx(SI,{size:20})," Restart Game"]}),A.jsxs("button",{onClick:Cn,disabled:!ns,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 border-2 transition-all
                        ${ns?"border-green-600 text-green-500 hover:bg-green-600/10":"border-gray-700 text-gray-500 cursor-not-allowed"}
                      `,children:[A.jsx(rT,{size:20})," Return to Lobby"]})]}):A.jsx("button",{onClick:Ls,disabled:E.players.find(W=>W.id===s.uid)?.readyForNext,className:`w-full max-w-xs py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${E.players.find(W=>W.id===s.uid)?.readyForNext?"bg-gray-700 text-green-400 border border-green-500 cursor-default":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:E.players.find(W=>W.id===s.uid)?.readyForNext?A.jsxs(A.Fragment,{children:[A.jsx(Wd,{size:24})," Waiting for Host..."]}):"Ready for Next Game"})]}),A.jsx(Dv,{})]})}return null}Xb.createRoot(document.getElementById("root")).render(A.jsx(et.StrictMode,{children:A.jsx(FI,{})}));
