(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Ob(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Od={exports:{}},To={};var k_;function Mb(){if(k_)return To;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=t,To.jsx=i,To.jsxs=i,To}var U_;function Vb(){return U_||(U_=1,Od.exports=Mb()),Od.exports}var I=Vb(),Md={exports:{}},Rt={};var L_;function kb(){if(L_)return Rt;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function gt(O,Y,st){this.props=O,this.context=Y,this.refs=W,this.updater=st||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function St(){}St.prototype=gt.prototype;function _t(O,Y,st){this.props=O,this.context=Y,this.refs=W,this.updater=st||tt}var Qt=_t.prototype=new St;Qt.constructor=_t,nt(Qt,gt.prototype),Qt.isPureReactComponent=!0;var Kt=Array.isArray;function Gt(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,Y,st){var at=st.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:st}}function V(O,Y){return R(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function ae(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Gt,Gt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,st,at,vt){var It=typeof O;(It==="undefined"||It==="boolean")&&(O=null);var Tt=!1;if(O===null)Tt=!0;else switch(It){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(O.$$typeof){case r:case t:Tt=!0;break;case T:return Tt=O._init,G(Tt(O._payload),Y,st,at,vt)}}if(Tt)return vt=vt(O),Tt=at===""?"."+ae(O,0):at,Kt(vt)?(st="",Tt!=null&&(st=Tt.replace(w,"$&/")+"/"),G(vt,Y,st,"",function(J){return J})):vt!=null&&(N(vt)&&(vt=V(vt,st+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Tt)),Y.push(vt)),1;Tt=0;var ye=at===""?".":at+":";if(Kt(O))for(var le=0;le<O.length;le++)at=O[le],It=ye+ae(at,le),Tt+=G(at,Y,st,It,vt);else if(le=H(O),typeof le=="function")for(O=le.call(O),le=0;!(at=O.next()).done;)at=at.value,It=ye+ae(at,le++),Tt+=G(at,Y,st,It,vt);else if(It==="object"){if(typeof O.then=="function")return G(Ce(O),Y,st,at,vt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function it(O,Y,st){if(O==null)return O;var at=[],vt=0;return G(O,at,"","",function(It){return Y.call(st,It,vt++)}),at}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:it,forEach:function(O,Y,st){it(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Rt.Activity=S,Rt.Children=Xt,Rt.Component=gt,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=_t,Rt.StrictMode=a,Rt.Suspense=_,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=nt({},O.props),vt=O.key;if(Y!=null)for(It in Y.key!==void 0&&(vt=""+Y.key),Y)!A.call(Y,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&Y.ref===void 0||(at[It]=Y[It]);var It=arguments.length-2;if(It===1)at.children=st;else if(1<It){for(var Tt=Array(It),ye=0;ye<It;ye++)Tt[ye]=arguments[ye+2];at.children=Tt}return R(O.type,vt,at)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,Y,st){var at,vt={},It=null;if(Y!=null)for(at in Y.key!==void 0&&(It=""+Y.key),Y)A.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=Y[at]);var Tt=arguments.length-2;if(Tt===1)vt.children=st;else if(1<Tt){for(var ye=Array(Tt),le=0;le<Tt;le++)ye[le]=arguments[le+2];vt.children=ye}if(O&&O.defaultProps)for(at in Tt=O.defaultProps,Tt)vt[at]===void 0&&(vt[at]=Tt[at]);return R(O,It,vt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:p,render:O}},Rt.isValidElement=N,Rt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ft}},Rt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Rt.startTransition=function(O){var Y=x.T,st={};x.T=st;try{var at=O(),vt=x.S;vt!==null&&vt(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Gt,Ut)}catch(It){Ut(It)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),x.T=Y}},Rt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Rt.use=function(O){return x.H.use(O)},Rt.useActionState=function(O,Y,st){return x.H.useActionState(O,Y,st)},Rt.useCallback=function(O,Y){return x.H.useCallback(O,Y)},Rt.useContext=function(O){return x.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},Rt.useEffect=function(O,Y){return x.H.useEffect(O,Y)},Rt.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Rt.useId=function(){return x.H.useId()},Rt.useImperativeHandle=function(O,Y,st){return x.H.useImperativeHandle(O,Y,st)},Rt.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},Rt.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},Rt.useMemo=function(O,Y){return x.H.useMemo(O,Y)},Rt.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},Rt.useReducer=function(O,Y,st){return x.H.useReducer(O,Y,st)},Rt.useRef=function(O){return x.H.useRef(O)},Rt.useState=function(O){return x.H.useState(O)},Rt.useSyncExternalStore=function(O,Y,st){return x.H.useSyncExternalStore(O,Y,st)},Rt.useTransition=function(){return x.H.useTransition()},Rt.version="19.2.0",Rt}var P_;function Sm(){return P_||(P_=1,Md.exports=kb()),Md.exports}var Ee=Sm();const Ub=Ob(Ee);var Vd={exports:{}},bo={},kd={exports:{}},Ud={};var z_;function Lb(){return z_||(z_=1,(function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Ut=ft-1>>>1,Xt=G[Ut];if(0<o(Xt,it))G[Ut]=it,G[ft]=Xt,ft=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Ut=0,Xt=G.length,O=Xt>>>1;Ut<O;){var Y=2*(Ut+1)-1,st=G[Y],at=Y+1,vt=G[at];if(0>o(st,ft))at<Xt&&0>o(vt,st)?(G[Ut]=vt,G[at]=ft,Ut=at):(G[Ut]=st,G[Y]=ft,Ut=Y);else if(at<Xt&&0>o(vt,ft))G[Ut]=vt,G[at]=ft,Ut=at;else break t}}return it}function o(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],T=1,S=null,M=3,H=!1,tt=!1,nt=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Qt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function Kt(G){if(nt=!1,Qt(G),!tt)if(i(_)!==null)tt=!0,Gt||(Gt=!0,U());else{var it=i(y);it!==null&&Ce(Kt,it.startTime-G)}}var Gt=!1,x=-1,A=5,R=-1;function V(){return W?!0:!(r.unstable_now()-R<A)}function N(){if(W=!1,Gt){var G=r.unstable_now();R=G;var it=!0;try{t:{tt=!1,nt&&(nt=!1,St(x),x=-1),H=!0;var ft=M;try{e:{for(Qt(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var Ut=S.callback;if(typeof Ut=="function"){S.callback=null,M=S.priorityLevel;var Xt=Ut(S.expirationTime<=G);if(G=r.unstable_now(),typeof Xt=="function"){S.callback=Xt,Qt(G),it=!0;break e}S===i(_)&&a(_),Qt(G)}else a(_);S=i(_)}if(S!==null)it=!0;else{var O=i(y);O!==null&&Ce(Kt,O.startTime-G),it=!1}}break t}finally{S=null,M=ft,H=!1}it=void 0}}finally{it?U():Gt=!1}}}var U;if(typeof _t=="function")U=function(){_t(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=N,U=function(){ae.postMessage(null)}}else U=function(){gt(N,0)};function Ce(G,it){x=gt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ft=M;M=it;try{return G()}finally{M=ft}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return it()}finally{M=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Ut=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ft+Xt,G={id:T++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Xt,sortIndex:-1},ft>Ut?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(nt?(St(x),x=-1):nt=!0,Ce(Kt,ft-Ut))):(G.sortIndex=Xt,t(_,G),tt||H||(tt=!0,Gt||(Gt=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var it=M;return function(){var ft=M;M=it;try{return G.apply(this,arguments)}finally{M=ft}}}})(Ud)),Ud}var j_;function Pb(){return j_||(j_=1,kd.exports=Lb()),kd.exports}var Ld={exports:{}},fn={};var B_;function zb(){if(B_)return fn;B_=1;var r=Sm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},fn.flushSync=function(_){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=T,a.d.f()}},fn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},fn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},fn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},fn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},fn.requestFormReset=function(_){a.d.r(_)},fn.unstable_batchedUpdates=function(_,y){return _(y)},fn.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var q_;function jb(){if(q_)return Ld.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=zb(),Ld.exports}var H_;function Bb(){if(H_)return bo;H_=1;var r=Pb(),t=Sm(),i=jb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case Kt:return"Suspense";case Gt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case _t:return e.displayName||"Context";case St:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],Xt=-1;function O(e){return{current:e}}function Y(e){0>Xt||(e.current=Ut[Xt],Ut[Xt]=null,Xt--)}function st(e,n){Xt++,Ut[Xt]=e.current,e.current=n}var at=O(null),vt=O(null),It=O(null),Tt=O(null);function ye(e,n){switch(st(It,n),st(vt,e),st(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),st(at,e)}function le(){Y(at),Y(vt),Y(It)}function J(e){e.memoizedState!==null&&st(Tt,e);var n=at.current,s=r_(n,e.type);n!==s&&(st(vt,e),st(at,s))}function $(e){vt.current===e&&(Y(at),Y(vt)),Tt.current===e&&(Y(Tt),yo._currentValue=ft)}var rt,Ot;function xt(e){if(rt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rt=n&&n[1]||"",Ot=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+Ot}var Te=!1;function mt(e,n){if(!e||Te)return"";Te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var F=`
`+C[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Te=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?xt(s):""}function $t(e,n){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==n&&n!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return xt("Activity");default:return""}}function Mt(e){try{var n="",s=null;do n+=$t(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,ht=r.unstable_scheduleCallback,de=r.unstable_cancelCallback,$i=r.unstable_shouldYield,oa=r.unstable_requestPaint,Je=r.unstable_now,_i=r.unstable_getCurrentPriorityLevel,ni=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,Zt=r.unstable_NormalPriority,Ie=r.unstable_LowPriority,vi=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,ii=null,We=null;function jn(e){if(typeof nu=="function"&&iu(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ii,e)}catch{}}var xe=Math.clz32?Math.clz32:ru,su=Math.log,ua=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/ua|0)|0}var Ei=256,Sr=262144,Ve=4194304;function Ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ti(l):(g&=E,g!==0?h=Ti(g):s||(s=E&~e,s!==0&&(h=Ti(s))))):(E=l&~f,E!==0?h=Ti(E):g!==0?h=Ti(g):s||(s=l&~e,s!==0&&(h=Ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function si(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),e}function Ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-xe(s),K=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&Rr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-xe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Tl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-xe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function bl(e,n){var s=n&-n;return s=(s&42)!==0?1:Cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function ri(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var ai=Math.random().toString(36).slice(2),ke="__reactFiber$"+ai,Ke="__reactProps$"+ai,Si="__reactContainer$"+ai,ca="__reactEvents$"+ai,Lh="__reactListeners$"+ai,ou="__reactHandles$"+ai,uu="__reactResources$"+ai,wi="__reactMarker$"+ai;function ha(e){delete e[ke],delete e[Ke],delete e[ca],delete e[Lh],delete e[ou]}function Ri(e){var n=e[ke];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Si]||s[ke]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=f_(e);e!==null;){if(s=e[ke])return s;e=f_(e)}return n}e=s,s=e.parentNode}return null}function Bn(e){if(e=e[ke]||e[Si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Nn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ci(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ue(e){e[wi]=!0}var Al=new Set,Sl={};function Ii(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(Sl[e]=n,e=0;e<n.length;e++)Al.add(n[e])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function cu(e){return wt.call(Cl,e)?!0:wt.call(Rl,e)?!1:wl.test(e)?Cl[e]=!0:(Rl[e]=!0,!1)}function fa(e,n,s){if(cu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Le(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Il(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ie(e){if(!e._valueTracker){var n=Cs(e)?"checked":"value";e._valueTracker=Il(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Cs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xr=/[\n"\\]/g;function Tn(e){return e.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?xl(e,g,Xe(n)):s!=null?xl(e,g,Xe(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function hu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ie(e);return}s=s!=null?""+Xe(s):"",n=n!=null?""+Xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),ie(e)}function xl(e,n,s){n==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Is(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,s){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Xe(s):""}function xs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ce(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Xe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),ie(e)}function bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||du.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Dl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Nl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Nl(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var Ol=null;function qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,Di=null;function Nr(e){var n=Bn(e);if(n&&(e=n.stateNode)){var s=e[Ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ke]||null;if(!h)throw Error(a(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Ir(l)}break t;case"textarea":fu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Is(e,!!s.multiple,n,!1)}}}var pa=!1;function Os(e,n,s){if(pa)return e(n,s);pa=!0;try{var l=e(n);return l}finally{if(pa=!1,(Ds!==null||Di!==null)&&(lc(),Ds&&(n=Ds,e=Di,Di=Ds=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function oi(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Hn)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{Dr=!1}var Oi=null,Ml=null,Or=null;function Vl(){if(Or)return Or;var e,n=Ml,s=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Or=h.slice(e,1<l?1-l:void 0)}function Mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function ui(){return!1}function tn(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ui,this.isPropagationStopped=ui,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=tn(Wi),Ms=S({},Wi,{view:0,detail:0}),kl=tn(Ms),Vs,ya,Vi,_a=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Vs=e.screenX-Vi.screenX,ya=e.screenY-Vi.screenY):ya=Vs=0,Vi=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ul=tn(_a),Vr=S({},_a,{dataTransfer:0}),gu=tn(Vr),pu=S({},Ms,{relatedTarget:0}),kr=tn(pu),Ll=S({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=tn(Ll),va=S({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=tn(va),vu=S({},Wi,{data:0}),ki=tn(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function ks(){return Au}var yn=S({},Ms,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=tn(yn),wu=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=tn(wu),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=tn(u),v=S({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=tn(v),L=S({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=tn(L),et=S({},Wi,{newState:0,oldState:0}),Nt=tn(et),Ne=[9,13,27,32],te=Hn&&"CompositionEvent"in window,_e=null;Hn&&"documentMode"in document&&(_e=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!_e,Ui=Hn&&(!te||_e&&8<_e&&11>=_e),ci=" ",hi=!1;function Ur(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function nT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return e=n.data,e===ci&&hi?null:e;default:return null}}function iT(e,n){if(Ta)return e==="compositionend"||!te&&Ur(e,n)?(e=Vl(),Or=Ml=Oi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var sT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!sT[e.type]:n==="textarea"}function pg(e,n,s,l){Ds?Di?Di.push(l):Di=[l]:Ds=l,n=mc(n,"onChange"),0<n.length&&(s=new Mi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Pl=null,zl=null;function rT(e){Jy(e,0)}function Ru(e){var n=Nn(e);if(Ir(n))return e}function yg(e,n){if(e==="change")return n}var _g=!1;if(Hn){var Ph;if(Hn){var zh="oninput"in document;if(!zh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),zh=typeof vg.oninput=="function"}Ph=zh}else Ph=!1;_g=Ph&&(!document.documentMode||9<document.documentMode)}function Eg(){Pl&&(Pl.detachEvent("onpropertychange",Tg),zl=Pl=null)}function Tg(e){if(e.propertyName==="value"&&Ru(zl)){var n=[];pg(n,zl,e,qn(e)),Os(rT,n)}}function aT(e,n,s){e==="focusin"?(Eg(),Pl=n,zl=s,Pl.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function lT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(zl)}function oT(e,n){if(e==="click")return Ru(n)}function uT(e,n){if(e==="input"||e==="change")return Ru(n)}function cT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var On=typeof Object.is=="function"?Object.is:cT;function jl(e,n){if(On(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!wt.call(n,h)||!On(e[h],n[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ag(e,n){var s=bg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=bg(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ni(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ni(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hT=Hn&&"documentMode"in document&&11>=document.documentMode,ba=null,Bh=null,Bl=null,qh=!1;function Rg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qh||ba==null||ba!==Ni(l)||(l=ba,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&jl(Bl,l)||(Bl=l,l=mc(Bh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ba)))}function Lr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Aa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Hh={},Cg={};Hn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Pr(e){if(Hh[e])return Hh[e];if(!Aa[e])return e;var n=Aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cg)return Hh[e]=n[s];return e}var Ig=Pr("animationend"),xg=Pr("animationiteration"),Ng=Pr("animationstart"),fT=Pr("transitionrun"),dT=Pr("transitionstart"),mT=Pr("transitioncancel"),Dg=Pr("transitionend"),Og=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function fi(e,n){Og.set(e,n),Ii(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Sa=0,Fh=0;function Iu(){for(var e=Sa,n=Fh=Sa=0;n<e;){var s=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Mg(s,h,f)}}function xu(e,n,s,l){Fn[Sa++]=e,Fn[Sa++]=n,Fn[Sa++]=s,Fn[Sa++]=l,Fh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Qh(e,n,s,l){return xu(e,n,s,l),Nu(e)}function zr(e,n){return xu(e,null,null,n),Nu(e)}function Mg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-xe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<uo)throw uo=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function gT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,n,s,l){return new gT(e,n,s,l)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function es(e,n){var s=e.alternate;return s===null?(s=Mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Vg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Yh(e)&&(g=1);else if(typeof e=="string")g=Eb(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Mn(31,s,n,h),e.elementType=R,e.lanes=f,e;case nt:return jr(s.children,h,f,n);case W:g=8,h|=24;break;case gt:return e=Mn(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case Kt:return e=Mn(13,s,n,h),e.elementType=Kt,e.lanes=f,e;case Gt:return e=Mn(19,s,n,h),e.elementType=Gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case St:g=9;break t;case Qt:g=11;break t;case x:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Mn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function jr(e,n,s,l){return e=Mn(7,e,l,n),e.lanes=s,e}function Kh(e,n,s){return e=Mn(6,e,null,n),e.lanes=s,e}function kg(e){var n=Mn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,s){return n=Mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ug=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var s=Ug.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Mt(n)},Ug.set(e,n),n)}return{value:e,source:n,stack:Mt(n)}}var Ra=[],Ca=0,Ou=null,ql=0,Yn=[],Kn=0,Us=null,Li=1,Pi="";function ns(e,n){Ra[Ca++]=ql,Ra[Ca++]=Ou,Ou=e,ql=n}function Lg(e,n,s){Yn[Kn++]=Li,Yn[Kn++]=Pi,Yn[Kn++]=Us,Us=e;var l=Li;e=Pi;var h=32-xe(l)-1;l&=~(1<<h),s+=1;var f=32-xe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-xe(n)+h|s<<h|l,Pi=f+e}else Li=1<<f|s<<h|l,Pi=e}function $h(e){e.return!==null&&(ns(e,1),Lg(e,1,0))}function Zh(e){for(;e===Ou;)Ou=Ra[--Ca],Ra[Ca]=null,ql=Ra[--Ca],Ra[Ca]=null;for(;e===Us;)Us=Yn[--Kn],Yn[Kn]=null,Pi=Yn[--Kn],Yn[Kn]=null,Li=Yn[--Kn],Yn[Kn]=null}function Pg(e,n){Yn[Kn++]=Li,Yn[Kn++]=Pi,Yn[Kn++]=Us,Li=n.id,Pi=n.overflow,Us=e}var en=null,me=null,Ft=!1,Ls=null,Xn=!1,Jh=Error(a(519));function Ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Qn(n,e)),Jh}function zg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ke]=e,n[Ke]=l,s){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(s=0;s<ho.length;s++)Pt(ho[s],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":Pt("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",n);break;case"textarea":Pt("invalid",n),xs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||n_(n.textContent,s)?(l.popover!=null&&(Pt("beforetoggle",n),Pt("toggle",n)),l.onScroll!=null&&Pt("scroll",n),l.onScrollEnd!=null&&Pt("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Ps(e,!0)}function jg(e){for(en=e.return;en;)switch(en.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:en=en.return}}function Ia(e){if(e!==en)return!1;if(!Ft)return jg(e),Ft=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||yd(e.type,e.memoizedProps)),s=!s),s&&me&&Ps(e),jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));me=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));me=h_(e)}else n===27?(n=me,Js(e.type)?(e=bd,bd=null,me=e):me=n):me=en?Zn(e.stateNode.nextSibling):null;return!0}function Br(){me=en=null,Ft=!1}function Wh(){var e=Ls;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Ls=null),e}function Hl(e){Ls===null?Ls=[e]:Ls.push(e)}var tf=O(null),qr=null,is=null;function zs(e,n,s){st(tf,n._currentValue),n._currentValue=s}function ss(e){e._currentValue=tf.current,Y(tf)}function ef(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function nf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),ef(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),ef(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function xa(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Tt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yo):e=[yo])}h=h.return}e!==null&&nf(n,e,s,l),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!On(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){qr=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nn(e){return Bg(qr,e)}function Vu(e,n){return qr===null&&Hr(e),Bg(e,n)}function Bg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(e===null)throw Error(a(308));is=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else is=is.next=n;return s}var pT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},yT=r.unstable_scheduleCallback,_T=r.unstable_NormalPriority,Pe={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new pT,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&yT(_T,function(){e.controller.abort()})}var Fl=null,rf=0,Na=0,Da=null;function vT(e,n){if(Fl===null){var s=Fl=[];rf=0,Na=od(),Da={status:"pending",value:void 0,then:function(l){s.push(l)}}}return rf++,n.then(qg,qg),n}function qg(){if(--rf===0&&Fl!==null){Da!==null&&(Da.status="fulfilled");var e=Fl;Fl=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ET(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Hg=G.S;G.S=function(e,n){Ry=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vT(e,n),Hg!==null&&Hg(e,n)};var Gr=O(null);function af(){var e=Gr.current;return e!==null?e:fe.pooledCache}function ku(e,n){n===null?st(Gr,Gr.current):st(Gr,n.pool)}function Gg(){var e=af();return e===null?null:{parent:Pe._currentValue,pool:e}}var Oa=Error(a(460)),lf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(li,li),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e;default:if(typeof n.status=="string")n.then(li,li);else{if(e=fe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kg(e),e}throw Qr=n,Oa}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Qr=s,Oa):s}}var Qr=null;function Yg(){if(Qr===null)throw Error(a(459));var e=Qr;return Qr=null,e}function Kg(e){if(e===Oa||e===Uu)throw Error(a(483))}var Ma=null,Ql=0;function Pu(e){var n=Ql;return Ql+=1,Ma===null&&(Ma=[]),Qg(Ma,e,n)}function Yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=es(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=Kh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Q){var dt=P.type;return dt===nt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Fr(dt)===D.type)?(D=h(D,P.props),Yl(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,Q),Yl(D,P),D.return=k,D)}function z(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,dt){return D===null||D.tag!==7?(D=jr(P,k.mode,Q,dt),D.return=k,D):(D=h(D,P),D.return=k,D)}function K(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=Du(D.type,D.key,D.props,null,k.mode,P),Yl(P,D),P.return=k,P;case tt:return D=Xh(D,k.mode,P),D.return=k,D;case A:return D=Fr(D),K(k,D,P)}if(Ce(D)||U(D))return D=jr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return K(k,Pu(D),P);if(D.$$typeof===_t)return K(k,Vu(k,D),P);zu(k,D)}return null}function j(k,D,P,Q){var dt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===dt?C(k,D,P,Q):null;case tt:return P.key===dt?z(k,D,P,Q):null;case A:return P=Fr(P),j(k,D,P,Q)}if(Ce(P)||U(P))return dt!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return j(k,D,Pu(P),Q);if(P.$$typeof===_t)return j(k,D,Vu(k,P),Q);zu(k,P)}return null}function q(k,D,P,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,C(D,k,Q,dt);case tt:return k=k.get(Q.key===null?P:Q.key)||null,z(D,k,Q,dt);case A:return Q=Fr(Q),q(k,D,P,Q,dt)}if(Ce(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,dt,null);if(typeof Q.then=="function")return q(k,D,P,Pu(Q),dt);if(Q.$$typeof===_t)return q(k,D,P,Vu(D,Q),dt);zu(D,Q)}return null}function ot(k,D,P,Q){for(var dt=null,Jt=null,ut=D,Vt=D=0,jt=null;ut!==null&&Vt<P.length;Vt++){ut.index>Vt?(jt=ut,ut=null):jt=ut.sibling;var Wt=j(k,ut,P[Vt],Q);if(Wt===null){ut===null&&(ut=jt);break}e&&ut&&Wt.alternate===null&&n(k,ut),D=f(Wt,D,Vt),Jt===null?dt=Wt:Jt.sibling=Wt,Jt=Wt,ut=jt}if(Vt===P.length)return s(k,ut),Ft&&ns(k,Vt),dt;if(ut===null){for(;Vt<P.length;Vt++)ut=K(k,P[Vt],Q),ut!==null&&(D=f(ut,D,Vt),Jt===null?dt=ut:Jt.sibling=ut,Jt=ut);return Ft&&ns(k,Vt),dt}for(ut=l(ut);Vt<P.length;Vt++)jt=q(ut,k,Vt,P[Vt],Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Vt:jt.key),D=f(jt,D,Vt),Jt===null?dt=jt:Jt.sibling=jt,Jt=jt);return e&&ut.forEach(function(ir){return n(k,ir)}),Ft&&ns(k,Vt),dt}function yt(k,D,P,Q){if(P==null)throw Error(a(151));for(var dt=null,Jt=null,ut=D,Vt=D=0,jt=null,Wt=P.next();ut!==null&&!Wt.done;Vt++,Wt=P.next()){ut.index>Vt?(jt=ut,ut=null):jt=ut.sibling;var ir=j(k,ut,Wt.value,Q);if(ir===null){ut===null&&(ut=jt);break}e&&ut&&ir.alternate===null&&n(k,ut),D=f(ir,D,Vt),Jt===null?dt=ir:Jt.sibling=ir,Jt=ir,ut=jt}if(Wt.done)return s(k,ut),Ft&&ns(k,Vt),dt;if(ut===null){for(;!Wt.done;Vt++,Wt=P.next())Wt=K(k,Wt.value,Q),Wt!==null&&(D=f(Wt,D,Vt),Jt===null?dt=Wt:Jt.sibling=Wt,Jt=Wt);return Ft&&ns(k,Vt),dt}for(ut=l(ut);!Wt.done;Vt++,Wt=P.next())Wt=q(ut,k,Vt,Wt.value,Q),Wt!==null&&(e&&Wt.alternate!==null&&ut.delete(Wt.key===null?Vt:Wt.key),D=f(Wt,D,Vt),Jt===null?dt=Wt:Jt.sibling=Wt,Jt=Wt);return e&&ut.forEach(function(Db){return n(k,Db)}),Ft&&ns(k,Vt),dt}function he(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var dt=P.key;D!==null;){if(D.key===dt){if(dt=P.type,dt===nt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Fr(dt)===D.type){s(k,D.sibling),Q=h(D,P.props),Yl(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(Q=jr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Du(P.type,P.key,P.props,null,k.mode,Q),Yl(Q,P),Q.return=k,k=Q)}return g(k);case tt:t:{for(dt=P.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Xh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Fr(P),he(k,D,P,Q)}if(Ce(P))return ot(k,D,P,Q);if(U(P)){if(dt=U(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),yt(k,D,P,Q)}if(typeof P.then=="function")return he(k,D,Pu(P),Q);if(P.$$typeof===_t)return he(k,D,Vu(k,P),Q);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Kh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Ql=0;var dt=he(k,D,P,Q);return Ma=null,dt}catch(ut){if(ut===Oa||ut===Uu)throw ut;var Jt=Mn(29,ut,null,k.mode);return Jt.lanes=Q,Jt.return=k,Jt}finally{}}}var Yr=Xg(!0),$g=Xg(!1),js=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Nu(e),Mg(e,null,s),n}return xu(e,l,n,s),Nu(e)}function Kl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Tl(e,s)}}function cf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var hf=!1;function Xl(){if(hf){var e=Da;if(e!==null)throw e}}function $l(e,n,s,l){hf=!1;var h=e.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var K=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(zt&j)===j:(l&j)===j){j!==0&&j===Na&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,yt=E;j=n;var he=s;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){K=ot.call(he,K,j);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,j=typeof ot=="function"?ot.call(he,K,j):ot,j==null)break t;K=S({},K,j);break t;case 2:js=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=K):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=K),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=g,e.lanes=g,e.memoizedState=K}}function Zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zg(s[e],n)}var Va=O(null),ju=O(0);function Wg(e,n){e=ds,st(ju,e),st(Va,n),ds=e|n.baseLanes}function ff(){st(ju,ds),st(Va,Va.current)}function df(){ds=ju.current,Y(Va),Y(ju)}var Vn=O(null),$n=null;function Hs(e){var n=e.alternate;st(De,De.current&1),st(Vn,e),$n===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&($n=e)}function mf(e){st(De,De.current),st(Vn,e),$n===null&&($n=e)}function tp(e){e.tag===22?(st(De,De.current),st(Vn,e),$n===null&&($n=e)):Gs()}function Gs(){st(De,De.current),st(Vn,Vn.current)}function kn(e){Y(Vn),$n===e&&($n=null),Y(De)}var De=O(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ed(s)||Td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Dt=null,ue=null,ze=null,qu=!1,ka=!1,Kr=!1,Hu=0,Zl=0,Ua=null,TT=0;function we(){throw Error(a(321))}function gf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!On(e[s],n[s]))return!1;return!0}function pf(e,n,s,l,h,f){return rs=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Lp:Df,Kr=!1,f=s(l,h),Kr=!1,ka&&(f=np(n,s,l,h)),ep(e),f}function ep(e){G.H=to;var n=ue!==null&&ue.next!==null;if(rs=0,ze=ue=Dt=null,qu=!1,Zl=0,Ua=null,n)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&Mu(e)&&(je=!0))}function np(e,n,s,l){Dt=e;var h=0;do{if(ka&&(Ua=null),Zl=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,ze=ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Pp,f=n(s,l)}while(ka);return f}function bT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Jl(n):n,e=e.useState()[0],(ue!==null?ue.memoizedState:null)!==e&&(Dt.flags|=1024),n}function yf(){var e=Hu!==0;return Hu=0,e}function _f(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function vf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}rs=0,ze=ue=Dt=null,ka=!1,Zl=Hu=0,Ua=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Dt.memoizedState=ze=e:ze=ze.next=e,ze}function Oe(){if(ue===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var n=ze===null?Dt.memoizedState:ze.next;if(n!==null)ze=n,ue=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ze===null?Dt.memoizedState=ze=e:ze=ze.next=e}return ze}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(e){var n=Zl;return Zl+=1,Ua===null&&(Ua=[]),e=Qg(Ua,e,n),n=Dt,(ze===null?n.memoizedState:ze.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Lp:Df),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jl(e);if(e.$$typeof===_t)return nn(e)}throw Error(a(438,String(e)))}function Ef(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function as(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Oe();return Tf(n,ue,e)}function Tf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(zt&K)===K:(rs&K)===K){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Na&&(F=!0);else if((rs&j)===j){z=z.next,j===Na&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=K,g=f):C=C.next=K,Dt.lanes|=j,Ys|=j;K=z.action,Kr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,Dt.lanes|=K,Ys|=K;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!On(f,e.memoizedState)&&(je=!0,F&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bf(e){var n=Oe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ip(e,n,s){var l=Dt,h=Oe(),f=Ft;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!On((ue||h).memoizedState,s);if(g&&(h.memoizedState=s,je=!0),h=h.queue,wf(ap.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},rp.bind(null,l,h,s,n),null),fe===null)throw Error(a(349));f||(rs&127)!==0||sp(l,n,s)}return s}function sp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Gu(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function rp(e,n,s,l){n.value=s,n.getSnapshot=l,lp(n)&&op(e)}function ap(e,n,s){return s(function(){lp(n)&&op(e)})}function lp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!On(e,s)}catch{return!0}}function op(e){var n=zr(e,2);n!==null&&Cn(n,e,2)}function Af(e){var n=_n();if(typeof e=="function"){var s=e;if(e=s(),Kr){jn(!0);try{s()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n}function up(e,n,s,l){return e.baseState=s,Tf(e,ue,typeof l=="function"?l:as)}function AT(e,n,s,l,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cp(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),C=G.S;C!==null&&C(g,E),hp(e,n,E)}catch(z){Sf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),hp(e,n,f)}catch(z){Sf(e,n,z)}}function hp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){fp(e,n,l)},function(l){return Sf(e,n,l)}):fp(e,n,s)}function fp(e,n,s){n.status="fulfilled",n.value=s,dp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,cp(e,s)))}function Sf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,dp(n),n=n.next;while(n!==l)}e.action=null}function dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mp(e,n){return n}function gp(e,n){if(Ft){var s=fe.formState;if(s!==null){t:{var l=Dt;if(Ft){if(me){e:{for(var h=me,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){me=Zn(h.nextSibling),l=h.data==="F!";break t}}Ps(l)}l=!1}l&&(n=s[0])}}return s=_n(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},s.queue=l,s=Vp.bind(null,Dt,l),l.dispatch=s,l=Af(!1),f=Nf.bind(null,Dt,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=AT.bind(null,Dt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function pp(e){var n=Oe();return yp(n,ue,e)}function yp(e,n,s){if(n=Tf(e,n,mp)[0],e=Qu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Jl(n)}catch(g){throw g===Oa?Uu:g}else l=n;n=Oe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,La(9,{destroy:void 0},ST.bind(null,h,s),null)),[l,f,e]}function ST(e,n){e.action=n}function _p(e){var n=Oe(),s=ue;if(s!==null)return yp(n,s,e);Oe(),n=n.memoizedState,s=Oe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function La(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Gu(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function vp(){return Oe().memoizedState}function Yu(e,n,s,l){var h=_n();Dt.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ku(e,n,s,l){var h=Oe();l=l===void 0?null:l;var f=h.memoizedState.inst;ue!==null&&l!==null&&gf(l,ue.memoizedState.deps)?h.memoizedState=La(n,f,s,l):(Dt.flags|=e,h.memoizedState=La(1|n,f,s,l))}function Ep(e,n){Yu(8390656,8,e,n)}function wf(e,n){Ku(2048,8,e,n)}function wT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Gu(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tp(e){var n=Oe().memoizedState;return wT({ref:n,nextImpl:e}),function(){if((ee&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function bp(e,n){return Ku(4,2,e,n)}function Ap(e,n){return Ku(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wp(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,Sp.bind(null,n,e),s)}function Rf(){}function Rp(e,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&gf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Cp(e,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&gf(n,l[1]))return l[0];if(l=e(),Kr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[l,n],l}function Cf(e,n,s){return s===void 0||(rs&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Iy(),Dt.lanes|=e,Ys|=e,s)}function Ip(e,n,s,l){return On(s,n)?s:Va.current!==null?(e=Cf(e,s,l),On(e,n)||(je=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(zt&261930)===0?(je=!0,e.memoizedState=s):(e=Iy(),Dt.lanes|=e,Ys|=e,n)}function xp(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Nf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=ET(C,l);Wl(e,n,F,Pn(e))}else Wl(e,n,l,Pn(e))}catch(K){Wl(e,n,{then:function(){},status:"rejected",reason:K},Pn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function RT(){}function If(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;xp(e,h,n,ft,s===null?RT:function(){return Dp(e),s(l)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dp(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Wl(e,n.next.queue,{},Pn())}function xf(){return nn(yo)}function Op(){return Oe().memoizedState}function Mp(){return Oe().memoizedState}function CT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Pn();e=Bs(s);var l=qs(n,e,s);l!==null&&(Cn(l,n,s),Kl(l,n,s)),n={cache:sf()},e.payload=n;return}n=n.return}}function IT(e,n,s){var l=Pn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(e)?kp(n,s):(s=Qh(e,n,s,l),s!==null&&(Cn(s,e,l),Up(s,n,l)))}function Vp(e,n,s){var l=Pn();Wl(e,n,s,l)}function Wl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return xu(e,n,h,0),fe===null&&Iu(),!1}catch{}finally{}if(s=Qh(e,n,h,l),s!==null)return Cn(s,e,l),Up(s,n,l),!0}return!1}function Nf(e,n,s,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Qh(e,s,l,2),n!==null&&Cn(n,e,2)}function Xu(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function kp(e,n){ka=qu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Up(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Tl(e,s)}}var to={readContext:nn,use:Fu,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};to.useEffectEvent=we;var Lp={readContext:nn,use:Fu,useCallback:function(e,n){return _n().memoizedState=[e,n===void 0?null:n],e},useContext:nn,useEffect:Ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var s=_n();n=n===void 0?null:n;var l=e();if(Kr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=_n();if(s!==void 0){var h=s(n);if(Kr){jn(!0);try{s(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=IT.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var n=_n();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,s=Vp.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Rf,useDeferredValue:function(e,n){var s=_n();return Cf(s,e,n)},useTransition:function(){var e=Af(!1);return e=xp.bind(null,Dt,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Dt,h=_n();if(Ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),fe===null)throw Error(a(349));(zt&127)!==0||sp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,l,f,e),[e]),l.flags|=2048,La(9,{destroy:void 0},rp.bind(null,l,f,s,n),null),s},useId:function(){var e=_n(),n=fe.identifierPrefix;if(Ft){var s=Pi,l=Li;s=(l&~(1<<32-xe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=TT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=_n();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return _n().memoizedState=CT.bind(null,Dt)},useEffectEvent:function(e){var n=_n(),s={impl:e};return n.memoizedState=s,function(){if((ee&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:nn,use:Fu,useCallback:Rp,useContext:nn,useEffect:wf,useImperativeHandle:wp,useInsertionEffect:bp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Qu,useRef:vp,useState:function(){return Qu(as)},useDebugValue:Rf,useDeferredValue:function(e,n){var s=Oe();return Ip(s,ue.memoizedState,e,n)},useTransition:function(){var e=Qu(as)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Jl(e),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=Oe();return up(s,ue,e,n)},useMemoCache:Ef,useCacheRefresh:Mp};Df.useEffectEvent=Tp;var Pp={readContext:nn,use:Fu,useCallback:Rp,useContext:nn,useEffect:wf,useImperativeHandle:wp,useInsertionEffect:bp,useLayoutEffect:Ap,useMemo:Cp,useReducer:bf,useRef:vp,useState:function(){return bf(as)},useDebugValue:Rf,useDeferredValue:function(e,n){var s=Oe();return ue===null?Cf(s,e,n):Ip(s,ue.memoizedState,e,n)},useTransition:function(){var e=bf(as)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Jl(e),n]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=Oe();return ue!==null?up(s,ue,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Mp};Pp.useEffectEvent=Tp;function Of(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Mf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Pn(),h=Bs(l);h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(Cn(n,e,l),Kl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Pn(),h=Bs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(Cn(n,e,l),Kl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Pn(),l=Bs(s);l.tag=2,n!=null&&(l.callback=n),n=qs(e,l,s),n!==null&&(Cn(n,e,s),Kl(n,e,s))}};function zp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!jl(s,l)||!jl(h,f):!0}function jp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function Xr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Bp(e){Cu(e)}function qp(e){console.error(e)}function Hp(e){Cu(e)}function $u(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){$u(e,n)},s}function Fp(e){return e=Bs(e),e.tag=3,e}function Qp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gp(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Vn.current,s!==null){switch(s.tag){case 31:case 13:return $n===null?oc():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),rd(e,l,h)),!1;case 22:return s.flags|=65536,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),rd(e,l,h)),!1}throw Error(a(435,s.tag))}return rd(e,l,h),oc(),!1}if(Ft)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Jh&&(e=Error(a(422),{cause:l}),Hl(Qn(e,s)))):(l!==Jh&&(n=Error(a(423),{cause:l}),Hl(Qn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Qn(l,s),h=Vf(e.stateNode,l,h),cf(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:l});if(f=Qn(f,s),oo===null?oo=[f]:oo.push(f),Re!==4&&(Re=2),n===null)return!0;l=Qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Vf(s.stateNode,l,e),cf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Fp(h),Qp(h,e,s,l),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),je=!1;function sn(e,n,s,l){n.child=e===null?$g(n,null,s,l):Yr(n,e.child,s,l)}function Yp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Hr(n),l=pf(e,n,s,g,f,h),E=yf(),e!==null&&!je?(_f(e,n,h),ls(e,n,h)):(Ft&&E&&$h(n),n.flags|=1,sn(e,n,l,h),n.child)}function Kp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xp(e,n,f,l,h)):(e=Du(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:jl,s(g,l)&&e.ref===n.ref)return ls(e,n,h)}return n.flags|=1,e=es(f,l),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(jl(f,l)&&e.ref===n.ref)if(je=!1,n.pendingProps=l=f,Hf(e,h))(e.flags&131072)!==0&&(je=!0);else return n.lanes=e.lanes,ls(e,n,h)}return Uf(e,n,s,l,h)}function $p(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Zp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):ff(),tp(n);else return l=n.lanes=536870912,Zp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(ku(n,f.cachePool),Wg(n,f),Gs(),n.memoizedState=null):(e!==null&&ku(n,null),ff(),Gs());return sn(e,n,h,s),n.child}function eo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(e,n,s,l,h){var f=af();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ku(n,null),ff(),tp(n),e!==null&&xa(e,n,l,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jp(e,n,s){return Yr(n,e.child,null,s),e=Zu(n,n.pendingProps),e.flags|=2,kn(n),n.memoizedState=null,e}function NT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(l.mode==="hidden")return e=Zu(n,l),n.lanes=536870912,eo(null,e);if(mf(n),(e=me)?(e=c_(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=kg(e),s.return=n,n.child=s,en=n,me=null)):e=null,e===null)throw Ps(n);return n.lanes=536870912,null}return Zu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Jp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(je||xa(e,n,s,!1),h=(s&e.childLanes)!==0,je||h){if(l=fe,l!==null&&(g=bl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,zr(e,g),Cn(l,e,g),kf;oc(),n=Jp(e,n,s)}else e=f.treeContext,me=Zn(g.nextSibling),en=n,Ft=!0,Ls=null,Xn=!1,e!==null&&Pg(n,e),n=Zu(n,l),n.flags|=4096;return n}return e=es(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Uf(e,n,s,l,h){return Hr(n),s=pf(e,n,s,l,void 0,h),l=yf(),e!==null&&!je?(_f(e,n,h),ls(e,n,h)):(Ft&&l&&$h(n),n.flags|=1,sn(e,n,s,h),n.child)}function Wp(e,n,s,l,h,f){return Hr(n),n.updateQueue=null,s=np(n,l,s,h),ep(e),l=yf(),e!==null&&!je?(_f(e,n,f),ls(e,n,f)):(Ft&&l&&$h(n),n.flags|=1,sn(e,n,s,f),n.child)}function ty(e,n,s,l,h){if(Hr(n),n.stateNode===null){var f=wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=nn(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?nn(g):wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Of(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),$l(n,l,f,h),Xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Xr(s,E);f.props=C;var z=f.context,F=s.contextType;g=wa,typeof F=="object"&&F!==null&&(g=nn(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&jp(n,f,l,g),js=!1;var j=n.memoizedState;f.state=j,$l(n,l,f,h),Xl(),z=n.memoizedState,E||j!==z||js?(typeof K=="function"&&(Of(n,s,K,l),z=n.memoizedState),(C=js||zp(n,s,C,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,F=Xr(s,g),f.props=F,K=n.pendingProps,j=f.context,z=s.contextType,C=wa,typeof z=="object"&&z!==null&&(C=nn(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==C)&&jp(n,f,l,C),js=!1,j=n.memoizedState,f.state=j,$l(n,l,f,h),Xl();var q=n.memoizedState;g!==K||j!==q||js||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Of(n,s,E,l),q=n.memoizedState),(F=js||zp(n,s,F,l,j,q,C)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Yr(n,e.child,null,h),n.child=Yr(n,null,s,h)):sn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ls(e,n,h),e}function ey(e,n,s,l){return Br(),n.flags|=256,sn(e,n,s,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Gg()}}function zf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Ln),e}function ny(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?Hs(n):Gs(),(e=me)?(e=c_(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=kg(e),s.return=n,n.child=s,en=n,me=null)):e=null,e===null)throw Ps(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Gs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=jr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Pf(s),l.childLanes=zf(e,g,s),n.memoizedState=Lf,eo(null,l)):(Hs(n),jf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Bf(e,n,s)):n.memoizedState!==null?(Gs(),n.child=e.child,n.flags|=128,n=null):(Gs(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=jr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Yr(n,e.child,null,s),l=n.child,l.memoizedState=Pf(s),l.childLanes=zf(e,g,s),n.memoizedState=Lf,n=eo(null,l));else if(Hs(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Hl({value:l,source:null,stack:null}),n=Bf(e,n,s)}else if(je||xa(e,n,s,!1),g=(s&e.childLanes)!==0,je||g){if(g=fe,g!==null&&(l=bl(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,zr(e,l),Cn(g,e,l),kf;Ed(E)||oc(),n=Bf(e,n,s)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,me=Zn(E.nextSibling),en=n,Ft=!0,Ls=null,Xn=!1,e!==null&&Pg(n,e),n=jf(n,l.children),n.flags|=4096);return n}return h?(Gs(),E=l.fallback,h=n.mode,C=e.child,z=C.sibling,l=es(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=es(z,E):(E=jr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,eo(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Pf(s):(h=E.cachePool,h!==null?(C=Pe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Gg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=zf(e,g,s),n.memoizedState=Lf,eo(e.child,l)):(Hs(n),s=e.child,e=s.sibling,s=es(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function jf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=Mn(22,e,null,n),e.lanes=0,e}function Bf(e,n,s){return Yr(n,e.child,null,s),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ef(e.return,n,s)}function qf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function sy(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(De,g),sn(e,n,l,s),l=Ft?ql:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,s,n);else if(e.tag===19)iy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),qf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}qf(n,!0,s,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=es(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=es(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function DT(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),zs(n,Pe,e.memoizedState.cache),Br();break;case 27:case 5:J(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ny(e,n,s):(Hs(n),e=ls(e,n,s),e!==null?e.sibling:null);Hs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(xa(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return sy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),l)break;return null;case 22:return n.lanes=0,$p(e,n,s,n.pendingProps);case 24:zs(n,Pe,e.memoizedState.cache)}return ls(e,n,s)}function ry(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)je=!0;else{if(!Hf(e,s)&&(n.flags&128)===0)return je=!1,DT(e,n,s);je=(e.flags&131072)!==0}else je=!1,Ft&&(n.flags&1048576)!==0&&Lg(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(l=Xr(e,l),n.tag=1,n=ty(null,n,e,l,s)):(n.tag=0,n=Uf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Yp(null,n,e,l,s);break t}else if(h===x){n.tag=14,n=Kp(null,n,e,l,s);break t}}throw n=ae(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Xr(l,n.pendingProps),ty(e,n,l,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),$l(n,l,null,s);var g=n.memoizedState;if(l=g.cache,zs(n,Pe,l),l!==f.cache&&nf(n,[Pe],s,!0),Xl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,l,s);break t}else if(l!==h){h=Qn(Error(a(424)),n),Hl(h),n=ey(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Zn(e.firstChild),en=n,Ft=!0,Ls=null,Xn=!0,s=$g(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Br(),l===h){n=ls(e,n,s);break t}sn(e,n,l,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ft||(s=n.type,e=n.pendingProps,l=gc(It.current).createElement(s),l[ke]=n,l[Ke]=e,rn(l,s,e),Ue(l),n.stateNode=l):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return J(n),e===null&&Ft&&(l=n.stateNode=d_(n.type,n.pendingProps,It.current),en=n,Xn=!0,h=me,Js(n.type)?(bd=h,me=Zn(l.firstChild)):me=h),sn(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=l=me)&&(l=lb(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,en=n,me=Zn(l.firstChild),Xn=!1,h=!0):h=!1),h||Ps(n)),J(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,bT,null,null,s),yo._currentValue=h),Ju(e,n),sn(e,n,l,s),n.child;case 6:return e===null&&Ft&&((e=s=me)&&(s=ob(s,n.pendingProps,Xn),s!==null?(n.stateNode=s,en=n,me=null,e=!0):e=!1),e||Ps(n)),null;case 13:return ny(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Yr(n,null,l,s):sn(e,n,l,s),n.child;case 11:return Yp(e,n,n.type,n.pendingProps,s);case 7:return sn(e,n,n.pendingProps,s),n.child;case 8:return sn(e,n,n.pendingProps.children,s),n.child;case 12:return sn(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,zs(n,n.type,l.value),sn(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Hr(n),h=nn(h),l=l(h),n.flags|=1,sn(e,n,l,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Xp(e,n,n.type,n.pendingProps,s);case 19:return sy(e,n,s);case 31:return NT(e,n,s);case 22:return $p(e,n,s,n.pendingProps);case 24:return Hr(n),l=nn(Pe),e===null?(h=af(),h===null&&(h=fe,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},of(n),zs(n,Pe,h)):((e.lanes&s)!==0&&(uf(e,n),$l(n,null,null,s),Xl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zs(n,Pe,l)):(l=f.cache,zs(n,Pe,l),l!==h.cache&&nf(n,[Pe],s,!0))),sn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(e){e.flags|=4}function Gf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Oy())e.flags|=8192;else throw Qr=Lu,lf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(Oy())e.flags|=8192;else throw Qr=Lu,lf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Ba|=n)}function no(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function OT(e,n,s){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Pe),le(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?os(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ge(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(os(n),f!==null?(ge(n),ay(n,f)):(ge(n),Gf(n,h,null,l,s))):f?f!==e.memoizedState?(os(n),ge(n),ay(n,f)):(ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&os(n),ge(n),Gf(n,h,e,l,s)),null;case 27:if($(n),s=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ge(n),null}e=at.current,Ia(n)?zg(n):(e=d_(h,l,s),n.stateNode=e,os(n))}return ge(n),null;case 5:if($(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ge(n),null}if(f=at.current,Ia(n))zg(n);else{var g=gc(It.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[ke]=n,f[Ke]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(rn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&os(n)}}return ge(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=It.current,Ia(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ke]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||n_(e.nodeValue,s)),e||Ps(n,!0)}else e=gc(e).createTextNode(l),e[ke]=n,n.stateNode=e}return ge(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ke]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),e=!1}else s=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ke]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),ge(n),null);case 4:return le(),e===null&&fd(n.stateNode.containerInfo),ge(n),null;case 10:return ss(n.type),ge(n),null;case 19:if(Y(De),l=n.memoizedState,l===null)return ge(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)no(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,no(l,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Vg(s,e),s=s.sibling;return st(De,De.current&1|2),Ft&&ns(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Je()>rc&&(n.flags|=128,h=!0,no(l,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),no(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ft)return ge(n),null}else 2*Je()-l.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,no(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,s=De.current,st(De,h?s&1|2:s&1),Ft&&ns(n,l.treeForkCount),e):(ge(n),null);case 22:case 23:return kn(n),df(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Gr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(Pe),ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function MT(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ss(Pe),le(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(a(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(kn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(De),null;case 4:return le(),null;case 10:return ss(n.type),null;case 22:case 23:return kn(n),df(),e!==null&&Y(Gr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ss(Pe),null;case 25:return null;default:return null}}function ly(e,n){switch(Zh(n),n.tag){case 3:ss(Pe),le();break;case 26:case 27:case 5:$(n);break;case 4:le();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:Y(De);break;case 10:ss(n.type);break;case 22:case 23:kn(n),df(),e!==null&&Y(Gr);break;case 24:ss(Pe)}}function io(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){re(n,n.return,E)}}function Fs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){re(h,C,F)}}}l=l.next}while(l!==f)}}catch(F){re(n,n.return,F)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Jg(n,s)}catch(l){re(e,e.return,l)}}}function uy(e,n,s){s.props=Xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){re(e,n,l)}}function so(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){re(e,n,h)}}function zi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){re(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){re(e,n,h)}else s.current=null}function cy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){re(e,e.return,h)}}function Ff(e,n,s){try{var l=e.stateNode;eb(l,e.type,s,n),l[Ke]=n}catch(h){re(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Js(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,s),e=e.sibling;e!==null;)Yf(e,n,s),e=e.sibling}function ec(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ec(e,n,s),e=e.sibling;e!==null;)ec(e,n,s),e=e.sibling}function fy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);rn(n,l,s),n[ke]=e,n[Ke]=s}catch(f){re(e,e.return,f)}}var us=!1,Be=!1,Kf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,$e=null;function VT(e,n){if(e=e.containerInfo,gd=bc,e=wg(e),jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,F=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||l!==0&&K.nodeType!==3||(C=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===l&&(C=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(pd={focusedElem:e,selectionRange:s},bc=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=Xr(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){re(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)vd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function my(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hs(e,s),l&4&&io(5,s);break;case 1:if(hs(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){re(s,s.return,g)}else{var h=Xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){re(s,s.return,g)}}l&64&&oy(s),l&512&&so(s,s.return);break;case 3:if(hs(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jg(e,n)}catch(g){re(s,s.return,g)}}break;case 27:n===null&&l&4&&fy(s);case 26:case 5:hs(e,s),n===null&&l&4&&cy(s),l&512&&so(s,s.return);break;case 12:hs(e,s);break;case 31:hs(e,s),l&4&&yy(e,s);break;case 13:hs(e,s),l&4&&_y(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=HT.bind(null,s),ub(e,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Be,h=us;var f=Be;us=l,(Be=n)&&!f?fs(e,s,(s.subtreeFlags&8772)!==0):hs(e,s),us=h,Be=f}break;case 30:break;default:hs(e,s)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,An=!1;function cs(e,n,s){for(s=s.child;s!==null;)py(e,n,s),s=s.sibling}function py(e,n,s){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ii,s)}catch{}switch(s.tag){case 26:Be||zi(s,n),cs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Be||zi(s,n);var l=ve,h=An;Js(s.type)&&(ve=s.stateNode,An=!1),cs(e,n,s),mo(s.stateNode),ve=l,An=h;break;case 5:Be||zi(s,n);case 6:if(l=ve,h=An,ve=null,cs(e,n,s),ve=l,An=h,ve!==null)if(An)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(s.stateNode)}catch(f){re(s,n,f)}else try{ve.removeChild(s.stateNode)}catch(f){re(s,n,f)}break;case 18:ve!==null&&(An?(e=ve,o_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):o_(ve,s.stateNode));break;case 4:l=ve,h=An,ve=s.stateNode.containerInfo,An=!0,cs(e,n,s),ve=l,An=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),Be||Fs(4,s,n),cs(e,n,s);break;case 1:Be||(zi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&uy(s,n,l)),cs(e,n,s);break;case 21:cs(e,n,s);break;case 22:Be=(l=Be)||s.memoizedState!==null,cs(e,n,s),Be=l;break;default:cs(e,n,s)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){re(n,n.return,s)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){re(n,n.return,s)}}function kT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var s=kT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=GT.bind(null,e,l);l.then(h,h)}})}function Sn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){ve=E.stateNode,An=!1;break t}break;case 5:ve=E.stateNode,An=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,An=!0;break t}E=E.return}if(ve===null)throw Error(a(160));py(f,g,h),ve=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var di=null;function vy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sn(n,e),wn(e),l&4&&(Fs(3,e,e.return),io(3,e),Fs(5,e,e.return));break;case 1:Sn(n,e),wn(e),l&512&&(Be||s===null||zi(s,s.return)),l&64&&us&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=di;if(Sn(n,e),wn(e),l&512&&(Be||s===null||zi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[ke]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),rn(f,l,s),f[ke]=e,Ue(f),l=f;break t;case"link":var g=v_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),rn(f,l,s),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),rn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[ke]=e,Ue(f),l=f}e.stateNode=l}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?E_(h,e.type,e.stateNode):__(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,s.memoizedProps)}break;case 27:Sn(n,e),wn(e),l&512&&(Be||s===null||zi(s,s.return)),s!==null&&l&4&&Ff(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Sn(n,e),wn(e),l&512&&(Be||s===null||zi(s,s.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(ot){re(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(Sn(n,e),wn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){re(e,e.return,ot)}}break;case 3:if(_c=null,h=di,di=pc(n.containerInfo),Sn(n,e),di=h,wn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ot){re(e,e.return,ot)}Kf&&(Kf=!1,Ey(e));break;case 4:l=di,di=pc(e.stateNode.containerInfo),Sn(n,e),wn(e),di=l;break;case 12:Sn(n,e),wn(e);break;case 31:Sn(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 13:Sn(n,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sc=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=us,F=Be;if(us=z||h,Be=F||C,Sn(n,e),Be=F,us=z,wn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||us||Be||$r(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ot){re(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){re(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?u_(q,!0):u_(C.stateNode,!1)}catch(ot){re(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,nc(e,s))));break;case 19:Sn(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nc(e,l)));break;case 30:break;case 21:break;default:Sn(n,e),wn(e)}}function wn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(hy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Qf(e);ec(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(bn(g,""),s.flags&=-33);var E=Qf(e);ec(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=Qf(e);Yf(e,z,C);break;default:throw Error(a(161))}}catch(F){re(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function $r(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),$r(n);break;case 1:zi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&uy(n,n.return,s),$r(n);break;case 27:mo(n.stateNode);case 26:case 5:zi(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}e=e.sibling}}function fs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),io(4,f);break;case 1:if(fs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){re(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],E)}catch(z){re(l,l.return,z)}}s&&g&64&&oy(f),so(f,f.return);break;case 27:fy(f);case 26:case 5:fs(h,f,s),s&&l===null&&g&4&&cy(f),so(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&g&4&&yy(h,f);break;case 13:fs(h,f,s),s&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),so(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function Xf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Gl(s))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e))}function mi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,s,l),n=n.sibling}function Ty(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(e,n,s,l),h&2048&&io(9,n);break;case 1:mi(e,n,s,l);break;case 3:mi(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gl(e)));break;case 12:if(h&2048){mi(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){re(n,n.return,C)}}else mi(e,n,s,l);break;case 31:mi(e,n,s,l);break;case 13:mi(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?mi(e,n,s,l):ro(e,n):f._visibility&2?mi(e,n,s,l):(f._visibility|=2,Pa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:mi(e,n,s,l),h&2048&&$f(n.alternate,n);break;default:mi(e,n,s,l)}}function Pa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(f,g,E,C,h),io(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Pa(f,g,E,C,h):ro(f,g):(F._visibility|=2,Pa(f,g,E,C,h)),h&&z&2048&&Xf(g.alternate,g);break;case 24:Pa(f,g,E,C,h),h&&z&2048&&$f(g.alternate,g);break;default:Pa(f,g,E,C,h)}n=n.sibling}}function ro(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:ro(s,l),h&2048&&Xf(l.alternate,l);break;case 24:ro(s,l),h&2048&&$f(l.alternate,l);break;default:ro(s,l)}n=n.sibling}}var ao=8192;function za(e,n,s){if(e.subtreeFlags&ao)for(e=e.child;e!==null;)by(e,n,s),e=e.sibling}function by(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&ao&&e.memoizedState!==null&&Tb(s,di,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var l=di;di=pc(e.stateNode.containerInfo),za(e,n,s),di=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ao,ao=16777216,za(e,n,s),ao=l):za(e,n,s));break;default:za(e,n,s)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function lo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$e=l,wy(l,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:lo(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:lo(e);break;case 12:lo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):lo(e);break;default:lo(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];$e=l,wy(l,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),ic(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function wy(e,n){for(;$e!==null;){var s=$e;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$e=l;else t:for(s=e;$e!==null;){l=$e;var h=l.sibling,f=l.return;if(gy(l),l===s){$e=null;break t}if(h!==null){h.return=f,$e=h;break t}$e=f}}}var UT={getCacheForType:function(e){var n=nn(Pe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return nn(Pe).controller.signal}},LT=typeof WeakMap=="function"?WeakMap:Map,ee=0,fe=null,Lt=null,zt=0,se=0,Un=null,Qs=!1,ja=!1,Zf=!1,ds=0,Re=0,Ys=0,Zr=0,Jf=0,Ln=0,Ba=0,oo=null,Rn=null,Wf=!1,sc=0,Ry=0,rc=1/0,ac=null,Ks=null,Fe=0,Xs=null,qa=null,ms=0,td=0,ed=null,Cy=null,uo=0,nd=null;function Pn(){return(ee&2)!==0&&zt!==0?zt&-zt:G.T!==null?od():lu()}function Iy(){if(Ln===0)if((zt&536870912)===0||Ft){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Ln=e}else Ln=536870912;return e=Vn.current,e!==null&&(e.flags|=32),Ln}function Cn(e,n,s){(e===fe&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),$s(e,zt,Ln,!1)),wr(e,s),((ee&2)===0||e!==fe)&&(e===fe&&((ee&2)===0&&(Zr|=s),Re===4&&$s(e,zt,Ln,!1)),ji(e))}function xy(e,n,s){if((ee&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||si(e,n),h=l?jT(e,n):sd(e,n,!0),f=l;do{if(h===0){ja&&!l&&$s(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!PT(s)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=oo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ha(E,g).flags|=256),g=sd(E,g,!1),g!==2){if(Zf&&!C){E.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break t}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),$s(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(l,n,Ln,!Qs);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-Je(),10<h)){if($s(l,n,Ln,!Qs),bi(l,0,!0)!==0)break t;ms=n,l.timeoutHandle=a_(Ny.bind(null,l,s,Rn,ac,Wf,n,Ln,Zr,Ba,Qs,f,"Throttled",-0,0),h);break t}Ny(l,s,Rn,ac,Wf,n,Ln,Zr,Ba,Qs,f,null,-0,0)}}break}while(!0);ji(e)}function Ny(e,n,s,l,h,f,g,E,C,z,F,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},by(n,f,K);var ot=(f&62914560)===f?sc-Je():(f&4194048)===f?Ry-Je():0;if(ot=bb(K,ot),ot!==null){ms=f,e.cancelPendingCommit=ot(Py.bind(null,e,n,f,s,l,h,g,E,C,F,K,null,j,q)),$s(e,f,g,!z);return}}Py(e,n,f,s,l,h,g,E,C)}function PT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(e,n,s,l){n&=~Jf,n&=~Zr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-xe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Rr(e,s,n)}function lc(){return(ee&6)===0?(co(0),!1):!0}function id(){if(Lt!==null){if(se===0)var e=Lt.return;else e=Lt,is=qr=null,vf(e),Ma=null,Ql=0,e=Lt;for(;e!==null;)ly(e.alternate,e),e=e.return;Lt=null}}function Ha(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,sb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ms=0,id(),fe=e,Lt=s=es(e.current,null),zt=n,se=0,Un=null,Qs=!1,ja=si(e,n),Zf=!1,Ba=Ln=Jf=Zr=Ys=Re=0,Rn=oo=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-xe(l),f=1<<h;n|=e[h],l&=~f}return ds=n,Iu(),s}function Dy(e,n){Dt=null,G.H=to,n===Oa||n===Uu?(n=Yg(),se=3):n===lf?(n=Yg(),se=4):se=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Lt===null&&(Re=1,$u(e,Qn(n,e.current)))}function Oy(){var e=Vn.current;return e===null?!0:(zt&4194048)===zt?$n===null:(zt&62914560)===zt||(zt&536870912)!==0?e===$n:!1}function My(){var e=G.H;return G.H=to,e===null?to:e}function Vy(){var e=G.A;return G.A=UT,e}function oc(){Re=4,Qs||(zt&4194048)!==zt&&Vn.current!==null||(ja=!0),(Ys&134217727)===0&&(Zr&134217727)===0||fe===null||$s(fe,zt,Ln,!1)}function sd(e,n,s){var l=ee;ee|=2;var h=My(),f=Vy();(fe!==e||zt!==n)&&(ac=null,Ha(e,n)),n=!1;var g=Re;t:do try{if(se!==0&&Lt!==null){var E=Lt,C=Un;switch(se){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=se;if(se=0,Un=null,Ga(e,E,C,z),s&&ja){g=0;break t}break;default:z=se,se=0,Un=null,Ga(e,E,C,z)}}zT(),g=Re;break}catch(F){Dy(e,F)}while(!0);return n&&e.shellSuspendCounter++,is=qr=null,ee=l,G.H=h,G.A=f,Lt===null&&(fe=null,zt=0,Iu()),g}function zT(){for(;Lt!==null;)ky(Lt)}function jT(e,n){var s=ee;ee|=2;var l=My(),h=Vy();fe!==e||zt!==n?(ac=null,rc=Je()+500,Ha(e,n)):ja=si(e,n);t:do try{if(se!==0&&Lt!==null){n=Lt;var f=Un;e:switch(se){case 1:se=0,Un=null,Ga(e,n,f,1);break;case 2:case 9:if(Fg(f)){se=0,Un=null,Uy(n);break}n=function(){se!==2&&se!==9||fe!==e||(se=7),ji(e)},f.then(n,n);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Fg(f)?(se=0,Un=null,Uy(n)):(se=0,Un=null,Ga(e,n,f,7));break;case 5:var g=null;switch(Lt.tag){case 26:g=Lt.memoizedState;case 5:case 27:var E=Lt;if(g?T_(g):E.stateNode.complete){se=0,Un=null;var C=E.sibling;if(C!==null)Lt=C;else{var z=E.return;z!==null?(Lt=z,uc(z)):Lt=null}break e}}se=0,Un=null,Ga(e,n,f,5);break;case 6:se=0,Un=null,Ga(e,n,f,6);break;case 8:id(),Re=6;break t;default:throw Error(a(462))}}BT();break}catch(F){Dy(e,F)}while(!0);return is=qr=null,G.H=l,G.A=h,ee=s,Lt!==null?0:(fe=null,zt=0,Iu(),Re)}function BT(){for(;Lt!==null&&!$i();)ky(Lt)}function ky(e){var n=ry(e.alternate,e,ds);e.memoizedProps=e.pendingProps,n===null?uc(e):Lt=n}function Uy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Wp(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Wp(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:vf(n);default:ly(s,n),n=Lt=Vg(n,ds),n=ry(s,n,ds)}e.memoizedProps=e.pendingProps,n===null?uc(e):Lt=n}function Ga(e,n,s,l){is=qr=null,vf(n),Ma=null,Ql=0;var h=n.return;try{if(xT(e,h,n,s,zt)){Re=1,$u(e,Qn(s,e.current)),Lt=null;return}}catch(f){if(h!==null)throw Lt=h,f;Re=1,$u(e,Qn(s,e.current)),Lt=null;return}n.flags&32768?(Ft||l===1?e=!0:ja||(zt&536870912)!==0?e=!1:(Qs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Qs);return}e=n.return;var s=OT(n.alternate,n,ds);if(s!==null){Lt=s;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=e}while(n!==null);Re===0&&(Re=5)}function Ly(e,n){do{var s=MT(e.alternate,e);if(s!==null){s.flags&=32767,Lt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Lt=e;return}Lt=e=s}while(e!==null);Re=6,Lt=null}function Py(e,n,s,l,h,f,g,E,C){e.cancelPendingCommit=null;do cc();while(Fe!==0);if((ee&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Uh(e,s,f,g,E,C),e===fe&&(Lt=fe=null,zt=0),qa=n,Xs=e,ms=s,td=f,ed=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FT(Zt,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,g=ee,ee|=4;try{VT(e,n,s)}finally{ee=g,it.p=h,G.T=l}}Fe=1,zy(),jy(),By()}}function zy(){if(Fe===1){Fe=0;var e=Xs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=ee;ee|=4;try{vy(n,e);var f=pd,g=wg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Sg(E.ownerDocument.documentElement,E)){if(C!==null&&jh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),ot=E.textContent.length,yt=Math.min(C.start,ot),he=C.end===void 0?yt:Math.min(C.end,ot);!q.extend&&yt>he&&(g=he,he=yt,yt=g);var k=Ag(E,yt),D=Ag(E,he);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),yt>he?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bc=!!gd,pd=gd=null}finally{ee=h,it.p=l,G.T=s}}e.current=n,Fe=2}}function jy(){if(Fe===2){Fe=0;var e=Xs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=ee;ee|=4;try{my(e,n.alternate,n)}finally{ee=h,it.p=l,G.T=s}}Fe=3}}function By(){if(Fe===4||Fe===3){Fe=0,oa();var e=Xs,n=qa,s=ms,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Fe=5:(Fe=0,qa=Xs=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Zi(s),n=n.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ii,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(ms&3)!==0&&cc(),ji(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===nd?uo++:(uo=0,nd=e):uo=0,co(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Gl(n)))}function cc(){return zy(),jy(),By(),Hy()}function Hy(){if(Fe!==5)return!1;var e=Xs,n=td;td=0;var s=Zi(ms),l=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=ed,ed=null;var f=Xs,g=ms;if(Fe=0,qa=Xs=null,ms=0,(ee&6)!==0)throw Error(a(331));var E=ee;if(ee|=4,Sy(f.current),Ty(f,f.current,g,s),ee=E,co(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{it.p=h,G.T=l,qy(e,n)}}function Gy(e,n,s){n=Qn(s,n),n=Vf(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(wr(e,2),ji(e))}function re(e,n,s){if(e.tag===3)Gy(e,e,s);else for(;n!==null;){if(n.tag===3){Gy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=Qn(s,e),s=Fp(2),l=qs(n,s,2),l!==null&&(Qp(s,l,n,e),wr(l,2),ji(l));break}}n=n.return}}function rd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new LT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Zf=!0,h.add(s),e=qT.bind(null,e,n,s),n.then(e,e))}function qT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,fe===e&&(zt&s)===s&&(Re===4||Re===3&&(zt&62914560)===zt&&300>Je()-sc?(ee&2)===0&&Ha(e,0):Jf|=s,Ba===zt&&(Ba=0)),ji(e)}function Fy(e,n){n===0&&(n=au()),e=zr(e,n),e!==null&&(wr(e,n),ji(e))}function HT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Fy(e,s)}function GT(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fy(e,s)}function FT(e,n){return ht(e,n)}var hc=null,Fa=null,ad=!1,fc=!1,ld=!1,Zs=0;function ji(e){e!==Fa&&e.next===null&&(Fa===null?hc=Fa=e:Fa=Fa.next=e),fc=!0,ad||(ad=!0,YT())}function co(e,n){if(!ld&&fc){ld=!0;do for(var s=!1,l=hc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(l,f))}else f=zt,f=bi(l,l===fe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(s=!0,Xy(l,f));l=l.next}while(s);ld=!1}}function QT(){Qy()}function Qy(){fc=ad=!1;var e=0;Zs!==0&&ib()&&(e=Zs);for(var n=Je(),s=null,l=hc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,s===null?hc=h:s.next=h,h===null&&(Fa=s)):(s=l,(e!==0||(f&3)!==0)&&(fc=!0)),l=h}Fe!==0&&Fe!==5||co(e),Zs!==0&&(Zs=0)}function Yy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-xe(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&l)!==0)&&(h[g]=kh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=fe,s=zt,s=bi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&de(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||si(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&de(l),Zi(s)){case 2:case 8:s=kt;break;case 32:s=Zt;break;case 268435456:s=vi;break;default:s=Zt}return l=Ky.bind(null,e),s=ht(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&de(l),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var l=zt;return l=bi(e,e===fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xy(e,l,n),Yy(e,Je()),e.callbackNode!=null&&e.callbackNode===s?Ky.bind(null,e):null)}function Xy(e,n){if(cc())return null;xy(e,n,!0)}function YT(){rb(function(){(ee&6)!==0?ht(ni,QT):Qy()})}function od(){if(Zs===0){var e=Na;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),Zs=e}return Zs}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function Zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function KT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=$y((h[Ke]||null).action),g=l.submitter;g&&(n=(n=g[Ke]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Mi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var C=g?Zy(h,g):new FormData(h);If(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Zy(h,g):new FormData(h),If(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],XT=cd.toLowerCase(),$T=cd[0].toUpperCase()+cd.slice(1);fi(XT,"on"+$T)}fi(Ig,"onAnimationEnd"),fi(xg,"onAnimationIteration"),fi(Ng,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(fT,"onTransitionRun"),fi(dT,"onTransitionStart"),fi(mT,"onTransitionCancel"),fi(Dg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ho));function Jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}}}}function Pt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var l=e+"__bubble";s.has(l)||(Wy(n,e,2,!1),s.add(l))}function hd(e,n,s){var l=0;n&&(l|=4),Wy(s,e,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[dc]){e[dc]=!0,Al.forEach(function(s){s!=="selectionchange"&&(ZT.has(s)||hd(s,!1,e),hd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,hd("selectionchange",!1,n))}}function Wy(e,n,s,l){switch(I_(n)){case 2:var h=wb;break;case 8:h=Rb;break;default:h=Cd}s=h.bind(null,n,s,e),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function dd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ri(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Os(function(){var z=f,F=qn(s),K=[];t:{var j=Og.get(e);if(j!==void 0){var q=Mi,ot=e;switch(e){case"keypress":if(Mr(s)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":ot="focus",q=kr;break;case"focusout":ot="blur",q=kr;break;case"beforeblur":case"afterblur":q=kr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ig:case xg:case Ng:q=yu;break;case Dg:q=b;break;case"scroll":case"scrollend":q=kl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ts;break;case"toggle":case"beforetoggle":q=Nt}var yt=(n&4)!==0,he=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var D=z,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=oi(D,k),Q!=null&&yt.push(fo(D,Q,P))),he)break;D=D.return}0<yt.length&&(j=new q(j,ot,null,s,F),K.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Ol&&(ot=s.relatedTarget||s.fromElement)&&(Ri(ot)||ot[Si]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(ot=s.relatedTarget||s.toElement,q=z,ot=ot?Ri(ot):null,ot!==null&&(he=c(ot),yt=ot.tag,ot!==he||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(q=null,ot=z),q!==ot)){if(yt=Ul,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ts,Q="onPointerLeave",k="onPointerEnter",D="pointer"),he=q==null?j:Nn(q),P=ot==null?j:Nn(ot),j=new yt(Q,D+"leave",q,s,F),j.target=he,j.relatedTarget=P,Q=null,Ri(F)===z&&(yt=new yt(k,D+"enter",ot,s,F),yt.target=P,yt.relatedTarget=he,Q=yt),he=Q,q&&ot)e:{for(yt=JT,k=q,D=ot,P=0,Q=k;Q;Q=yt(Q))P++;Q=0;for(var dt=D;dt;dt=yt(dt))Q++;for(;0<P-Q;)k=yt(k),P--;for(;0<Q-P;)D=yt(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){yt=k;break e}k=yt(k),D=yt(D)}yt=null}else yt=null;q!==null&&t_(K,j,q,yt,!1),ot!==null&&he!==null&&t_(K,he,ot,yt,!0)}}t:{if(j=z?Nn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Jt=yg;else if(gg(j))if(_g)Jt=uT;else{Jt=lT;var ut=aT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ma(z.elementType)&&(Jt=yg):Jt=oT;if(Jt&&(Jt=Jt(e,z))){pg(K,Jt,s,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&xl(j,"number",j.value)}switch(ut=z?Nn(z):window,e){case"focusin":(gg(ut)||ut.contentEditable==="true")&&(ba=ut,Bh=z,Bl=null);break;case"focusout":Bl=Bh=ba=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Rg(K,s,F);break;case"selectionchange":if(hT)break;case"keydown":case"keyup":Rg(K,s,F)}var Vt;if(te)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Ta?Ur(e,s)&&(jt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(Ui&&s.locale!=="ko"&&(Ta||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ta&&(Vt=Vl()):(Oi=F,Ml="value"in Oi?Oi.value:Oi.textContent,Ta=!0)),ut=mc(z,jt),0<ut.length&&(jt=new ki(jt,e,null,s,F),K.push({event:jt,listeners:ut}),Vt?jt.data=Vt:(Vt=Ea(s),Vt!==null&&(jt.data=Vt)))),(Vt=Gn?nT(e,s):iT(e,s))&&(jt=mc(z,"onBeforeInput"),0<jt.length&&(ut=new ki("onBeforeInput","beforeinput",null,s,F),K.push({event:ut,listeners:jt}),ut.data=Vt)),KT(K,e,z,s,F)}Jy(K,n)})}function fo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function mc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(e,s),h!=null&&l.unshift(fo(e,h,f)),h=oi(e,n),h!=null&&l.push(fo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function JT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=oi(s,f),z!=null&&g.unshift(fo(s,z,C))):h||(z=oi(s,f),z!=null&&g.push(fo(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var WT=/\r\n?/g,tb=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(tb,"")}function n_(e,n){return n=e_(n),e_(e)===n}function ce(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(e,""+l);break;case"className":Dn(e,"class",l);break;case"tabIndex":Dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(e,s,l);break;case"style":Dl(e,l,f);break;case"data":if(n!=="object"){Dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ga(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ce(e,n,"name",h.name,h,null),ce(e,n,"formEncType",h.formEncType,h,null),ce(e,n,"formMethod",h.formMethod,h,null),ce(e,n,"formTarget",h.formTarget,h,null)):(ce(e,n,"encType",h.encType,h,null),ce(e,n,"method",h.method,h,null),ce(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ga(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=li);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ga(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,fa(e,s,l))}}function md(e,n,s,l,h,f){switch(s){case"style":Dl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):fa(e,s,l)}}}function rn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ce(e,n,f,g,s,null)}}h&&ce(e,n,"srcSet",s.srcSet,s,null),l&&ce(e,n,"src",s.src,s,null);return;case"input":Pt("invalid",e);var E=f=g=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ce(e,n,l,F,s,null)}}hu(e,f,E,C,z,g,h,!1);return;case"select":Pt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ce(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Is(e,!!l,n,!1):s!=null&&Is(e,!!l,s,!0);return;case"textarea":Pt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ce(e,n,g,E,s,null)}xs(e,l,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ce(e,n,C,l,s,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<ho.length;l++)Pt(ho[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ce(e,n,z,l,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&md(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ce(e,n,E,l,s,null))}function eb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(q)||ce(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&ce(e,n,j,q,l,K)}}da(e,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||ce(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ce(e,n,h,f,l,C)}n=E,s=g,l=q,j!=null?Is(e,!!s,j,!1):!!l!=!!s&&(n!=null?Is(e,!!s,n,!0):Is(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ce(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ce(e,n,g,h,l,f)}fu(e,j,q);return;case"option":for(var ot in s)if(j=s[ot],s.hasOwnProperty(ot)&&j!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:ce(e,n,ot,null,l,j)}for(C in l)if(j=l[C],q=s[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ce(e,n,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&ce(e,n,yt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ce(e,n,z,j,l,q)}return;default:if(ma(n)){for(var he in s)j=s[he],s.hasOwnProperty(he)&&j!==void 0&&!l.hasOwnProperty(he)&&md(e,n,he,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||md(e,n,F,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&ce(e,n,k,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||ce(e,n,K,j,l,q)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&i_(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>E)break;var F=C.transferSize,K=C.initiatorType;F&&i_(K)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function ib(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(e){return l_.resolve(null).then(e).catch(ab)}:a_;function ab(e){setTimeout(function(){throw e})}function Js(e){return e==="head"}function o_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Xa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")mo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,mo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[wi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&mo(e.ownerDocument.body);s=h}while(s);Xa(n)}function u_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function ob(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ub(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function mo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Jn=new Map,m_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=it.d;it.d={f:cb,r:hb,D:fb,C:db,L:mb,m:gb,X:yb,S:pb,M:_b};function cb(){var e=gs.f(),n=lc();return e||n}function hb(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Dp(n):gs.r(e)}var Qa=typeof document>"u"?null:document;function g_(e,n,s){var l=Qa;if(l&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),rn(n,"link",e),Ue(n),l.head.appendChild(n)))}}function fb(e){gs.D(e),g_("dns-prefetch",e,null)}function db(e,n){gs.C(e,n),g_("preconnect",e,n)}function mb(e,n,s){gs.L(e,n,s);var l=Qa;if(l&&e&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(e)+'"]';var f=h;switch(n){case"style":f=Ya(e);break;case"script":f=Ka(e)}Jn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Jn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),rn(n,"link",e),Ue(n),l.head.appendChild(n)))}}function gb(e,n){gs.m(e,n);var s=Qa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Jn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Jn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(po(f)))return}l=s.createElement("link"),rn(l,"link",e),Ue(l),s.head.appendChild(l)}}}function pb(e,n,s){gs.S(e,n,s);var l=Qa;if(l&&e){var h=Ci(l).hoistableStyles,f=Ya(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(go(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Jn.get(f))&&Ad(e,s);var C=g=l.createElement("link");Ue(C),rn(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function yb(e,n){gs.X(e,n);var s=Qa;if(s&&e){var l=Ci(s).hoistableScripts,h=Ka(e),f=l.get(h);f||(f=s.querySelector(po(h)),f||(e=S({src:e,async:!0},n),(n=Jn.get(h))&&Sd(e,n),f=s.createElement("script"),Ue(f),rn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(e,n){gs.M(e,n);var s=Qa;if(s&&e){var l=Ci(s).hoistableScripts,h=Ka(e),f=l.get(h);f||(f=s.querySelector(po(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Jn.get(h))&&Sd(e,n),f=s.createElement("script"),Ue(f),rn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(e,n,s,l){var h=(h=It.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ya(s.href),s=Ci(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ya(s.href);var f=Ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(go(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),f||vb(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(s),s=Ci(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ya(e){return'href="'+Tn(e)+'"'}function go(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),rn(n,"link",s),Ue(n),e.head.appendChild(n))}function Ka(e){return'[src="'+Tn(e)+'"]'}function po(e){return"script[async]"+e}function __(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(l)return n.instance=l,Ue(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ue(l),rn(l,"style",h),yc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ya(s.href);var f=e.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,Ue(f),f;l=y_(s),(h=Jn.get(h))&&Ad(l,h),f=(e.ownerDocument||e).createElement("link"),Ue(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),rn(f,"link",l),n.state.loading|=4,yc(f,s.precedence,e),n.instance=f;case"script":return f=Ka(s.src),(h=e.querySelector(po(f)))?(n.instance=h,Ue(h),h):(l=s,(h=Jn.get(f))&&(l=S({},s),Sd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ue(h),rn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,s.precedence,e));return n.instance}function yc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function v_(e,n,s){if(_c===null){var l=new Map,h=_c=new Map;h.set(s,l)}else h=_c,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[wi]||f[ke]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function E_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Eb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ya(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ue(f);return}f=n.ownerDocument||n,l=y_(l),(h=Jn.get(h))&&Ad(l,h),f=f.createElement("link"),Ue(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),rn(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=vc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function bb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*nb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(Ab,e),Ec=null,vc.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var s=Ec.get(e);if(s)var l=s.get(null);else{s=new Map,Ec.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yo={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Sb(e,n,s,l,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function b_(e,n,s,l,h,f,g,E,C,z,F,K){return e=new Sb(e,n,s,g,C,z,F,K,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},of(f),e}function A_(e){return e?(e=wa,e):wa}function S_(e,n,s,l,h,f){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=Bs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=qs(e,l,n),s!==null&&(Cn(s,e,n),Kl(s,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Rd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=zr(e,67108864);n!==null&&Cn(n,e,67108864),Rd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=Pn();n=Cr(n);var s=zr(e,n);s!==null&&Cn(s,e,n),Rd(e,n)}}var bc=!0;function wb(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Cd(e,n,s,l)}finally{it.p=f,G.T=h}}function Rb(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Cd(e,n,s,l)}finally{it.p=f,G.T=h}}function Cd(e,n,s,l){if(bc){var h=Id(l);if(h===null)dd(e,n,l,Ac,s),x_(e,l);else if(Ib(h,e,n,s,l))l.stopPropagation();else if(x_(e,l),n&4&&-1<Cb.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-xe(g);E.entanglements[1]|=C,g&=~C}ji(f),(ee&6)===0&&(rc=Je()+500,co(0))}}break;case 31:case 13:E=zr(f,2),E!==null&&Cn(E,f,2),lc(),Rd(f,2)}if(f=Id(l),f===null&&dd(e,n,l,Ac,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(e,n,l,null,s)}}function Id(e){return e=qn(e),xd(e)}var Ac=null;function xd(e){if(Ac=null,e=Ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_i()){case ni:return 2;case kt:return 8;case Zt:case Ie:return 32;case vi:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ws=null,tr=null,er=null,_o=new Map,vo=new Map,nr=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,n){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":_o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(n.pointerId)}}function Eo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ib(e,n,s,l,h){switch(n){case"focusin":return Ws=Eo(Ws,e,n,s,l,h),!0;case"dragenter":return tr=Eo(tr,e,n,s,l,h),!0;case"mouseover":return er=Eo(er,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return _o.set(f,Eo(_o.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,vo.set(f,Eo(vo.get(f)||null,e,n,s,l,h)),!0}return!1}function N_(e){var n=Ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ri(e.priority,function(){C_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ri(e.priority,function(){C_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ol=l,s.target.dispatchEvent(l),Ol=null}else return n=Bn(s),n!==null&&R_(n),e.blockedOn=s,!1;n.shift()}return!0}function D_(e,n,s){Sc(e)&&s.delete(n)}function xb(){Nd=!1,Ws!==null&&Sc(Ws)&&(Ws=null),tr!==null&&Sc(tr)&&(tr=null),er!==null&&Sc(er)&&(er=null),_o.forEach(D_),vo.forEach(D_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xb)))}var Rc=null;function O_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(xd(l||s)===null)continue;break}var f=Bn(s);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Xa(e){function n(C){return wc(C,e)}Ws!==null&&wc(Ws,e),tr!==null&&wc(tr,e),er!==null&&wc(er,e),_o.forEach(n),vo.forEach(n);for(var s=0;s<nr.length;s++){var l=nr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<nr.length&&(s=nr[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&nr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ke]||null;if(typeof f=="function")g||O_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ke]||null)E=g.formAction;else if(xd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),O_(s)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}Cc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Pn();S_(s,l,e,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),lc(),n[Si]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<nr.length&&n!==0&&n<nr[s].priority;s++);nr.splice(s,0,e),s===0&&N_(e)}};var V_=t.version;if(V_!=="19.2.0")throw Error(a(527,V_,"19.2.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Nb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ii=Ic.inject(Nb),We=Ic}catch{}}return bo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Bp,f=qp,g=Hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=b_(e,1,!1,null,null,s,l,null,h,f,g,M_),e[Si]=n.current,fd(e),new Dd(n)},bo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Bp,g=qp,E=Hp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=b_(e,1,!0,n,s??null,l,h,C,f,g,E,M_),n.context=A_(null),s=n.current,l=Pn(),l=Cr(l),h=Bs(l),h.callback=null,qs(s,h,l),s=l,n.current.lanes=s,wr(n,s),ji(n),e[Si]=n.current,fd(e),new Cc(n)},bo.version="19.2.0",bo}var G_;function qb(){if(G_)return Vd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=Bb(),Vd.exports}var Hb=qb();const Gb=()=>{};var F_={};const Tv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Fb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[T],i[S],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Tv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Fb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new Qb;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),S!==64){const tt=y<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(r){const t=Tv(r);return bv.encodeByteArray(t,!0)},Yc=function(r){return Yb(r).replace(/\./g,"")},Av=function(r){try{return bv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Kb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof F_>"u")return;const r=F_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Zb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Av(r[1]);return t&&JSON.parse(t)},gh=()=>{try{return Gb()||Xb()||$b()||Zb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sv=r=>gh()?.emulatorHosts?.[r],Jb=r=>{const t=Sv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},wv=()=>gh()?.config,Rv=r=>gh()?.[`_${r}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ml(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function tA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Co={};function eA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Co))Co[t]?r.emulator.push(t):r.prod.push(t);return r}function nA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Q_=!1;function Iv(r,t){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Co[r]===t||Co[r]||Q_)return;Co[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=eA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Q_=!0,d()},M}function T(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=nA(a),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),St=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;p(_t),T(W,nt);const Qt=y();_(St,gt),_t.append(St,tt,W,Qt),document.body.appendChild(_t)}c?(tt.innerText="Preview backend disconnected.",St.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(St.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function sA(){const r=gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cA(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const fA="FirebaseError";class Rs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=fA,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?dA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Rs(o,p,a)}}function dA(r,t){return r.replace(mA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const mA=/\{\$([^}]+)}/g;function gA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(Y_(c)&&Y_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}function Ho(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pA(r,t){const i=new yA(r,t);return i.subscribe.bind(i)}class yA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_A(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _A(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function En(r){return r&&r._delegate?r._delegate:r}class ea{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class vA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Wb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TA(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(r){return r===Jr?void 0:r}function TA(r){return r.instantiationMode==="EAGER"}class bA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new vA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const AA={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},SA=Bt.INFO,wA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},RA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=wA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=SA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const CA=(r,t)=>t.some(i=>r instanceof i);let K_,X_;function IA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,Zd=new WeakMap,Nv=new WeakMap,zd=new WeakMap,Rm=new WeakMap;function NA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(cr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function DA(r){if(Zd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Nv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OA(r){Jd=r(Jd)}function MA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(jd(this),t,...i);return Nv.set(a,t.sort?t.sort():[t]),cr(a)}:xA().includes(r)?function(...t){return r.apply(jd(this),t),cr(xv.get(this))}:function(...t){return cr(r.apply(jd(this),t))}}function VA(r){return typeof r=="function"?MA(r):(r instanceof IDBTransaction&&DA(r),CA(r,IA())?new Proxy(r,Jd):r)}function cr(r){if(r instanceof IDBRequest)return NA(r);if(zd.has(r))return zd.get(r);const t=VA(r);return t!==r&&(zd.set(r,t),Rm.set(t,r)),t}const jd=r=>Rm.get(r);function kA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=cr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(cr(d.result),_.oldVersion,_.newVersion,cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const UA=["get","getKey","getAll","getAllKeys","count"],LA=["put","add","delete","clear"],Bd=new Map;function $_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=LA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return Bd.set(t,c),c}OA(r=>({...r,get:(t,i,a)=>$_(t,i)||r.get(t,i,a),has:(t,i)=>!!$_(t,i)||r.has(t,i)}));class PA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zA(r){return r.getComponent()?.type==="VERSION"}const Wd="@firebase/app",Z_="0.14.6";const Es=new wm("@firebase/app"),jA="@firebase/app-compat",BA="@firebase/analytics-compat",qA="@firebase/analytics",HA="@firebase/app-check-compat",GA="@firebase/app-check",FA="@firebase/auth",QA="@firebase/auth-compat",YA="@firebase/database",KA="@firebase/data-connect",XA="@firebase/database-compat",$A="@firebase/functions",ZA="@firebase/functions-compat",JA="@firebase/installations",WA="@firebase/installations-compat",tS="@firebase/messaging",eS="@firebase/messaging-compat",nS="@firebase/performance",iS="@firebase/performance-compat",sS="@firebase/remote-config",rS="@firebase/remote-config-compat",aS="@firebase/storage",lS="@firebase/storage-compat",oS="@firebase/firestore",uS="@firebase/ai",cS="@firebase/firestore-compat",hS="firebase",fS="12.6.0";const tm="[DEFAULT]",dS={[Wd]:"fire-core",[jA]:"fire-core-compat",[qA]:"fire-analytics",[BA]:"fire-analytics-compat",[GA]:"fire-app-check",[HA]:"fire-app-check-compat",[FA]:"fire-auth",[QA]:"fire-auth-compat",[YA]:"fire-rtdb",[KA]:"fire-data-connect",[XA]:"fire-rtdb-compat",[$A]:"fire-fn",[ZA]:"fire-fn-compat",[JA]:"fire-iid",[WA]:"fire-iid-compat",[tS]:"fire-fcm",[eS]:"fire-fcm-compat",[nS]:"fire-perf",[iS]:"fire-perf-compat",[sS]:"fire-rc",[rS]:"fire-rc-compat",[aS]:"fire-gcs",[lS]:"fire-gcs-compat",[oS]:"fire-fst",[cS]:"fire-fst-compat",[uS]:"fire-vertex","fire-js":"fire-js",[hS]:"fire-js-all"};const Kc=new Map,mS=new Map,em=new Map;function J_(r,t){try{r.container.addComponent(t)}catch(i){Es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function al(r){const t=r.name;if(em.has(t))return Es.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,r);for(const i of Kc.values())J_(i,r);for(const i of mS.values())J_(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const gS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new qo("app","Firebase",gS);class pS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const gl=fS;function Dv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:tm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=wv()),!i)throw hr.create("no-options");const c=Kc.get(o);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new bA(o);for(const _ of em.values())d.addComponent(_);const p=new pS(i,a,d);return Kc.set(o,p),p}function Ov(r=tm){const t=Kc.get(r);if(!t&&r===tm&&wv())return Dv();if(!t)throw hr.create("no-app",{appName:r});return t}function fr(r,t,i){let a=dS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}al(new ea(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const yS="firebase-heartbeat-database",_S=1,Mo="firebase-heartbeat-store";let qd=null;function Mv(){return qd||(qd=kA(yS,_S,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw hr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function vS(r){try{const i=(await Mv()).transaction(Mo),a=await i.objectStore(Mo).get(Vv(r));return await i.done,a}catch(t){if(t instanceof Rs)Es.warn(t.message);else{const i=hr.create("idb-get",{originalErrorMessage:t?.message});Es.warn(i.message)}}}async function W_(r,t){try{const a=(await Mv()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(t,Vv(r)),await a.done}catch(i){if(i instanceof Rs)Es.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function Vv(r){return`${r.name}!${r.options.appId}`}const ES=1024,TS=30;class bS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>TS){const o=wS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t0(),{heartbeatsToSend:i,unsentEntries:a}=AS(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Es.warn(t),""}}}function t0(){return new Date().toISOString().substring(0,10)}function AS(r,t=ES){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),e0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),e0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cA()?hA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function e0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function wS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function RS(r){al(new ea("platform-logger",t=>new PA(t),"PRIVATE")),al(new ea("heartbeat",t=>new bS(t),"PRIVATE")),fr(Wd,Z_,r),fr(Wd,Z_,"esm2020"),fr("fire-js","")}RS("");var CS="firebase",IS="12.6.0";fr(CS,IS,"app");function kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xS=kv,Uv=new qo("auth","Firebase",kv());const Xc=new wm("@firebase/auth");function NS(r,...t){Xc.logLevel<=Bt.WARN&&Xc.warn(`Auth (${gl}): ${r}`,...t)}function Uc(r,...t){Xc.logLevel<=Bt.ERROR&&Xc.error(`Auth (${gl}): ${r}`,...t)}function Ts(r,...t){throw Im(r,...t)}function qi(r,...t){return Im(r,...t)}function Lv(r,t,i){const a={...xS(),[t]:i};return new qo("auth","Firebase",a).create(t,{appName:r.name})}function vs(r){return Lv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Uv.create(r,...t)}function bt(r,t,...i){if(!r)throw Im(t,...i)}function ys(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function bs(r,t){r||ys(t)}function nm(){return typeof self<"u"&&self.location?.href||""}function DS(){return n0()==="http:"||n0()==="https:"}function n0(){return typeof self<"u"&&self.location?.protocol||null}function OS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DS()||aA()||"connection"in navigator)?navigator.onLine:!0}function MS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Go{constructor(t,i){this.shortDelay=t,this.longDelay=i,bs(i>t,"Short delay should be less than long delay!"),this.isMobile=iA()||lA()}get(){return OS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xm(r,t){bs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Pv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],US=new Go(3e4,6e4);function Fo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function pl(r,t,i,a,o={}){return zv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ho({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return rA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ml(r.emulatorConfig.host)&&(y.credentials="include"),Pv.fetch()(await jv(r,r.config.apiHost,i,p),y)})}async function zv(r,t,i){r._canInitEmulator=!1;const a={...VS,...t};try{const o=new LS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw xc(r,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Lv(r,T,y);Ts(r,T)}}catch(o){if(o instanceof Rs)throw o;Ts(r,"network-request-failed",{message:String(o)})}}async function Nm(r,t,i,a,o={}){const c=await pl(r,t,i,a,o);return"mfaPendingCredential"in c&&Ts(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function jv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?xm(r.config,o):`${r.config.apiScheme}://${o}`;return kS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class LS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),US.get())})}}function xc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,t,a);return o.customData._tokenResponse=i,o}async function PS(r,t){return pl(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return pl(r,"POST","/v1/accounts:lookup",t)}function Io(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zS(r,t=!1){const i=En(r),a=await i.getIdToken(t),o=Dm(a);bt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Io(Hd(o.auth_time)),issuedAtTime:Io(Hd(o.iat)),expirationTime:Io(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Dm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Av(i);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function i0(r){const t=Dm(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Rs&&jS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class BS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const t=r.auth,i=await r.getIdToken(),a=await Vo(r,$c(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bv(o.providerUserInfo):[],d=HS(r.providerData,c),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=p?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function qS(r){const t=En(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HS(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Bv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GS(r,t){const i=await zv(r,{},async()=>{const a=Ho({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await jv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ml(r.emulatorConfig.host)&&(_.credentials="include"),Pv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function FS(r,t){return pl(r,"POST","/v2/accounts:revokeToken",Fo(r,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=i0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await GS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new el;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(bt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ys("not implemented")}}function sr(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zS(this,t)}reload(){return qS(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(vs(this.auth));const t=await this.getIdToken();return await Vo(this,PS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:tt,stsTokenManager:nt}=i;bt(S&&nt,t,"internal-error");const W=el.fromJSON(this.name,nt);bt(typeof S=="string",t,"internal-error"),sr(a,t.name),sr(o,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof H=="boolean",t,"internal-error"),sr(c,t.name),sr(d,t.name),sr(p,t.name),sr(_,t.name),sr(y,t.name),sr(T,t.name);const gt=new gi({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:T});return tt&&Array.isArray(tt)&&(gt.providerData=tt.map(St=>({...St}))),_&&(gt._redirectEventId=_),gt}static async _fromIdTokenResponse(t,i,a=!1){const o=new el;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];bt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new el;p.updateFromIdToken(a);const _=new gi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const s0=new Map;function _s(r){bs(r instanceof Function,"Expected a class definition");let t=s0.get(r);return t?(bs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,s0.set(r,t),t)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}qv.type="NONE";const r0=qv;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class nl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Lc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new nl(_s(r0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||_s(r0);const d=Lc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const T=await y._get(d);if(T){let S;if(typeof T=="string"){const M=await $c(t,{idToken:T}).catch(()=>{});if(!M)break;S=await gi._fromGetAccountInfoResponse(t,M,T)}else S=gi._fromJSON(t,T);y!==c&&(p=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new nl(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new nl(c,t,a))}}function a0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kv(t))return"Blackberry";if(Xv(t))return"Webos";if(Gv(t))return"Safari";if((t.includes("chrome/")||Fv(t))&&!t.includes("edge/"))return"Chrome";if(Yv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Hv(r=pn()){return/firefox\//i.test(r)}function Gv(r=pn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fv(r=pn()){return/crios\//i.test(r)}function Qv(r=pn()){return/iemobile/i.test(r)}function Yv(r=pn()){return/android/i.test(r)}function Kv(r=pn()){return/blackberry/i.test(r)}function Xv(r=pn()){return/webos/i.test(r)}function Om(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QS(r=pn()){return Om(r)&&!!window.navigator?.standalone}function YS(){return oA()&&document.documentMode===10}function $v(r=pn()){return Om(r)||Yv(r)||Xv(r)||Kv(r)||/windows phone/i.test(r)||Qv(r)}function Zv(r,t=[]){let i;switch(r){case"Browser":i=a0(pn());break;case"Worker":i=`${a0(pn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${gl}/${a}`}class KS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function XS(r,t={}){return pl(r,"GET","/v2/passwordPolicy",Fo(r,t))}const $S=6;class ZS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$S,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class JS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l0(this),this.idTokenSubscription=new l0(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=_s(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=MS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(vs(this));const i=t?En(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XS(this),i=new ZS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await FS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&_s(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[_s(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Qo(r){return En(r)}class l0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pA(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WS(r){Mm=r}function tw(r){return Mm.loadJS(r)}function ew(){return Mm.gapiScript}function nw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function iw(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(gr(c,t??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:t})}function sw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(_s);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function rw(r,t,i){const a=Qo(r);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Jv(t),{host:d,port:p}=aw(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(gr(y,a.config.emulator)&&gr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,ml(d)?(Cv(`${c}//${d}${_}`),Iv("Auth",!0)):lw()}function Jv(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function aw(r){const t=Jv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function lw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ys("not implemented")}_getIdTokenResponse(t){return ys("not implemented")}_linkToIdToken(t,i){return ys("not implemented")}_getReauthenticationResolver(t){return ys("not implemented")}}async function il(r,t){return Nm(r,"POST","/v1/accounts:signInWithIdp",Fo(r,t))}const ow="http://localhost";class na extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new na(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return il(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,il(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,il(t,i)}buildRequest(){const t={requestUri:ow,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ho(i)}return t}}class tE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yo extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class rr extends Yo{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return na._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends Yo{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends Yo{constructor(){super("twitter.com")}static credential(t,i){return na._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return or.credential(i,a)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function uw(r,t){return Nm(r,"POST","/v1/accounts:signUp",Fo(r,t))}class As{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await gi._fromIdTokenResponse(t,a,o),d=u0(a);return new As({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=u0(a);return new As({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function u0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function cw(r){if(ti(r.app))return Promise.reject(vs(r));const t=Qo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new As({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await uw(t,{returnSecureToken:!0}),a=await As._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Jc extends Rs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Jc(t,i,a,o)}}function eE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,t,a):c})}async function hw(r,t,i=!1){const a=await Vo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return As._forOperation(r,"link",a)}async function fw(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(vs(a));const o="reauthenticate";try{const c=await Vo(r,eE(a,o,t,r),i);bt(c.idToken,a,"internal-error");const d=Dm(c.idToken);bt(d,a,"internal-error");const{sub:p}=d;return bt(r.uid===p,a,"user-mismatch"),As._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function dw(r,t,i=!1){if(ti(r.app))return Promise.reject(vs(r));const a="signIn",o=await eE(r,a,t),c=await As._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function mw(r,t){return Nm(r,"POST","/v1/accounts:signInWithCustomToken",Fo(r,t))}async function gw(r,t){if(ti(r.app))return Promise.reject(vs(r));const i=Qo(r),a=await mw(i,{token:t,returnSecureToken:!0}),o=await As._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function pw(r,t,i,a){return En(r).onIdTokenChanged(t,i,a)}function yw(r,t,i){return En(r).beforeAuthStateChanged(t,i)}function _w(r,t,i,a){return En(r).onAuthStateChanged(t,i,a)}const Wc="__sak";class nE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const vw=1e3,Ew=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Ew):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}iE.type="LOCAL";const Tw=iE;class sE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}sE.type="SESSION";const rE=sE;function bw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ph(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await bw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Vm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function Sw(r){Hi().location.href=r}function aE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function ww(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rw(){return navigator?.serviceWorker?.controller||null}function Cw(){return aE()?self:null}const lE="firebaseLocalStorageDb",Iw=1,th="firebaseLocalStorage",oE="fbase_key";class Ko{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function yh(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function xw(){const r=indexedDB.deleteDatabase(lE);return new Ko(r).toPromise()}function sm(){const r=indexedDB.open(lE,Iw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:oE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?t(a):(a.close(),await xw(),t(await sm()))})})}async function c0(r,t,i){const a=yh(r,!0).put({[oE]:t,value:i});return new Ko(a).toPromise()}async function Nw(r,t){const i=yh(r,!1).get(t),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function h0(r,t){const i=yh(r,!0).delete(t);return new Ko(i).toPromise()}const Dw=800,Ow=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ow)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Cw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ww(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Rw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await c0(t,Wc,"1"),await h0(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>c0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Nw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>h0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=yh(o,!1).getAll();return new Ko(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const Mw=uE;new Go(3e4,6e4);function Vw(r,t){return t?_s(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class km extends Wv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,i){return il(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kw(r){return dw(r.auth,new km(r),r.bypassAuthState)}function Uw(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),fw(i,new km(r),r.bypassAuthState)}async function Lw(r){const{auth:t,user:i}=r;return bt(i,t,"internal-error"),hw(i,new km(r),r.bypassAuthState)}class cE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kw;case"linkViaPopup":case"linkViaRedirect":return Lw;case"reauthViaPopup":case"reauthViaRedirect":return Uw;default:Ts(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pw=new Go(2e3,1e4);class tl extends cE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pw.get())};t()}}tl.currentPopupAction=null;const zw="pendingRedirect",Pc=new Map;class jw extends cE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await Bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bw(r,t){const i=Gw(t),a=Hw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function qw(r,t){Pc.set(r._key(),t)}function Hw(r){return _s(r._redirectPersistence)}function Gw(r){return Lc(zw,r.config.apiKey,r.name)}async function Fw(r,t,i=!1){if(ti(r.app))return Promise.reject(vs(r));const a=Qo(r),o=Vw(a,t),d=await new jw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Qw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!hE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Qw&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(t))}saveEventToCache(t){this.cachedEventUids.add(f0(t)),this.lastProcessedEventTime=Date.now()}}function f0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function hE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Kw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(r);default:return!1}}async function Xw(r,t={}){return pl(r,"GET","/v1/projects",t)}const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Jw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Xw(r);for(const i of t)try{if(Ww(i))return}catch{}Ts(r,"unauthorized-domain")}function Ww(r){const t=nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if($w.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const t2=new Go(3e4,6e4);function d0(){const r=Hi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function e2(r){return new Promise((t,i)=>{function a(){d0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{d0(),i(qi(r,"network-request-failed"))},timeout:t2.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=nw("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},tw(`${ew()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function n2(r){return zc=zc||e2(r),zc}const i2=new Go(5e3,15e3),s2="__/auth/iframe",r2="emulator/auth/iframe",a2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o2(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?xm(t,r2):`https://${r.config.authDomain}/${s2}`,a={apiKey:t.apiKey,appName:r.name,v:gl},o=l2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ho(a).slice(1)}`}async function u2(r){const t=await n2(r),i=Hi().gapi;return bt(i,r,"internal-error"),t.open({where:document.body,url:o2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},i2.get());function _(){Hi().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h2=500,f2=600,d2="_blank",m2="http://localhost";class m0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g2(r,t,i,a=h2,o=f2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...c2,width:a.toString(),height:o.toString(),top:c,left:d},y=pn().toLowerCase();i&&(p=Fv(y)?d2:i),Hv(y)&&(t=t||m2,_.scrollbars="yes");const T=Object.entries(_).reduce((M,[H,tt])=>`${M}${H}=${tt},`,"");if(QS(y)&&p!=="_self")return p2(t||"",p),new m0(null);const S=window.open(t||"",p,T);bt(S,r,"popup-blocked");try{S.focus()}catch{}return new m0(S)}function p2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const y2="__/auth/handler",_2="emulator/auth/handler",v2=encodeURIComponent("fac");async function g0(r,t,i,a,o,c){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:gl,eventId:o};if(t instanceof tE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",gA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Yo){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await r._getAppCheckToken(),y=_?`#${v2}=${encodeURIComponent(_)}`:"";return`${E2(r)}?${Ho(p).slice(1)}${y}`}function E2({config:r}){return r.emulator?xm(r,_2):`https://${r.authDomain}/${y2}`}const Gd="webStorageSupport";class T2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=Fw,this._overrideRedirectResult=qw}async _openPopup(t,i,a,o){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await g0(t,i,a,nm(),o);return g2(t,c,Vm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await g0(t,i,a,nm(),o);return Sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await u2(t),a=new Yw(t);return i.register("authEvent",o=>(bt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return $v()||Gv()||Om()}}const b2=T2;var p0="@firebase/auth",y0="1.11.1";class A2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w2(r){al(new ea("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(r)},y=new JS(a,o,c,_);return sw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),al(new ea("auth-internal",t=>{const i=Qo(t.getProvider("auth").getImmediate());return(a=>new A2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(p0,y0,S2(r)),fr(p0,y0,"esm2020")}const R2=300,C2=Rv("authIdTokenMaxAge")||R2;let _0=null;const I2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>C2)return;const o=i?.token;_0!==o&&(_0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function x2(r=Ov()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=iw(r,{popupRedirectResolver:b2,persistence:[Mw,Tw,rE]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=I2(c.toString());yw(i,d,()=>d(i.currentUser)),pw(i,p=>d(p))}}const o=Sv("auth");return o&&rw(i,`http://${o}`),i}function N2(){return document.getElementsByTagName("head")?.[0]??document}WS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",N2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w2("Browser");var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,fE;(function(){var r;function t(x,A){function R(){}R.prototype=A.prototype,x.F=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(V,N,U){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],N=x.g[2];let U=x.g[3],w;w=A+(U^R&(N^U))+V[0]+3614090360&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+V[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+V[4]+4118548399&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+V[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+V[8]+1770035416&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+V[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(U^R&(N^U))+V[12]+1804603682&4294967295,A=R+(w<<7&4294967295|w>>>25),w=U+(N^A&(R^N))+V[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=N+(R^U&(A^R))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(A^N&(U^A))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=A+(N^U&(R^N))+V[1]+4129170786&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+V[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+V[5]+3593408605&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+V[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+V[9]+568446438&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+V[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(N^U&(R^N))+V[13]+2850285829&4294967295,A=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(A^R))+V[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=N+(A^R&(U^A))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^A&(N^U))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=A+(R^N^U)+V[5]+4294588738&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+V[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+V[1]+2763975236&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+V[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+V[13]+681279174&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+V[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(R^N^U)+V[9]+3654602809&4294967295,A=R+(w<<4&4294967295|w>>>28),w=U+(A^R^N)+V[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=N+(U^A^R)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^A)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=A+(N^(R|~U))+V[0]+4096336452&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+V[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+V[12]+1700485571&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+V[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+V[8]+1873313359&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+V[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=A+(N^(R|~U))+V[4]+4149444226&4294967295,A=R+(w<<6&4294967295|w>>>26),w=U+(R^(A|~N))+V[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=N+(A^(U|~R))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+U&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const R=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<A;)if(V[N++]=x.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=x[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)x[A++]=this.g[R]>>>V&255;return x};function c(x,A){var R=p;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function d(x,A){this.h=A;const R=[];let V=!0;for(let N=x.length-1;N>=0;N--){const U=x[N]|0;V&&U==A||(R[N]=U,V=!1)}this.g=R}var p={};function _(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(x<0)return W(y(-x));const A=[];let R=1;for(let V=0;x>=R;V++)A[V]=x/R|0,R*=4294967296;return new d(A,0)}function T(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return W(T(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let V=S;for(let U=0;U<x.length;U+=8){var N=Math.min(8,x.length-U);const w=parseInt(x.substring(U,U+N),A);N<8?(N=y(Math.pow(A,N)),V=V.j(N).add(y(w))):(V=V.j(R),V=V.add(y(w)))}return V}var S=_(0),M=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-W(this).m();let x=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(tt(this))return"0";if(nt(this))return"-"+W(this).toString(x);const A=y(Math.pow(x,6));var R=this;let V="";for(;;){const N=Qt(R,A).g;R=gt(R,N.j(A));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=N,tt(R))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function tt(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function nt(x){return x.h==-1}r.l=function(x){return x=gt(this,x),nt(x)?-1:tt(x)?0:1};function W(x){const A=x.g.length,R=[];for(let V=0;V<A;V++)R[V]=~x.g[V];return new d(R,~x.h).add(M)}r.abs=function(){return nt(this)?W(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),R=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(x.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function gt(x,A){return x.add(W(A))}r.j=function(x){if(tt(this)||tt(x))return S;if(nt(this))return nt(x)?W(this).j(W(x)):W(W(this).j(x));if(nt(x))return W(this.j(W(x)));if(this.l(H)<0&&x.l(H)<0)return y(this.m()*x.m());const A=this.g.length+x.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,ae=x.i(N)>>>16,Ce=x.i(N)&65535;R[2*V+2*N]+=w*Ce,St(R,2*V+2*N),R[2*V+2*N+1]+=U*Ce,St(R,2*V+2*N+1),R[2*V+2*N+1]+=w*ae,St(R,2*V+2*N+1),R[2*V+2*N+2]+=U*ae,St(R,2*V+2*N+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new d(R,0)};function St(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function _t(x,A){this.g=x,this.h=A}function Qt(x,A){if(tt(A))throw Error("division by zero");if(tt(x))return new _t(S,S);if(nt(x))return A=Qt(W(x),A),new _t(W(A.g),W(A.h));if(nt(A))return A=Qt(x,W(A)),new _t(W(A.g),A.h);if(x.g.length>30){if(nt(x)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=A;V.l(x)<=0;)R=Kt(R),V=Kt(V);var N=Gt(R,1),U=Gt(V,1);for(V=Gt(V,2),R=Gt(R,2);!tt(V);){var w=U.add(V);w.l(x)<=0&&(N=N.add(R),U=w),V=Gt(V,1),R=Gt(R,1)}return A=gt(x,N.j(A)),new _t(N,A)}for(N=S;x.l(A)>=0;){for(R=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(R),w=U.j(A);nt(w)||w.l(x)>0;)R-=V,U=y(R),w=U.j(A);tt(U)&&(U=M),N=N.add(U),x=gt(x,w)}return new _t(N,x)}r.B=function(x){return Qt(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&x.i(V);return new d(R,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|x.i(V);return new d(R,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^x.i(V);return new d(R,this.h^x.h)};function Kt(x){const A=x.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(R,x.h)}function Gt(x,A){const R=A>>5;A%=32;const V=x.g.length-R,N=[];for(let U=0;U<V;U++)N[U]=A>0?x.i(U+R)>>>A|x.i(U+R+1)<<32-A:x.i(U+R);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,dr=d}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,Ao,mE,jc,rm,gE,pE,yE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var et=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)et[Nt-2]=arguments[Nt];return m.prototype[L].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class St{constructor(){this.h=this.g=null}add(m,v){const b=_t.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _t=new nt(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Gt=!1,x=new St,A=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(R)}};function R(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Gt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ae(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ae,N),ae.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=It(u,m,b,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new it(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),ye={};function le(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)le(u,m[B],v,b,L);return null}return v=Mt(v),u&&u[Ce]?u.J(m,v,p(b)?!!b.capture:!1,L):J(u,m,v,!1,b,L)}function J(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let Nt=mt(u);if(Nt||(u[Tt]=Nt=new at(u)),v=Nt.add(m,v,b,et,B),v.proxy)return v;if(b=$(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(xt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $(){function u(v){return m.call(u.src,u.listener,v)}const m=Te;return u}function rt(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)rt(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Mt(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=It(m,v,b,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,b,L)),(v=u>-1?m[u]:null)&&Ot(v))}function Ot(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])vt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(xt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mt(m))?(vt(v,u),v.h==0&&(v.src=null,m[Tt]=null)):ft(u)}}}function xt(u){return u in ye?ye[u]:ye[u]="on"+u}function Te(u,m){if(u.da)u=!0;else{m=new ae(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ot(u),u=v.call(b,m)}return u}function mt(u){return u=u[Tt],u instanceof at?u:null}var $t="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mt(u){return typeof u=="function"?u:(u[$t]||(u[$t]=function(m){return u.handleEvent(m)}),u[$t])}function wt(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(wt,V),wt.prototype[Ce]=!0,wt.prototype.removeEventListener=function(u,m,v,b){rt(this,u,m,v,b)};function ht(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),st(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=de(B,b,!0,m)&&L;if(B=m.g=u,L=de(B,b,!0,m)&&L,L=de(B,b,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=de(B,b,!1,m)&&L}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},wt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function de(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const Nt=et.listener,Ne=et.ha||et.src;et.fa&&vt(u.i,et),L=Nt.call(Ne,b)!==!1&&L}}return L&&!b.defaultPrevented}function $i(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function oa(u){u.g=$i(()=>{u.g=null,u.i&&(u.i=!1,oa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(u){V.call(this),this.h=u,this.g={}}S(_i,V);var ni=[];function kt(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ot(m)},u),u.g={}}_i.prototype.N=function(){_i.Z.N.call(this),kt(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=d.JSON.stringify,Ie=d.JSON.parse,vi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){N.call(this,"d")}S(We,N);function jn(){N.call(this,"c")}S(jn,N);var xe={},su=null;function ua(){return su=su||new wt}xe.Ia="serverreachability";function ru(u){N.call(this,xe.Ia,u)}S(ru,N);function Ei(u){const m=ua();ht(m,new ru(m))}xe.STAT_EVENT="statevent";function Sr(u,m){N.call(this,xe.STAT_EVENT,u),this.stat=m}S(Sr,N);function Ve(u){const m=ua();ht(m,new Sr(m,u))}xe.Ja="timingevent";function Ti(u,m){N.call(this,xe.Ja,u),this.size=m}S(Ti,N);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function kh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var et="",Nt=B.split("&");for(let te=0;te<Nt.length;te++){var Ne=Nt[te].split("=");if(Ne.length>1){const _e=Ne[0];Ne=Ne[1];const Gn=_e.split("_");et=Gn.length>=2&&Gn[1]=="type"?et+(_e+"="+Ne+"&"):et+(_e+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function au(u,m,v,b,L,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function Ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(b?" "+b:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return Zt(B)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function Cr(){}S(Cr,nu),Cr.prototype.g=function(){return new XMLHttpRequest},bl=new Cr;function Zi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ri(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new _i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var ke={},Ke={};function Si(u,m,v){u.M=1,u.A=Ir(Le(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),wi(u),u.B=Le(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ai,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Je(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ni[0]=L.toString()),L=ni);for(let B=0;B<L.length;B++){const et=le(v,L[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ei(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=ui(this.g),Ne=this.g.ya(),te=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Nt!=4||Ne==7||(Ne==8||te<=0?Ei(3):Ei(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ve(12),Nn(this),Bn(this);break t}}if(this.R){u=!0;let _e;for(;!this.K&&this.C<v.length;)if(_e=uu(this,v),_e==Ke){Nt==4&&(this.m=4,Ve(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==ke){this.m=4,Ve(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,_e,null),Ci(this,_e);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Ve(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),Nn(this),Bn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ll(et),et.P=!0,Ve(11))}}else Ai(this.i,this.l,v,null),Ci(this,v);Nt==4&&Nn(this),this.o&&!this.K&&(Nt==4?_u(this.j,this):(this.o=!1,wi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Nn(this),Bn(this)}}}catch{}finally{}};function Lh(u){if(!ou(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let v="";const b=m.length,L=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ke:(v=Number(m.substring(v,b)),isNaN(v)?ke:(b+=1,b+v>m.length?Ke:(m=m.slice(b,b+v),u.C=b+v,m)))}ri.prototype.cancel=function(){this.K=!0,Nn(this)};function wi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(y(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(Ei(),Ve(17)),Nn(this),this.m=2,Bn(this)):ha(this,this.T-u)};function Bn(u){u.j.I==0||u.K||_u(u.j,u)}function Nn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,kt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Vs(v);else break t;kr(v),Ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(y(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&va(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let te=L[m];const _e=te[0];if(!(_e<=v.K))if(v.K=_e,te=te[1],v.I==2)if(te[0]=="c"){v.M=te[1],v.ba=te[2];const Gn=te[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Ui=te[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const ci=te[5];ci!=null&&typeof ci=="number"&&ci>0&&(b=1.5*ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const hi=u.g;if(hi){const Ur=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=b.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wl(B,B.h),B.h=null))}if(b.G){const Ea=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,ie(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),et.L){Rl(b.h,et);var Nt=et,Ne=b.O;Ne&&(Nt.H=Ne),Nt.D&&(Ri(Nt),wi(Nt)),b.g=et}else pu(b);v.i.length>0&&Vi(v)}else te[0]!="stop"&&te[0]!="close"||ki(v,7);else v.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?ki(v,7):kl(v):te[0]!="noop"&&v.l&&v.l.qa(te),v.A=0)}}Ei(4)}catch{}}var Ue=class{constructor(u,m){this.g=u,this.map=m}};function Al(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wl(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Al.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Xe(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,Il(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Xe(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Cs(this,m[4]),this.h=Ni(m[5]||"",!0),Il(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(xr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(xr(m,da,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(xr(v,v.charAt(0)=="/"?xl:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",xr(v,fu)),u.join("")},Dn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?Xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Cs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const Nt=L[et++];Nt=="."?b&&et==L.length&&B.push(""):Nt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==L.length&&B.push("")):(B.push(Nt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Il(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new Dn(u)}function Xe(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Il(u,m,v){m instanceof xs?(u.i=m,ga(u.i,u.l)):(v||(m=xr(m,Is)),u.i=new xs(m,u.l))}function ie(u,m,v){u.i.set(m,v)}function Ir(u){return ie(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,hu=/[#\?:]/g,xl=/[#\?]/g,Is=/[#\?@]/g,fu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=xs.prototype,r.add=function(u,m){bn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){bn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return bn(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Dl(u,m){bn(u);let v=[];if(typeof m=="string")Nl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bn(this),this.i=null,u=Ns(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Dl(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Zi(v);v=Dl(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Zi(v[B])),u.push(et)}}return this.i=u.join("&")};function mu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(du(this,b),ma(this,L,v))},u)),u.j=m}function li(u,m){const v=new si;if(d.Image){const b=new Image;b.onload=T(qn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(qn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(qn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(qn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ol(u,m){const v=new si,b=new AbortController,L=setTimeout(()=>{b.abort(),qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?qn(v,"TestPingServer: ok",!0,m):qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,m)})}function qn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ds(){this.g=new vi}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Di,nu),Di.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,wt),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Os(this):oi(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Os(this))},r.Na=function(u){this.g&&(this.response=u,Os(this))},r.ga=function(){this.g&&Os(this)};function Os(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Hn(u){let m="";return Ut(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Dr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Hn(v),typeof u=="string"?v!=null&&Zi(v):ie(u,m,v))}function oe(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(oe,wt);var Oi=/^https?$/i,Ml=["POST","PUT"];r=oe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ml,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vl(u),Ji(u)}function Vl(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ht(this,"complete"),ht(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),oe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},r.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(ht(u,"readystatechange"),ui(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(cu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Oi.test(et?et.toLowerCase():"")}v=b}if(v)ht(u,"complete"),ht(u,"success");else{u.o=6;try{var L=ui(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Vl(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ht(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ie(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=lu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ve(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),Vi(this)};function kl(u){if(ya(u),u.I==3){var m=u.V++,v=Le(u.J);if(ie(v,"SID",u.M),ie(v,"RID",m),ie(v,"TYPE","terminate"),Vr(u,v),m=new ri(u,u.j,m),m.M=2,m.A=Ir(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}Eu(u)}function Vs(u){u.g&&(Ll(u),u.g.cancel(),u.g=null)}function ya(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Sl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||A(),Gt||(Kt(),Gt=!0),x.add(m,u),u.D=0}}function _a(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ri(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Le(this.J),ie(v,"RID",u),ie(v,"CVER",22),this.G&&ie(v,"X-HTTP-Session-Id",this.G),Vr(this,v),B&&(this.R?m="headers="+Zi(Hn(B))+"&"+m:this.u&&Dr(v,this.u,B)),wl(this.h,L),this.Ra&&ie(v,"TYPE","init"),this.S?(ie(v,"$req",m),ie(v,"SID","null"),L.U=!0,Si(L,v,null)):Si(L,v,m),this.I=2}}else this.I==3&&(u?Ul(this,u):this.i.length==0||Sl(this.h)||Ul(this))};function Ul(u,m){var v;m?v=m.l:v=u.V++;const b=Le(u.J);ie(b,"SID",u.M),ie(b,"RID",v),ie(b,"AID",u.K),Vr(u,b),u.u&&u.o&&Dr(b,u.u,u.o),v=new ri(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wl(u.h,v),Si(v,b,m)}function Vr(u,m){u.H&&Ut(u.H,function(v,b){ie(m,b,v)}),u.l&&Ut({},function(v,b){ie(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Nt=-1;for(;;){const Ne=["count="+v];Nt==-1?v>0?(Nt=L[0].g,Ne.push("ofs="+Nt)):Nt=0:Ne.push("ofs="+Nt);let te=!0;for(let _e=0;_e<v;_e++){var B=L[_e].g;const Gn=L[_e].map;if(B-=Nt,B<0)Nt=Math.max(0,L[_e].g-100),te=!1;else try{B="req"+B+"_"||"";try{var et=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Ui,ci]of et){let hi=ci;p(ci)&&(hi=Zt(ci)),Ne.push(B+Ui+"="+encodeURIComponent(hi))}}catch(Ui){throw Ne.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Gn)}}if(te){et=Ne.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||A(),Gt||(Kt(),Gt=!0),x.add(m,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(y(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Vs(this),yu(this))};function Ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);ie(m,"RID","rpc"),ie(m,"SID",u.M),ie(m,"AID",u.K),ie(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ie(m,"TO",u.ia),ie(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Le(m)),v.u=null,v.R=!0,ca(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Vs(this),kr(this),Ve(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){va(u),Ll(u),u.g=null;var b=2}else if(xi(u.h,m))v=m.G,Rl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ua(),ht(b,new Ti(b,v)),Vi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&kr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new Dn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xe(b,"https"),Ir(b),L?li(b.toString(),v):Ol(b.toString(),v)}else Ve(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Cl(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var b=v instanceof Dn?Le(v):new Dn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Cs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Dn(null);b&&Xe(B,b),m&&(B.g=m),L&&Cs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ie(b,v,m),ie(b,"VER",u.ka),Vr(u,b),b}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new oe(new Di({ab:v})):new oe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){wt.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}S(yn,wt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){kl(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Zt(u),u=v);m.i.push(new Ue(m.Ya++,u)),m.I==3&&Vi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,yn.Z.N.call(this)};function Su(u){We.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,We);function wu(){jn.call(this),this.status=1}S(wu,jn);function ts(u){this.g=u}S(ts,Au),ts.prototype.ra=function(){ht(this.g,"a")},ts.prototype.qa=function(u){ht(this.g,new Su(u))},ts.prototype.pa=function(u){ht(this.g,new wu)},ts.prototype.oa=function(){ht(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,yE=function(){return new ks},pE=function(){return ua()},gE=xe,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,jc=Rr,Tl.COMPLETE="complete",mE=Tl,iu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ao=iu,oe.prototype.listenOnce=oe.prototype.K,oe.prototype.getLastError=oe.prototype.Ha,oe.prototype.getLastErrorCode=oe.prototype.ya,oe.prototype.getStatus=oe.prototype.ca,oe.prototype.getResponseJson=oe.prototype.La,oe.prototype.getResponseText=oe.prototype.la,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Fa,dE=oe}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",T0="4.9.2";let mn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let yl="12.3.0";const ia=new wm("@firebase/firestore");function $a(){return ia.logLevel}function lt(r,...t){if(ia.logLevel<=Bt.DEBUG){const i=t.map(Um);ia.debug(`Firestore (${yl}): ${r}`,...i)}}function Ss(r,...t){if(ia.logLevel<=Bt.ERROR){const i=t.map(Um);ia.error(`Firestore (${yl}): ${r}`,...i)}}function ll(r,...t){if(ia.logLevel<=Bt.WARN){const i=t.map(Um);ia.warn(`Firestore (${yl}): ${r}`,...i)}}function Um(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,_E(r,a,i)}function _E(r,t,i){let a=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function ne(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||_E(t,o,a)}function Ct(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Rs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class vE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class O2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class M2{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ne(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ne(typeof a.accessToken=="string",31837,{l:a}),new vE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new mn(t)}}class V2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new V2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ne(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ne(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new b0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=L2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function qt(r,t){return r<t?-1:r>t?1:0}function am(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Fd(o)===Fd(c)?qt(o,c):Fd(o)?1:-1}return qt(r.length,t.length)}const P2=55296,z2=57343;function Fd(r){const t=r.charCodeAt(0);return t>=P2&&t<=z2}function ol(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const A0="__name__";class Bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const a=Bi.isNumericId(t),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return dr.fromString(t.substring(4,t.length-2))}}class be extends Bi{construct(t,i,a){return new be(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new be(i)}static emptyPath(){return new be([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Bi{construct(t,i,a){return new cn(t,i,a)}static isValidIdentifier(t){return j2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A0}static keyField(){return new cn([A0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(i)}static emptyPath(){return new cn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(be.fromString(t))}static fromName(t){return new pt(be.fromString(t).popFirst(5))}static empty(){return new pt(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return be.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new be(t.slice()))}}function B2(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function q2(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function S0(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function pi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function He(r,t){const i={typeString:r};return t&&(i.value=t),i}function Xo(r,t){if(!EE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const w0=-62135596800,R0=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*R0);return new pe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<w0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xo(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-w0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:He("string",pe._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new pe(0,0))}static max(){return new At(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function H2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(a===1e9?new pe(i+1,0):new pe(i,a));return new pr(o,pt.empty(),t)}function G2(r){return new pr(r.readTime,r.key,ko)}class pr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new pr(At.min(),pt.empty(),ko)}static max(){return new pr(At.max(),pt.empty(),ko)}}function F2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:qt(r.largestBatchId,t.largestBatchId))}const Q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function _l(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Q2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>o(T)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function K2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vl(r){return r.name==="IndexedDbTransactionError"}class _h{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;const zm=-1;function vh(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function X2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const TE="";function $2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=C0(t)),t=Z2(r.get(i),t);return C0(t)}function Z2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function C0(r){return r+TE+""}function I0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function br(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function bE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Ae{constructor(t,i){this.comparator=t,this.root=i||un.EMPTY}insert(t,i){return new Ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new Ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??un.RED,this.left=o??un.EMPTY,this.right=c??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new un(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return un.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new un(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new Ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(t){return new x0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ye(this.comparator);return i.data=t,i}}class x0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new zn([])}unionWith(t){let i=new Ye(cn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(t);return new hn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new hn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const J2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if(ne(!!r,39018),typeof r=="string"){let t=0;const i=J2.exec(r);if(ne(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Me(r.seconds),nanos:Me(r.nanos)}}function Me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}const SE="server_timestamp",wE="__type__",RE="__previous_value__",CE="__local_write_time__";function jm(r){return(r?.mapValue?.fields||{})[wE]?.stringValue===SE}function Eh(r){const t=r.mapValue.fields[RE];return jm(t)?Eh(t):t}function Uo(r){const t=yr(r.mapValue.fields[CE].timestampValue);return new pe(t.seconds,t.nanos)}class W2{constructor(t,i,a,o,c,d,p,_,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T}}const nh="(default)";class Lo{constructor(t,i){this.projectId=t,this.database=i||nh}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof Lo&&t.projectId===this.projectId&&t.database===this.database}}const IE="__type__",tR="__max__",Oc={mapValue:{}},xE="__vector__",ih="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:nR(r)?9007199254740991:eR(r)?10:11:Et(28295,{value:r})}function Ki(r,t){if(r===t)return!0;const i=vr(r);if(i!==vr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Uo(r).isEqual(Uo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Me(o.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Me(o.integerValue)===Me(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Me(o.doubleValue),p=Me(c.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ol(r.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(I0(d)!==I0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ki(d[_],p[_])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Po(r,t){return(r.values||[]).find((i=>Ki(i,t)))!==void 0}function ul(r,t){if(r===t)return 0;const i=vr(r),a=vr(t);if(i!==a)return qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Me(c.integerValue||c.doubleValue),_=Me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return N0(r.timestampValue,t.timestampValue);case 4:return N0(Uo(r),Uo(t));case 5:return am(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=_r(c),_=_r(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const T=qt(p[y],_[y]);if(T!==0)return T}return qt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=qt(Me(c.latitude),Me(d.latitude));return p!==0?p:qt(Me(c.longitude),Me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return D0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ih]?.arrayValue,T=_[ih]?.arrayValue,S=qt(y?.values?.length||0,T?.values?.length||0);return S!==0?S:D0(y,T)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const M=am(_[S],T[S]);if(M!==0)return M;const H=ul(p[_[S]],y[T[S]]);if(H!==0)return H}return qt(_.length,T.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function N0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qt(r,t);const i=yr(r),a=yr(t),o=qt(i.seconds,a.seconds);return o!==0?o:qt(i.nanos,a.nanos)}function D0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ul(i[o],a[o]);if(c)return c}return qt(i.length,a.length)}function cl(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${lm(i.fields[d])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function Bc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eh(r);return t?16+Bc(t):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Bc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,d)=>{o+=c.length+Bc(d)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function om(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function O0(r){return!!r&&"nullValue"in r}function M0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function eR(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===xE}function xo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return br(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=xo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=xo(r.arrayValue.values[i]);return t}return{...r}}function nR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=xo(i)}setAll(t){let i=cn.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=xo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){br(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new xn(xo(this.value))}}function NE(r){const t=[];return br(r.fields,((i,a)=>{const o=new cn([i]);if(qc(a)){const c=NE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new zn(t)}class gn{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new gn(t,0,At.min(),At.min(),At.min(),xn.empty(),0)}static newFoundDocument(t,i,a,o){return new gn(t,1,i,At.min(),a,o,0)}static newNoDocument(t,i){return new gn(t,2,i,At.min(),At.min(),xn.empty(),0)}static newUnknownDocument(t,i){return new gn(t,3,i,At.min(),At.min(),xn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function V0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=ul(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function k0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ki(r.position[i],t.position[i]))return!1;return!0}class rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function iR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class DE{}class Qe extends DE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new rR(t,i,a):i==="array-contains"?new oR(t,a):i==="in"?new uR(t,a):i==="not-in"?new cR(t,a):i==="array-contains-any"?new hR(t,a):new Qe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new aR(t,a):new lR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends DE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xi(t,i)}matches(t){return OE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(r){return r.op==="and"}function ME(r){return sR(r)&&OE(r)}function sR(r){for(const t of r.filters)if(t instanceof Xi)return!1;return!0}function um(r){if(r instanceof Qe)return r.field.canonicalString()+r.op.toString()+cl(r.value);if(ME(r))return r.filters.map((t=>um(t))).join(",");{const t=r.filters.map((i=>um(i))).join(",");return`${r.op}(${t})`}}function VE(r,t){return r instanceof Qe?(function(a,o){return o instanceof Qe&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(r,t):r instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&VE(d,o.filters[p])),!0):!1})(r,t):void Et(19439)}function kE(r){return r instanceof Qe?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(r):r instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"})(r):"Filter"}class rR extends Qe{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class aR extends Qe{constructor(t,i){super(t,"in",i),this.keys=UE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lR extends Qe{constructor(t,i){super(t,"not-in",i),this.keys=UE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function UE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class oR extends Qe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Bm(i)&&Po(i.arrayValue,this.value)}}class uR extends Qe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Po(this.value.arrayValue,i)}}class cR extends Qe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Po(this.value.arrayValue,i)}}class hR extends Qe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}class fR{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function U0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new fR(r,t,i,a,o,c,d)}function qm(r){const t=Ct(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),vh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>cl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>cl(a))).join(",")),t.Te=i}return t.Te}function Hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!iR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!VE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!k0(r.startAt,t.startAt)&&k0(r.endAt,t.endAt)}function cm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Th{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(r,t,i,a,o,c,d,p){return new Th(r,t,i,a,o,c,d,p)}function bh(r){return new Th(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mR(r){return r.collectionGroup!==null}function No(r){const t=Ct(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ye(cn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new rh(c,a))})),i.has(cn.keyField().canonicalString())||t.Ie.push(new rh(cn.keyField(),a))}return t.Ie}function Gi(r){const t=Ct(r);return t.Ee||(t.Ee=gR(t,No(r))),t.Ee}function gR(r,t){if(r.limitType==="F")return U0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new rh(o.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return U0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function hm(r,t,i){return new Th(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ah(r,t){return Hm(Gi(r),Gi(t))&&r.limitType===t.limitType}function LE(r){return`${qm(Gi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>kE(o))).join(", ")}]`),vh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>cl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>cl(o))).join(",")),`Target(${a})`})(Gi(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of No(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const y=V0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,No(a),o)||a.endAt&&!(function(d,p,_){const y=V0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,No(a),o))})(r,t)}function pR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(t,i)=>{let a=!1;for(const o of No(r)){const c=yR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function yR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ul(_,y):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class aa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){br(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}const _R=new Ae(pt.comparator);function ws(){return _R}const zE=new Ae(pt.comparator);function So(...r){let t=zE;for(const i of r)t=t.insert(i.key,i);return t}function jE(r){let t=zE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Wr(){return Do()}function BE(){return Do()}function Do(){return new aa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const vR=new Ae(pt.comparator),ER=new Ye(pt.comparator);function Ht(...r){let t=ER;for(const i of r)t=t.add(i);return t}const TR=new Ye(qt);function bR(){return TR}function Gm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function HE(r,t){return X2(t)?qE(t):Gm(r,t)}class wh{constructor(){this._=void 0}}function AR(r,t,i){return r instanceof ah?(function(o,c){const d={fields:{[wE]:{stringValue:SE},[CE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jm(c)&&(c=Eh(c)),c&&(d.fields[RE]=c),{mapValue:d}})(i,t):r instanceof hl?FE(r,t):r instanceof zo?QE(r,t):(function(o,c){const d=GE(o,c),p=P0(d)+P0(o.Ae);return om(d)&&om(o.Ae)?qE(p):Gm(o.serializer,p)})(r,t)}function SR(r,t,i){return r instanceof hl?FE(r,t):r instanceof zo?QE(r,t):i}function GE(r,t){return r instanceof jo?(function(a){return om(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ah extends wh{}class hl extends wh{constructor(t){super(),this.elements=t}}function FE(r,t){const i=YE(t);for(const a of r.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class zo extends wh{constructor(t){super(),this.elements=t}}function QE(r,t){let i=YE(t);for(const a of r.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class jo extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function P0(r){return Me(r.integerValue||r.doubleValue)}function YE(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class KE{constructor(t,i){this.field=t,this.transform=i}}function wR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof hl&&o instanceof hl||a instanceof zo&&o instanceof zo?ol(a.elements,o.elements,Ki):a instanceof jo&&o instanceof jo?Ki(a.Ae,o.Ae):a instanceof ah&&o instanceof ah})(r.transform,t.transform)}class RR{constructor(t,i){this.version=t,this.transformResults=i}}class yi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Rh{}function XE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Fm(r.key,yi.none()):new $o(r.key,r.data,yi.none());{const i=r.data,a=xn.empty();let o=new Ye(cn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Ar(r.key,a,new zn(o.toArray()),yi.none())}}function CR(r,t,i){r instanceof $o?(function(o,c,d){const p=o.value.clone(),_=j0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Ar?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=j0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll($E(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Oo(r,t,i,a){return r instanceof $o?(function(c,d,p,_){if(!Hc(c.precondition,d))return p;const y=c.value.clone(),T=B0(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Ar?(function(c,d,p,_){if(!Hc(c.precondition,d))return p;const y=B0(c.fieldTransforms,_,d),T=d.data;return T.setAll($E(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function IR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=GE(a.transform,o||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function z0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ol(a,o,((c,d)=>wR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class $o extends Rh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ar extends Rh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function j0(r,t,i){const a=new Map;ne(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,SR(d,p,i[o]))}return a}function B0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,AR(c,d,t))}return a}class Fm extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xR extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&CR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Oo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Oo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=BE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=XE(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((i,a)=>z0(i,a)))&&ol(this.baseMutations,t.baseMutations,((i,a)=>z0(i,a)))}}class Qm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){ne(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return vR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Qm(t,i,a,o)}}class DR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OR{constructor(t,i){this.count=t,this.unchangedNames=i}}var qe,Yt;function MR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function ZE(r){if(r===void 0)return Ss("GRPC error has no .code"),Z.UNKNOWN;switch(r){case qe.OK:return Z.OK;case qe.CANCELLED:return Z.CANCELLED;case qe.UNKNOWN:return Z.UNKNOWN;case qe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case qe.INTERNAL:return Z.INTERNAL;case qe.UNAVAILABLE:return Z.UNAVAILABLE;case qe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case qe.NOT_FOUND:return Z.NOT_FOUND;case qe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case qe.ABORTED:return Z.ABORTED;case qe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case qe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(Yt=qe||(qe={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function VR(){return new TextEncoder}const kR=new dr([4294967295,4294967295],0);function q0(r){const t=VR().encode(r),i=new fE;return i.update(t),new Uint8Array(i.digest())}function H0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new dr([i,a],0),new dr([o,c],0)]}class Ym{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wo(`Invalid padding: ${i}`);if(a<0)throw new wo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=dr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(dr.fromNumber(a)));return o.compare(kR)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=q0(t),[a,o]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Ym(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=q0(t),[a,o]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Zo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ch(At.min(),o,new Ae(qt),ws(),Ht())}}class Zo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Zo(a,i,Ht(),Ht(),Ht())}}class Gc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class JE{constructor(t,i){this.targetId=t,this.Ce=i}}class WE{constructor(t,i,a=hn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class G0{constructor(){this.ve=0,this.Fe=F0(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),a=Ht();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Et(38017,{changeType:c})}})),new Zo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=F0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ws(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ae(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(cm(c))if(a===0){const d=new pt(c.path);this.et(i,d,gn.newNoDocument(d,At.min()))}else ne(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof AE)return ll("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ym(d,o,c)}catch(_){return ll(_ instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&cm(p.target)){const _=new pt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,gn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ht();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Ch(t,i,this.Ye,this.je,a);return this.je=ws(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ae(qt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new G0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ye(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ye(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new G0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new Ae(pt.comparator)}function F0(){return new Ae(pt.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class jR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(r,t){return r.useProto3Json||vh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function BR(r,t){return lh(r,t.toTimestamp())}function Fi(r){return ne(!!r,49232),At.fromTimestamp((function(i){const a=yr(i);return new pe(a.seconds,a.nanos)})(r))}function Km(r,t){return dm(r,t).canonicalString()}function dm(r,t){const i=(function(o){return new be(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function e1(r){const t=be.fromString(r);return ne(a1(t),10190,{key:t.toString()}),t}function mm(r,t){return Km(r.databaseId,t.path)}function Qd(r,t){const i=e1(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(i1(i))}function n1(r,t){return Km(r.databaseId,t)}function qR(r){const t=e1(r);return t.length===4?be.emptyPath():i1(t)}function gm(r){return new be(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function i1(r){return ne(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q0(r,t,i){return{name:mm(r,t),fields:i.value.mapValue.fields}}function HR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(ne(T===void 0||typeof T=="string",58123),hn.fromBase64String(T||"")):(ne(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),hn.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:ZE(y.code);return new ct(T,y.message||"")})(d);i=new WE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Qd(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):At.min(),p=new xn({mapValue:{fields:a.document.fields}}),_=gn.newFoundDocument(o,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Gc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Qd(r,a.document),c=a.readTime?Fi(a.readTime):At.min(),d=gn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Qd(r,a.document),c=a.removedTargetIds||[];i=new Gc([],c,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new OR(o,c),p=a.targetId;i=new JE(p,d)}}return i}function GR(r,t){let i;if(t instanceof $o)i={update:Q0(r,t.key,t.value)};else if(t instanceof Fm)i={delete:mm(r,t.key)};else if(t instanceof Ar)i={update:Q0(r,t.key,t.data),updateMask:WR(t.fieldMask)};else{if(!(t instanceof xR))return Et(16599,{Vt:t.type});i={verify:mm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:BR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function FR(r,t){return r&&r.length>0?(ne(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(At.min())&&(d=Fi(c)),new RR(d,o.transformResults||[])})(i,t)))):[]}function QR(r,t){return{documents:[n1(r,t.path)]}}function YR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=n1(r,o);const c=(function(y){if(y.length!==0)return r1(Xi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(M){return{field:Ja(M.field),direction:$R(M.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=fm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function KR(r){let t=qR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ne(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const M=s1(S);return M instanceof Xi&&ME(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(tt){return new rh(Wa(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,vh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,H=S.values||[];return new sh(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,H=S.values||[];return new sh(H,M)})(i.endAt)),dR(t,o,d,c,p,"F",_,y)}function XR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function s1(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(i.unaryFilter.field);return Qe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Qe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Qe.create(Wa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>s1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function $R(r){return LR[r]}function ZR(r){return PR[r]}function JR(r){return zR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return cn.fromServerFormat(r.fieldPath)}function r1(r){return r instanceof Qe?(function(i){if(i.op==="=="){if(M0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(M0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:ZR(i.op),value:i.value}}})(r):r instanceof Xi?(function(i){const a=i.getFilters().map((o=>r1(o)));return a.length===1?a[0]:{compositeFilter:{op:JR(i.op),filters:a}}})(r):Et(54877,{filter:r})}function WR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function a1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ur{constructor(t,i,a,o,c=At.min(),d=At.min(),p=hn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tC{constructor(t){this.yt=t}}function eC(r){const t=KR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(t,t.limit,"L"):t}class nC{constructor(){this.Cn=new iC}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(pr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class iC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ye(be.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ye(be.comparator)).toArray()}}const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l1=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(l1,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class fl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}const K0="LruGarbageCollector",sC=1048576;function X0([r,t],[i,a]){const o=qt(r,i);return o===0?qt(t,a):o}class rC{constructor(t){this.Ir=t,this.buffer=new Ye(X0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();X0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(K0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vl(i)?lt(K0,"Ignoring IndexedDB error during garbage collection: ",i):await _l(i)}await this.Vr(3e5)}))}}class lC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(_h.ce);const a=new rC(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Y0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),$a()<=Bt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function oC(r,t){return new lC(r,t)}class uC{constructor(){this.changes=new aa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,gn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class cC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class hC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Oo(a.mutation,o,zn.empty(),pe.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ht()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ht()){const o=Wr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=So();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Wr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ht())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=ws();const d=Do(),p=(function(){return Do()})();return i.forEach(((_,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ar)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Oo(T.mutation,y,T.mutation.getFieldMask(),pe.now())):d.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>p.set(y,new cC(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Do();let o=new Ae(((d,p)=>d-p)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||zn.empty();T=p.applyToLocalView(y,T),a.set(_,T);const S=(o.get(p.batchId)||Ht()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,T=_.value,S=BE();T.forEach((M=>{if(!c.has(M)){const H=XE(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Wr());let p=ko,_=c;return d.next((y=>X.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next((M=>{_=_.insert(T,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ht()))).next((T=>({batchId:p,changes:jE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let o=So();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,M){return new Th(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((T=>{T.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,gn.newInvalidDocument(T)))}));let p=So();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Oo(T.mutation,y,zn.empty(),pe.now()),Sh(i,y)&&(p=p.insert(_,y))})),p}))}}class fC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:eC(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),X.resolve()}}class dC{constructor(){this.overlays=new Ae(pt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Wr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Wr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new Ae(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Wr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Wr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new DR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ht(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class mC{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Xm{constructor(){this.Qr=new Ye(Ze.$r),this.Ur=new Ye(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ze(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ze(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new be([])),a=new Ze(i,t),o=new Ze(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new be([])),a=new Ze(i,t),o=new Ze(i,t+1);let c=Ht();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ze(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ze{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class gC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Ze.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ze(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ye(qt);return i.forEach((o=>{const c=new Ze(o,0),d=new Ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ze(new pt(c),0);let p=new Ye(qt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ne(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Ze(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ze(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class pC{constructor(t){this.ri=t,this.docs=(function(){return new Ae(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(t,i){let a=ws();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():gn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ws();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||F2(G2(T),a)<=0||(o.has(T.key)||Sh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Et(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new yC(this)}getSize(t){return X.resolve(this.size)}}class yC extends uC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class _C{constructor(t){this.persistence=t,this.si=new aa((i=>qm(i)),Hm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=fl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class o1{constructor(t,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new mC,this.referenceDelegate=t(this),this.Pi=new _C(this),this.indexManager=new nC,this.remoteDocumentCache=(function(o){return new pC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new tC(i),this.Ii=new fC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new gC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new vC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class vC extends Y2{constructor(t){super(),this.currentSequenceNumber=t}}class $m{constructor(t){this.persistence=t,this.Ri=new Xm,this.Vi=null}static mi(t){return new $m(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=pt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new aa((a=>$2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=oC(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Bc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Zm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ht(),o=Ht();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zm(t,i.fromCache,a,o)}}class EC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class TC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uA()?8:K2(pn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?($a()<=Bt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):($a()<=Bt.DEBUG&&lt("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($a()<=Bt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):X.resolve())}ys(t,i){if(L0(i))return X.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=hm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ht(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,hm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return L0(i)||o.isEqual(At.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):($a()<=Bt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.vs(t,d,i,H2(o,ko)).next((p=>p)))}))}Ds(t,i){let a=new Ye(PE(t));return i.forEach(((o,c)=>{Sh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return $a()<=Bt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,pr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",bC=3e8;class AC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Ae(qt),this.xs=new aa((c=>qm(c)),Hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function SC(r,t,i,a){return new AC(r,t,i,a)}async function u1(r,t){const i=Ct(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ht();for(const y of o){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function wC(r,t){const i=Ct(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,T){const S=y.batch,M=S.keys();let H=X.resolve();return M.forEach((tt=>{H=H.next((()=>T.getEntry(_,tt))).next((nt=>{const W=y.docVersions.get(tt);ne(W!==null,48541),nt.version.compareTo(W)<0&&(S.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),T.addEntry(nt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ht();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function c1(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function RC(r,t){const i=Ct(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(hn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),o=o.insert(S,H),(function(nt,W,gt){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=bC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,H,T)&&p.push(i.Pi.updateTargetData(c,H))}));let _=ws(),y=Ht();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(CC(c,d,t.documentUpdates).next((T=>{_=T.ks,y=T.qs}))),!a.isEqual(At.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function CC(r,t,i){let a=Ht(),o=Ht();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ws();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):lt(Jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function IC(r,t){const i=Ct(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function xC(r,t){const i=Ct(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new ur(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function pm(r,t,i){const a=Ct(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!vl(d))throw d;lt(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function $0(r,t,i){const a=Ct(r);let o=At.min(),c=Ht();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const S=Ct(_),M=S.xs.get(T);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,T)})(a,d,Gi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:At.min(),i?c:Ht()))).next((p=>(NC(a,pR(t),p),{documents:p,Qs:c})))))}function NC(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Z0{constructor(){this.activeTargetIds=bR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DC{constructor(){this.Mo=new Z0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Z0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class OC{Oo(t){}shutdown(){}}const J0="ConnectivityMonitor";class W0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(J0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(J0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function ym(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Yd="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=ym(),p=this.zo(t,i.toUriEncodedString());lt(Yd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),T=ml(y);return this.Jo(t,p,_,a,T).then((S=>(lt(Yd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw ll(Yd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=MC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class kC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const dn="WebChannelConnection";class UC extends VC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=ym();return new Promise(((p,_)=>{const y=new dE;y.setWithCredentials(!0),y.listenOnce(mE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();lt(dn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case jc.TIMEOUT:lt(dn,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const M=y.getStatus();if(lt(dn,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H?.error;if(tt&&tt.status&&tt.message){const nt=(function(gt){const St=gt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(St)>=0?St:Z.UNKNOWN})(tt.status);_(new ct(nt,tt.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(dn,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(o);lt(dn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",T,a,15)}))}T_(t,i,a){const o=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=yE(),p=pE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const T=c.join("");lt(dn,`Creating RPC '${t}' stream ${o}: ${T}`,_);const S=d.createWebChannel(T,_);this.I_(S);let M=!1,H=!1;const tt=new kC({Yo:W=>{H?lt(dn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(M||(lt(dn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),lt(dn,`RPC '${t}' stream ${o} sending:`,W),S.send(W))},Zo:()=>S.close()}),nt=(W,gt,St)=>{W.listen(gt,(_t=>{try{St(_t)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return nt(S,Ao.EventType.OPEN,(()=>{H||(lt(dn,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),nt(S,Ao.EventType.CLOSE,(()=>{H||(H=!0,lt(dn,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(S))})),nt(S,Ao.EventType.ERROR,(W=>{H||(H=!0,ll(dn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(S,Ao.EventType.MESSAGE,(W=>{if(!H){const gt=W.data[0];ne(!!gt,16349);const St=gt,_t=St?.error||St[0]?.error;if(_t){lt(dn,`RPC '${t}' stream ${o} received error:`,_t);const Qt=_t.status;let Kt=(function(A){const R=qe[A];if(R!==void 0)return ZE(R)})(Qt),Gt=_t.message;Kt===void 0&&(Kt=Z.INTERNAL,Gt="Unknown error status: "+Qt+" with message "+_t.message),H=!0,tt.a_(new ct(Kt,Gt)),S.close()}else lt(dn,`RPC '${t}' stream ${o} received:`,gt),tt.u_(gt)}})),nt(p,gE.STAT_EVENT,(W=>{W.stat===rm.PROXY?lt(dn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===rm.NOPROXY&&lt(dn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function Ih(r){return new jR(r,!0)}class h1{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tv="PersistentStream";class f1{constructor(t,i,a,o,c,d,p,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(tv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends f1{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=HR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Fi(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=cm(_)?{documents:QR(c,_)}:{query:YR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=t1(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=XR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=gm(this.serializer),i.removeTarget=t,this.q_(i)}}class PC extends f1{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=FR(t.writeResults,t.commitTime),a=Fi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=gm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>GR(this.serializer,a)))};this.q_(i)}}class zC{}class jC extends zC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,dm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,dm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class qC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{la(this)&&(lt(sa,"Restarting streams for network reachability change."),await(async function(_){const y=Ct(_);y.Ea.add(4),await Jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await xh(y)})(this))}))})),this.Ra=new BC(a,o)}}async function xh(r){if(la(r))for(const t of r.da)await t(!0)}async function Jo(r){for(const t of r.da)await t(!1)}function d1(r,t){const i=Ct(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ng(i)?eg(i):El(i).O_()&&tg(i,t))}function Wm(r,t){const i=Ct(r),a=El(i);i.Ia.delete(t),a.O_()&&m1(i,t),i.Ia.size===0&&(a.O_()?a.L_():la(i)&&i.Ra.set("Unknown"))}function tg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}El(r).Y_(t)}function m1(r,t){r.Va.Ue(t),El(r).Z_(t)}function eg(r){r.Va=new UR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),El(r).start(),r.Ra.ua()}function ng(r){return la(r)&&!El(r).x_()&&r.Ia.size>0}function la(r){return Ct(r).Ea.size===0}function g1(r){r.Va=void 0}async function HC(r){r.Ra.set("Online")}async function GC(r){r.Ia.forEach(((t,i)=>{tg(r,t)}))}async function FC(r,t){g1(r),ng(r)?(r.Ra.ha(t),eg(r)):r.Ra.set("Unknown")}async function QC(r,t,i){if(r.Ra.set("Online"),t instanceof WE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){lt(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof JE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await c1(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(hn.EMPTY_BYTE_STRING,T.snapshotVersion)),m1(c,_);const S=new ur(T.target,_,y,T.sequenceNumber);tg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(sa,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!vl(t))throw t;r.Ea.add(1),await Jo(r),r.Ra.set("Offline"),i||(i=()=>c1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(sa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await xh(r)}))}function p1(r,t){return t().catch((i=>uh(r,i,t)))}async function Nh(r){const t=Ct(r),i=Er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zm;for(;YC(t);)try{const o=await IC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,KC(t,o)}catch(o){await uh(t,o)}y1(t)&&_1(t)}function YC(r){return la(r)&&r.Ta.length<10}function KC(r,t){r.Ta.push(t);const i=Er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function y1(r){return la(r)&&!Er(r).x_()&&r.Ta.length>0}function _1(r){Er(r).start()}async function XC(r){Er(r).ra()}async function $C(r){const t=Er(r);for(const i of r.Ta)t.ea(i.mutations)}async function ZC(r,t,i){const a=r.Ta.shift(),o=Qm.from(a,t,i);await p1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nh(r)}async function JC(r,t){t&&Er(r).X_&&await(async function(a,o){if((function(d){return MR(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Er(a).B_(),await p1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(a)}})(r,t),y1(r)&&_1(r)}async function ev(r,t){const i=Ct(r);i.asyncQueue.verifyOperationInProgress(),lt(sa,"RemoteStore received new credentials");const a=la(i);i.Ea.add(3),await Jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await xh(i)}async function WC(r,t){const i=Ct(r);t?(i.Ea.delete(2),await xh(i)):t||(i.Ea.add(2),await Jo(i),i.Ra.set("Unknown"))}function El(r){return r.ma||(r.ma=(function(i,a,o){const c=Ct(i);return c.sa(),new LC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:HC.bind(null,r),t_:GC.bind(null,r),r_:FC.bind(null,r),H_:QC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ng(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),g1(r))}))),r.ma}function Er(r){return r.fa||(r.fa=(function(i,a,o){const c=Ct(i);return c.sa(),new PC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XC.bind(null,r),r_:JC.bind(null,r),ta:$C.bind(null,r),na:ZC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ig{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new ig(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,t){if(Ss("AsyncQueue",`${t}: ${r}`),vl(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=So(),this.sortedSet=new Ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new sl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class nv{constructor(){this.ga=new Ae(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class dl{constructor(t,i,a,o,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new dl(t,i,sl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class eI{constructor(){this.queries=iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ct(i),c=o.queries;o.queries=iv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function iv(){return new aa((r=>LE(r)),Ah)}async function v1(r,t){const i=Ct(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new tI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=sg(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&rg(i)}async function E1(r,t){const i=Ct(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nI(r,t){const i=Ct(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&rg(i)}function iI(r,t,i){const a=Ct(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function rg(r){r.Ca.forEach((t=>{t.next()}))}var _m,sv;(sv=_m||(_m={})).Ma="default",sv.Cache="cache";class T1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new dl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class b1{constructor(t){this.key=t}}class A1{constructor(t){this.key=t}}class sI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=PE(t),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new nv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,S)=>{const M=o.get(T),H=Sh(this.query,S)?S:null,tt=!!M&&this.mutatedKeys.has(M.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;M&&H?M.data.isEqual(H.data)?tt!==nt&&(a.track({type:3,doc:H}),W=!0):this.su(M,H)||(a.track({type:2,doc:H}),W=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),W=!0):M&&!H&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(H?(d=d.add(H),c=nt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(H,tt){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return nt(H)-nt(tt)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new dl(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new A1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new b1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class rI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class aI{constructor(t){this.key=t,this.hu=!1}}class lI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>LE(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(pt.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oI(r,t,i=!0){const a=x1(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await S1(a,t,i,!0),o}async function uI(r,t){const i=x1(r);await S1(i,t,!0,!1)}async function S1(r,t,i,a){const o=await xC(r.localStore,Gi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await cI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&d1(r.remoteStore,o),p}async function cI(r,t,i,a,o){r.pu=(S,M,H)=>(async function(nt,W,gt,St){let _t=W.view.ru(gt);_t.Cs&&(_t=await $0(nt.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,_t))));const Qt=St&&St.targetChanges.get(W.targetId),Kt=St&&St.targetMismatches.get(W.targetId)!=null,Gt=W.view.applyChanges(_t,nt.isPrimaryClient,Qt,Kt);return av(nt,W.targetId,Gt.au),Gt.snapshot})(r,S,M,H);const c=await $0(r.localStore,t,!0),d=new sI(t,c.Qs),p=d.ru(c.documents),_=Zo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,_);av(r,i,y.au);const T=new rI(t,i,d);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function hI(r,t,i){const a=Ct(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ah(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await pm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Wm(a.remoteStore,o.targetId),vm(a,o.targetId)})).catch(_l)):(vm(a,o.targetId),await pm(a.localStore,o.targetId,!0))}async function fI(r,t){const i=Ct(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function dI(r,t,i){const a=EI(r);try{const o=await(function(d,p){const _=Ct(d),y=pe.now(),T=p.reduce(((H,tt)=>H.add(tt.key)),Ht());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=ws(),nt=Ht();return _.Ns.getEntries(H,T).next((W=>{tt=W,tt.forEach(((gt,St)=>{St.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,tt))).next((W=>{S=W;const gt=[];for(const St of p){const _t=IR(St,S.get(St.key).overlayedDocument);_t!=null&&gt.push(new Ar(St.key,_t,NE(_t.value.mapValue),yi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,gt,p)})).next((W=>{M=W;const gt=W.applyToLocalDocumentSet(S,nt);return _.documentOverlayCache.saveOverlays(H,W.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:jE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ae(qt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Wo(a,o.changes),await Nh(a.remoteStore)}catch(o){const c=sg(o,"Failed to persist write");i.reject(c)}}async function w1(r,t){const i=Ct(r);try{const a=await RC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ne(d.hu,14607):o.removedDocuments.size>0&&(ne(d.hu,42227),d.hu=!1))})),await Wo(i,a,t)}catch(a){await _l(a)}}function rv(r,t,i){const a=Ct(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Ct(d);_.onlineState=p;let y=!1;_.queries.forEach(((T,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&rg(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function mI(r,t,i){const a=Ct(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new Ae(pt.comparator);d=d.insert(c,gn.newNoDocument(c,At.min()));const p=Ht().add(c),_=new Ch(At.min(),new Map,new Ae(qt),d,p);await w1(a,_),a.du=a.du.remove(c),a.Au.delete(t),lg(a)}else await pm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(_l)}async function gI(r,t){const i=Ct(r),a=t.batch.batchId;try{const o=await wC(i.localStore,t);C1(i,a,null),R1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wo(i,o)}catch(o){await _l(o)}}async function pI(r,t,i){const a=Ct(r);try{const o=await(function(d,p){const _=Ct(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(ne(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,t);C1(a,t,i),R1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Wo(a,o)}catch(o){await _l(o)}}function R1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function C1(r,t,i){const a=Ct(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||I1(r,a)}))}function I1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Wm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),lg(r))}function av(r,t,i){for(const a of i)a instanceof b1?(r.Ru.addReference(a.key,t),yI(r,a)):a instanceof A1?(lt(ag,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||I1(r,a.key)):Et(19791,{wu:a})}function yI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(ag,"New document in limbo: "+i),r.Eu.add(a),lg(r))}function lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(be.fromString(t)),a=r.fu.next();r.Au.set(a,new aI(i)),r.du=r.du.insert(i,a),d1(r.remoteStore,new ur(Gi(bh(i.path)),a,"TargetPurposeLimboResolution",_h.ce))}}async function Wo(r,t,i){const a=Ct(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Zm.As(_.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const T=Ct(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(H=>T.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>T.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!vl(S))throw S;lt(Jm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const H=T.Ms.get(M),tt=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(tt);T.Ms=T.Ms.insert(M,nt)}}})(a.localStore,c))}async function _I(r,t){const i=Ct(r);if(!i.currentUser.isEqual(t)){lt(ag,"User change. New user:",t.toKey());const a=await u1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Wo(i,a.Ls)}}function vI(r,t){const i=Ct(r),a=i.Au.get(t);if(a&&a.hu)return Ht().add(a.key);{let o=Ht();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function x1(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mI.bind(null,t),t.Pu.H_=nI.bind(null,t.eventManager),t.Pu.yu=iI.bind(null,t.eventManager),t}function EI(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return SC(this.persistence,new TC,t.initialUser,this.serializer)}Cu(t){return new o1($m.mi,this.serializer)}Du(t){return new DC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class TI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ne(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new o1((a=>oh.mi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>rv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await WC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eI})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),a=(function(c){return new UC(c)})(t.databaseInfo);return(function(c,d,p,_){return new jC(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new qC(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>rv(this.syncEngine,i,0)),(function(){return W0.v()?new W0:new OC})())}createSyncEngine(t,i){return(function(o,c,d,p,_,y,T){const S=new lI(o,c,d,p,_,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ct(i);lt(sa,"RemoteStore shutting down."),a.Ea.add(5),await Jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class N1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Tr="FirestoreClient";class bI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Xd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await u1(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function lv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await AI(r);lt(Tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>ev(t.remoteStore,o))),r._onlineComponents=t}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Tr,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ll("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new ch)}}else lt(Tr,"Using default OfflineComponentProvider"),await Xd(r,new TI(void 0));return r._offlineComponents}async function D1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Tr,"Using user provided OnlineComponentProvider"),await lv(r,r._uninitializedComponentsProvider._online)):(lt(Tr,"Using default OnlineComponentProvider"),await lv(r,new Em))),r._onlineComponents}function SI(r){return D1(r).then((t=>t.syncEngine))}async function Tm(r){const t=await D1(r),i=t.eventManager;return i.onListen=oI.bind(null,t.syncEngine),i.onUnlisten=hI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fI.bind(null,t.syncEngine),i}function wI(r,t,i={}){const a=new mr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const T=new N1({next:M=>{T.Nu(),d.enqueueAndForget((()=>E1(c,S)));const H=M.docs.has(p);!H&&M.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&_&&_.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new T1(bh(p.path),T,{includeMetadataChanges:!0,qa:!0});return v1(c,S)})(await Tm(r),r.asyncQueue,t,i,a))),a.promise}function O1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ov=new Map;const M1="firestore.googleapis.com",uv=!0;class cv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M1,this.ssl=uv}else this.host=t.host,this.ssl=t.ssl??uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sC)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class og{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new D2;switch(a.type){case"firstParty":return new k2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(lt("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function RI(r,t,i,a={}){r=pi(r,og);const o=ml(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(Cv(`https://${p}`),Iv("Firestore",!0)),c.host!==M1&&c.host!==p&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!gr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=mn.MOCK_USER;else{y=tA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new mn(S)}r._authCredentials=new O2(new vE(y,T))}}class Dh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class Ge{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Xo(i,Ge._jsonSchema))return new Ge(t,a||null,new pt(be.fromString(i.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:He("string",Ge._jsonSchemaVersion),referencePath:He("string")};class Bo extends Dh{constructor(t,i,a){super(t,i,bh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new pt(t))}withConverter(t){return new Bo(this.firestore,t,this._path)}}function an(r,t,...i){if(r=En(r),arguments.length===1&&(t=Lm.newId()),B2("doc","path",t),r instanceof og){const a=be.fromString(t,...i);return S0(a),new Ge(r,null,new pt(a))}{if(!(r instanceof Ge||r instanceof Bo))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(be.fromString(t,...i));return S0(a),new Ge(r.firestore,r instanceof Bo?r.converter:null,new pt(a))}}const hv="AsyncQueue";class fv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h1(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&lt(hv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vl(t))throw t;lt(hv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",dv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ig.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function dv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function mv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ra extends og{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new fv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fv(t),this._firestoreClient=void 0,await t}}}function CI(r,t){const i=typeof r=="object"?r:Ov(),a=typeof r=="string"?r:nh,o=Cm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Jb("firestore");c&&RI(o,...c)}return o}function ug(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||II(r),r._firestoreClient}function II(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new W2(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new bI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(hn.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ei(hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xo(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:He("string",ei._jsonSchemaVersion),bytes:He("string")};class Oh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tu{constructor(t){this._methodName=t}}class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(Xo(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:He("string",Qi._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xo(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Yi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:He("string",Yi._jsonSchemaVersion),vectorValues:He("object")};const xI=/^__.*__$/;class NI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new $o(t,this.data,i,this.fieldTransforms)}}class V1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function k1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Mh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Mh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(k1(this.Ac)&&xI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(t)}Cc(t,i,a,o=!1){return new Mh({Ac:t,methodName:i,Dc:a,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U1(r){const t=r._freezeSettings(),i=Ih(r._databaseId);return new DI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OI(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);fg("Data must be an object, but it was:",d,a);const p=L1(a,d);let _,y;if(c.merge)_=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const M=bm(t,S,i);if(!d.contains(M))throw new ct(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);z1(T,M)||T.push(M)}_=new zn(T),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new NI(new xn(p),_,y)}class Vh extends tu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function MI(r,t,i){return new Mh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends tu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=MI(this,t,!0),a=this.vc.map((c=>eu(c,i))),o=new hl(a);return new KE(t.path,o)}isEqual(t){return t instanceof cg&&gr(this.vc,t.vc)}}class hg extends tu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new jo(t.serializer,HE(t.serializer,this.Fc));return new KE(t.path,i)}isEqual(t){return t instanceof hg&&this.Fc===t.Fc}}function VI(r,t,i,a){const o=r.Cc(1,t,i);fg("Data must be an object, but it was:",o,a);const c=[],d=xn.empty();br(a,((_,y)=>{const T=dg(t,_,i);y=En(y);const S=o.yc(T);if(y instanceof Vh)c.push(T);else{const M=eu(y,S);M!=null&&(c.push(T),d.set(T,M))}}));const p=new zn(c);return new V1(d,p,o.fieldTransforms)}function kI(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[bm(t,a,i)],_=[o];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(bm(t,c[M])),_.push(c[M+1]);const y=[],T=xn.empty();for(let M=p.length-1;M>=0;--M)if(!z1(y,p[M])){const H=p[M];let tt=_[M];tt=En(tt);const nt=d.yc(H);if(tt instanceof Vh)y.push(H);else{const W=eu(tt,nt);W!=null&&(y.push(H),T.set(H,W))}}const S=new zn(y);return new V1(T,S,d.fieldTransforms)}function eu(r,t){if(P1(r=En(r)))return fg("Unsupported field value:",t,r),L1(r,t);if(r instanceof tu)return(function(a,o){if(!k1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=eu(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return HE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=pe.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof pe){const c=new pe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ei)return{bytesValue:t1(o.serializer,a._byteString)};if(a instanceof Ge){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,p){return{mapValue:{fields:{[IE]:{stringValue:xE},[ih]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Gm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Pm(a)}`)})(r,t)}function L1(r,t){const i={};return bE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(r,((a,o)=>{const c=eu(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function P1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pe||r instanceof Qi||r instanceof ei||r instanceof Ge||r instanceof tu||r instanceof Yi)}function fg(r,t,i){if(!P1(i)||!EE(i)){const a=Pm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function bm(r,t,i){if((t=En(t))instanceof Oh)return t._internalPath;if(typeof t=="string")return dg(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const UI=new RegExp("[~\\*/\\[\\]]");function dg(r,t,i){if(t.search(UI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Oh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function z1(r,t){return r.some((i=>i.isEqual(t)))}class j1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LI extends j1{data(){return super.data()}}function B1(r,t){return typeof t=="string"?dg(r,t):t instanceof Oh?t._internalPath:t._delegate._internalPath}function PI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zI{convertValue(t,i="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return br(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ih].arrayValue?.values?.map((a=>Me(a.doubleValue)));return new Yi(i)}convertGeoPoint(t){return new Qi(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Eh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Uo(t));default:return null}}convertTimestamp(t){const i=yr(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=be.fromString(t);ne(a1(a),9688,{name:t});const o=new Lo(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Ro{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends j1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(B1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:He("string",ta._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Fc extends ta{data(t={}){return super.data(t)}}class rl{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Ro(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ro(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:BI(p.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function gv(r){r=pi(r,Ge);const t=pi(r.firestore,ra);return wI(ug(t),r._key).then((i=>H1(t,r,i)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:He("string",rl._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class q1 extends zI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,i)}}function qI(r,t,i){r=pi(r,Ge);const a=pi(r.firestore,ra),o=jI(r.converter,t);return mg(a,[OI(U1(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,yi.none())])}function vn(r,t,i,...a){r=pi(r,Ge);const o=pi(r.firestore,ra),c=U1(o);let d;return d=typeof(t=En(t))=="string"||t instanceof Oh?kI(c,"updateDoc",r._key,t,i,a):VI(c,"updateDoc",r._key,t),mg(o,[d.toMutation(r._key,yi.exists(!0))])}function HI(r){return mg(pi(r.firestore,ra),[new Fm(r._key,yi.none())])}function GI(r,...t){r=En(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||mv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(mv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ge)d=pi(r.firestore,ra),p=bh(r._key.path),c={next:_=>{t[a]&&t[a](H1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=pi(r,Dh);d=pi(_.firestore,ra),p=_._query;const y=new q1(d);c={next:T=>{t[a]&&t[a](new rl(d,y,_,T))},error:t[a+1],complete:t[a+2]},PI(r._query)}return(function(y,T,S,M){const H=new N1(M),tt=new T1(T,H,S);return y.asyncQueue.enqueueAndForget((async()=>v1(await Tm(y),tt))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>E1(await Tm(y),tt)))}})(ug(d),p,o,c)}function mg(r,t){return(function(a,o){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>dI(await SI(a),o,c))),c.promise})(ug(r),t)}function H1(r,t,i){const a=i.docs.get(t._key),o=new q1(r);return new ta(r,o,t._key,a,new Ro(i.hasPendingWrites,i.fromCache),t.converter)}function ps(...r){return new cg("arrayUnion",r)}function pv(r){return new hg("increment",r)}(function(t,i=!0){(function(o){yl=o})(gl),al(new ea("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ra(new M2(a.getProvider("auth-internal")),new U2(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(y.options.projectId,T)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),fr(E0,T0,t),fr(E0,T0,"esm2020")})();const FI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),yv=r=>{const t=QI(r);return t.charAt(0).toUpperCase()+t.slice(1)},G1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),YI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var KI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=Ee.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>Ee.createElement("svg",{ref:_,...KI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:G1("lucide",o),...!c&&!YI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,T])=>Ee.createElement(y,T)),...Array.isArray(c)?c:[c]]));const Se=(r,t)=>{const i=Ee.forwardRef(({className:a,...o},c)=>Ee.createElement(XI,{ref:c,iconNode:t,className:G1(`lucide-${FI(yv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=yv(r),i};const $I=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],F1=Se("anchor",$I);const ZI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Q1=Se("bomb",ZI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WI=Se("book-open",JI);const tx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ex=Se("circle-check-big",tx);const nx=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],fh=Se("coins",nx);const ix=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sx=Se("compass",ix);const rx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Y1=Se("crown",rx);const ax=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K1=Se("eye",ax);const lx=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],dh=Se("footprints",lx);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],X1=Se("info",ox);const ux=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_v=Se("log-out",ux);const cx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hx=Se("rotate-ccw",cx);const fx=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dx=Se("settings",fx);const mx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qc=Se("shield",mx);const gx=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Am=Se("ship",gx);const px=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],mh=Se("skull",px);const yx=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],$1=Se("sword",yx);const _x=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vx=Se("trash-2",_x);const Ex=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z1=Se("triangle-alert",Ex);const Tx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],J1=Se("trophy",Tx);const bx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W1=Se("user",bx);const Ax=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Sx=Se("utensils",Ax);const wx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tT=Se("x",wx),Rx={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:c5e264df6d9f0bd56d37cb"},eT=Dv(Rx),$d=x2(eT),ln=CI(eT),on="pirates-game-v1",Wn={THIEF:{name:"Thief",val:0,defaultCount:2,icon:dh,color:"text-gray-400",bg:"bg-gray-800",desc:"Gain 1 coin if you survive a round."},GUARD:{name:"Guard",val:1,defaultCount:6,icon:Qc,color:"text-blue-400",bg:"bg-blue-900",desc:"Guess a player's card. If right, they die."},SPY:{name:"Spy",val:2,defaultCount:2,icon:K1,color:"text-emerald-400",bg:"bg-emerald-900",desc:"Look at another player's hand."},SWORDSMAN:{name:"Swordsman",val:3,defaultCount:2,icon:$1,color:"text-red-400",bg:"bg-red-900",desc:"Fight another player. Lower card dies."},COOK:{name:"Cook",val:4,defaultCount:2,icon:Sx,color:"text-orange-400",bg:"bg-orange-900",desc:"Immune to effects until your next turn."},CANNONEER:{name:"Cannoneer",val:5,defaultCount:2,icon:Q1,color:"text-red-600",bg:"bg-red-950",desc:"Force discard & redraw. Kills Pirates."},MERCHANT:{name:"Merchant",val:6,defaultCount:2,icon:fh,color:"text-yellow-400",bg:"bg-yellow-900",desc:"Draw 2 extra, keep best of 3."},SAILOR:{name:"Sailor",val:7,defaultCount:1,icon:F1,color:"text-cyan-400",bg:"bg-cyan-900",desc:"Swap hands with another player."},CAPTAIN:{name:"Captain",val:8,defaultCount:1,icon:Y1,color:"text-purple-400",bg:"bg-purple-900",desc:"Must play if holding Cannoneer/Sailor."},PIRATE:{name:"Pirate",val:9,defaultCount:1,icon:mh,color:"text-white",bg:"bg-black",desc:"If played, you die. (Suicide)."}},vv=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Ev=()=>{const r=[{Icon:mh,left:"10%",delay:"0s",duration:"15s"},{Icon:F1,left:"30%",delay:"5s",duration:"18s"},{Icon:dh,left:"70%",delay:"2s",duration:"20s"},{Icon:$1,left:"50%",delay:"8s",duration:"12s"},{Icon:Q1,left:"85%",delay:"1s",duration:"16s"},{Icon:fh,left:"20%",delay:"10s",duration:"14s"},{Icon:Am,left:"60%",delay:"12s",duration:"25s"}];return I.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[I.jsx("style",{children:`
          @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.4; } 
            90% { opacity: 0.4; }
            100% { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
          }
        `}),r.map((t,i)=>I.jsx("div",{className:"absolute text-white/30 opacity-40",style:{left:t.left,bottom:"-10%",animation:`floatUp ${t.duration} linear infinite`,animationDelay:t.delay},children:I.jsx(t.Icon,{size:80})},i))]})},Cx=({title:r,text:t,onClose:i,type:a="info"})=>I.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:I.jsx("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:I.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?I.jsx(Z1,{className:"text-red-500 w-12 h-12"}):a==="spy"?I.jsx(K1,{className:"text-emerald-400 w-12 h-12"}):I.jsx(X1,{className:"text-blue-400 w-12 h-12"}),I.jsx("h3",{className:"text-2xl font-bold text-white",children:r}),I.jsx("p",{className:"text-gray-300 text-lg",children:t}),I.jsx("button",{onClick:i,className:`w-full py-3 rounded-lg font-bold text-white transition-colors ${a==="error"?"bg-red-600 hover:bg-red-500":a==="spy"?"bg-emerald-600 hover:bg-emerald-500":"bg-blue-600 hover:bg-blue-500"}`,children:"Okay"})]})})}),Ix=({onClose:r})=>I.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4",children:I.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[I.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 uppercase tracking-widest",children:"GAME GUIDE"}),I.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"Deception, Deduction & Discovery"})]}),I.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors",children:I.jsx(tT,{size:24})})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 md:space-y-10 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[I.jsxs("div",{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 p-4 md:p-6 rounded-2xl border border-blue-700/30",children:[I.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[I.jsx(J1,{className:"text-yellow-400 fill-current",size:24})," The Objective"]}),I.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["The high seas are treacherous. Your goal is simple:"," ",I.jsx("strong",{children:"survive"}),". The game is played in multiple rounds. To win a round, you must be the ",I.jsx("strong",{children:"Last Player Standing"})," ","or hold the ",I.jsx("strong",{children:"Highest Value Card"})," when the deck runs out.",I.jsx("br",{}),I.jsx("br",{}),"Survivors earn"," ",I.jsx("span",{className:"text-yellow-400 font-bold",children:"1 Coin"}),". The first pirate to amass"," ",I.jsx("span",{className:"text-yellow-400 font-bold",children:"10 Coins"})," wins the game and the treasure!"]})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[I.jsx(W1,{className:"text-purple-400",size:24})," The Crew (Cards)"]}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:Object.values(Wn).sort((t,i)=>t.val-i.val).map(t=>I.jsxs("div",{className:"flex items-start gap-3 md:gap-4 bg-gray-800/50 p-3 md:p-4 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[I.jsx("div",{className:`p-3 md:p-4 rounded-xl ${t.bg} border border-gray-600 shadow-lg shrink-0`,children:I.jsx(t.icon,{className:`${t.color}`,size:24})}),I.jsxs("div",{className:"flex-1",children:[I.jsxs("div",{className:"flex justify-between items-center w-full mb-1",children:[I.jsx("h4",{className:"font-bold text-white text-base md:text-lg",children:t.name}),I.jsxs("span",{className:"text-xs bg-black/60 px-2 py-1 rounded text-gray-300 font-mono border border-gray-600",children:["Val: ",t.val]})]}),I.jsx("p",{className:"text-xs md:text-sm text-gray-400 leading-snug",children:t.desc})]})]},t.name))})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[I.jsx(sx,{className:"text-green-400",size:24})," How It Works"]}),I.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-gray-700 ml-4",children:[I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"1"}),I.jsxs("div",{className:"pl-6",children:[I.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Draw"}),I.jsxs("p",{className:"text-gray-400 text-sm md:text-base",children:["You start the round with ",I.jsx("strong",{children:"1 card"})," in hand. At the start of your turn, you draw a"," ",I.jsx("strong",{children:"second card"})," from the deck."]})]})]}),I.jsxs("div",{className:"relative",children:[I.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"2"}),I.jsxs("div",{className:"pl-6",children:[I.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Play"}),I.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Choose one of your two cards to play face up. Its ability triggers immediately. The other card remains hidden in your hand."})]})]})]})]})]}),I.jsx("div",{className:"p-4 md:p-6 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:I.jsx("button",{onClick:r,className:"w-full md:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white px-10 py-3 md:py-4 rounded-xl font-bold text-lg transition-all shadow-xl",children:"Got it, Let's Play!"})})]})}),kc=({type:r,onClick:t,disabled:i,highlight:a,small:o,tiny:c})=>{const d=Wn[r];if(!d)return I.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-gray-700 rounded border border-gray-600"});if(c)return I.jsx("div",{className:`w-5 h-7 md:w-6 md:h-8 rounded border flex items-center justify-center ${d.bg} border-gray-600 shadow-sm`,title:d.name,children:I.jsx(d.icon,{className:`${d.color} w-3 h-3`})});const p=o?"w-12 h-16 md:w-16 md:h-24 p-0.5 md:p-1":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",_=o?"w-5 h-5 md:w-6 md:h-6":"w-10 h-10 md:w-12 md:h-12",y=o?"text-[8px] md:text-[10px]":"text-xs md:text-sm";return I.jsxs("button",{onClick:t,disabled:i,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between
        ${p}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":"border-gray-700"}
        ${d.bg} ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[I.jsxs("div",{className:`font-bold ${y} ${d.type==="PIRATE","text-white"} w-full flex justify-between`,children:[I.jsx("span",{children:d.val}),!o&&I.jsx("span",{children:d.name})]}),I.jsx(d.icon,{className:`${d.color} ${_}`}),!o&&I.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-300 text-center leading-tight bg-black/30 p-1 rounded w-full line-clamp-3 md:line-clamp-none",children:d.desc})]})},xx=({logs:r,onClose:t})=>I.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:I.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700",children:[I.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[I.jsx("h3",{className:"text-white font-bold text-lg",children:"Game Log"}),I.jsx("button",{onClick:t,className:"p-2 bg-gray-700 rounded-full",children:I.jsx(tT,{className:"text-gray-400"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...r].reverse().map((i,a)=>I.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function Nx(){const[r,t]=Ee.useState(null),[i,a]=Ee.useState("menu"),[o,c]=Ee.useState(""),[d,p]=Ee.useState(""),[_,y]=Ee.useState(""),[T,S]=Ee.useState(null),[M,H]=Ee.useState(!1),[tt,nt]=Ee.useState(""),[W,gt]=Ee.useState(!1),[St,_t]=Ee.useState(!1),[Qt,Kt]=Ee.useState(null),[Gt,x]=Ee.useState(""),[A,R]=Ee.useState(null),[V,N]=Ee.useState(null),[U,w]=Ee.useState(null);Ee.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await gw($d,__initial_auth_token):await cw($d)})();const $=_w($d,t);return()=>$()},[]),Ee.useEffect(()=>{if(!d||!r)return;const J=GI(an(ln,"artifacts",on,"public","data","rooms",d),$=>{if($.exists()){const rt=$.data();if(!rt.players.some(xt=>xt.id===r.uid)){p(""),a("menu"),nt("You have left the room or were kicked.");return}S(rt),rt.status==="playing"?a("game"):rt.status==="lobby"&&a("lobby")}else p(""),a("menu"),nt("Room closed or does not exist.")});return()=>J()},[d,r]);const ae=(J,$,rt="error")=>{w({title:J,text:$,type:rt})},Ce=async()=>{if(!o)return nt("Name required");H(!0);const J=Math.random().toString(36).substring(2,7).toUpperCase(),$={roomId:J,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}],deck:[],deckConfig:{guards:6,merchants:2},discardPile:[],logs:[],turnIndex:0,roundCount:1,burntCard:null,thiefActive:null,pendingAction:null};await qI(an(ln,"artifacts",on,"public","data","rooms",J),$),p(J),y(J),a("lobby"),H(!1)},G=async()=>{if(!_||!o)return nt("Room ID and Name required");H(!0);const J=an(ln,"artifacts",on,"public","data","rooms",_),$=await gv(J);if(!$.exists()){nt("Room not found"),H(!1);return}const rt=$.data();if(rt.status!=="lobby"){nt("Game already started"),H(!1);return}if(rt.players.find(Ot=>Ot.id===r.uid))p(_);else if(rt.players.length<8){const Ot=[...rt.players,{id:r.uid,name:o,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}];await vn(J,{players:Ot}),p(_)}else nt("Room full (Max 8)");H(!1)},it=async()=>{if(!(!d||!r)){try{const J=an(ln,"artifacts",on,"public","data","rooms",d),$=await gv(J);if($.exists()){const rt=$.data(),Ot=rt.players.filter(xt=>xt.id!==r.uid);if(Ot.length===0)await HI(J);else{let xt=rt.hostId;rt.hostId===r.uid&&(xt=Ot[0].id),await vn(J,{players:Ot,hostId:xt})}}}catch(J){console.error("Error leaving room:",J)}p(""),a("menu"),S(null)}},ft=async J=>{if(!T||T.hostId!==r.uid)return;const $=T.players.filter(rt=>rt.id!==J);await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:$})},Ut=async(J,$)=>{T.hostId===r.uid&&await vn(an(ln,"artifacts",on,"public","data","rooms",d),{deckConfig:{guards:J,merchants:$}})},Xt=async(J=null)=>{const $=J||T,rt=$.players.length;let Ot=$.deckConfig||{guards:6,merchants:2};rt>4&&(Ot={guards:6,merchants:2});const xt=[];Object.keys(Wn).forEach(wt=>{let ht=Wn[wt].defaultCount;wt==="GUARD"&&(ht=Ot.guards??6),wt==="MERCHANT"&&(ht=Ot.merchants??2);for(let de=0;de<ht;de++)xt.push(wt)});const Te=vv(xt),mt=Te.pop(),$t=$.players.map(wt=>({...wt,hand:[Te.pop()],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1})),Mt=Math.floor(Math.random()*$t.length);$t[Mt].hand.push(Te.pop()),await vn(an(ln,"artifacts",on,"public","data","rooms",d),{status:"playing",deck:Te,burntCard:mt,players:$t,discardPile:[],turnIndex:Mt,thiefActive:null,logs:ps({text:`--- Round ${$.roundCount} Started ---`,type:"neutral"})})},O=async()=>{const J=[...T.players],$=J.findIndex(rt=>rt.id===r.uid);J[$].readyForNext=!0,await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:J})},Y=async()=>{if(!T||T.hostId!==r.uid)return;const J=T.players.map($=>({...$,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));await vn(an(ln,"artifacts",on,"public","data","rooms",d),{status:"lobby",players:J,deck:[],logs:[],roundCount:1,winnerId:null})},st=async(J,$=[])=>{let rt=[...J.players],Ot=[...J.deck],xt=J.turnIndex,Te=J.thiefActive;const mt=rt.filter(Mt=>!Mt.eliminated);if(mt.length===1){const Mt=mt[0];if(Mt.coins+=1,$.push({text:`Round Over! ${Mt.name} is the last survivor (+1 Coin).`,type:"success"}),Mt.coins>=10){await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:rt,logs:ps(...$),status:"finished",winnerId:Mt.id});return}await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:rt,logs:ps(...$),roundCount:pv(1)}),setTimeout(()=>Xt({...J,players:rt,roundCount:J.roundCount+1}),2500);return}if(Ot.length===0&&rt[xt].hand.length===1){let Mt=-1,wt=[];if(mt.forEach(ht=>{const de=Wn[ht.hand[0]].val;de>Mt?(Mt=de,wt=[ht]):de===Mt&&wt.push(ht)}),wt.forEach(ht=>{const de=rt.findIndex($i=>$i.id===ht.id);rt[de].coins+=1}),$.push({text:`Deck Empty! Winners: ${wt.map(ht=>ht.name).join(", ")} (Card Value: ${Mt}).`,type:"success"}),rt.some(ht=>ht.coins>=10)){await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:rt,logs:ps(...$),status:"finished",winnerId:rt.find(ht=>ht.coins>=10).id});return}await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:rt,logs:ps(...$),roundCount:pv(1)}),setTimeout(()=>Xt({...J,players:rt,roundCount:J.roundCount+1}),2500);return}let $t=(xt+1)%rt.length;for(;rt[$t].eliminated;)$t=($t+1)%rt.length;Te&&Te.playerId===rt[$t].id&&(rt[$t].coins+=1,$.push({text:`${rt[$t].name} survived the round as Thief (+1 Coin)!`,type:"success"}),Te=null),rt[$t].immune=!1,Ot.length>0?rt[$t].hand.push(Ot.pop()):rt[$t].hand.push(J.burntCard),await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:rt,deck:Ot,turnIndex:$t,thiefActive:Te,logs:ps(...$)})},at=J=>{if(Qt){if(J===r.uid){ae("Targeting Error","You cannot target yourself!","error");return}if(Qt==="GUARD"){R(J),N(null);return}vt(Qt,J)}},vt=async(J,$=null,rt=null)=>{if(!r||T.players[T.turnIndex].id!==r.uid)return;const Ot=["GUARD","SPY","SWORDSMAN","CANNONEER","SAILOR"],xt=J==="GUARD",Te=rt||Gt;if(Ot.includes(J)&&!$){Kt(J);return}if(xt&&!Te){Kt(J);return}const mt=JSON.parse(JSON.stringify(T.players)),$t=mt.findIndex(kt=>kt.id===r.uid),Mt=mt[$t];let wt=[...T.deck],ht=[],de=T.thiefActive;const $i=Mt.hand,oa=$i.includes("CAPTAIN"),Je=$i.includes("CANNONEER")||$i.includes("SAILOR");if(oa&&Je&&J!=="CAPTAIN"){ae("Captain's Orders","You MUST play the Captain if you hold a Cannoneer or Sailor!","error");return}const _i=Mt.hand.indexOf(J);if(_i===-1)return;Mt.hand.splice(_i,1),Mt.playedCards||(Mt.playedCards=[]),Mt.playedCards.push(J);const ni=(kt,Zt)=>{const Ie=mt.findIndex(vi=>vi.id===kt);mt[Ie].eliminated=!0,mt[Ie].hand.length>0&&(mt[Ie].playedCards||(mt[Ie].playedCards=[]),mt[Ie].playedCards.push(mt[Ie].hand[0])),mt[Ie].hand=[],ht.push({text:` ${mt[Ie].name} was eliminated! (${Zt})`,type:"danger"}),de&&de.playerId===kt&&(de=null)};if(J==="THIEF")ht.push({text:`${Mt.name} plays Thief. (Gain coin if survived until next turn)`,type:"neutral"}),de&&ht.push({text:" Previous Thief thwarted!",type:"neutral"}),de={playerId:r.uid,turnSet:T.turnIndex};else if(J==="GUARD"){const kt=mt.find(Zt=>Zt.id===$);ht.push({text:`${Mt.name} plays Guard on ${kt.name}, guessing ${Wn[Te].name}.`,type:"neutral"}),kt.immune?ht.push({text:` ${kt.name} is immune to the Guard!`,type:"warning"}):kt.hand[0]===Te?ni($,"Guard Correct Guess"):ht.push({text:` Guard guess wrong. ${kt.name} is safe.`,type:"neutral"})}else if(J==="SPY"){const kt=mt.find(Zt=>Zt.id===$);kt.immune?ht.push({text:`${Mt.name} tried to Spy, but ${kt.name} is immune!`,type:"warning"}):(ht.push({text:`${Mt.name} plays Spy and looks at ${kt.name}'s hand.`,type:"neutral"}),ae("Spy Report",`${kt.name} is holding: ${Wn[kt.hand[0]].name}`,"spy"))}else if(J==="SWORDSMAN"){const kt=mt.find(Zt=>Zt.id===$);if(kt.immune)ht.push({text:` ${kt.name} is immune to Sword Fight!`,type:"warning"});else{const Zt=Wn[mt[$t].hand[0]].val,Ie=Wn[kt.hand[0]].val;ht.push({text:`${Mt.name} challenges ${kt.name} to a Sword Fight!`,type:"neutral"}),Zt<Ie?ni(r.uid,"Lost Sword Fight (Lower Card)"):Ie<Zt?ni($,"Lost Sword Fight (Lower Card)"):ht.push({text:" Sword Fight Tie! Both survive.",type:"neutral"})}}else if(J==="COOK")mt[$t].immune=!0,ht.push({text:` ${Mt.name} plays Cook. Immune until next turn.`,type:"success"});else if(J==="CANNONEER"){const kt=mt.findIndex(Ie=>Ie.id===$),Zt=mt[kt];if(Zt.immune)ht.push({text:` ${Zt.name} is immune to Cannoneer!`,type:"warning"});else if(Zt.hand[0]==="PIRATE")ht.push({text:`${Mt.name} fires Cannon at ${Zt.name}... It's a Pirate!`,type:"danger"}),ni($,"Cannoneer hit a Pirate");else{const Ie=Zt.hand.pop();let vi;wt.length>0?vi=wt.pop():(vi=T.burntCard,ht.push({text:"Deck empty! Recycled Burnt Card.",type:"warning"})),mt[kt].hand.push(vi),wt.unshift(Ie),ht.push({text:` ${Mt.name} used Cannoneer. ${Zt.name} was forced to switch cards.`,type:"neutral"})}}else if(J==="MERCHANT"){let kt=[];wt.length>=2?kt=[wt.pop(),wt.pop()]:wt.length===1&&(kt=[wt.pop()]);const Zt=[...mt[$t].hand,...kt];mt[$t].hand=[],await vn(an(ln,"artifacts",on,"public","data","rooms",d),{players:mt,deck:wt,thiefActive:de||null,logs:ps(...ht),discardPile:ps(J),merchantState:{pool:Zt,originalDeckCount:wt.length}}),Kt(null),x("");return}else if(J==="SAILOR"){const kt=mt.findIndex(Zt=>Zt.id===$);if(mt[kt].immune)ht.push({text:` ${mt[kt].name} is immune to Swap!`,type:"warning"});else{const Zt=mt[$t].hand.pop(),Ie=mt[kt].hand.pop();mt[$t].hand.push(Ie),mt[kt].hand.push(Zt),ht.push({text:` ${Mt.name} swapped hands with ${mt[kt].name}.`,type:"neutral"})}}else J==="CAPTAIN"?ht.push({text:`${Mt.name} plays Captain (No Effect).`,type:"neutral"}):J==="PIRATE"&&ni(r.uid,"Played Pirate (Suicide)");Kt(null),x(""),await vn(an(ln,"artifacts",on,"public","data","rooms",d),{discardPile:ps(J)}),await st({players:mt,deck:wt,turnIndex:T.turnIndex,thiefActive:de||null,burntCard:T.burntCard,deckConfig:T.deckConfig},ht)},It=async J=>{const $=T.merchantState.pool,rt=$.filter((mt,$t)=>$t!==$.indexOf(J));let Ot=[...T.deck,...rt];Ot=vv(Ot);const xt=[...T.players],Te=xt.findIndex(mt=>mt.id===r.uid);xt[Te].hand=[J],await vn(an(ln,"artifacts",on,"public","data","rooms",d),{merchantState:null}),await st({players:xt,deck:Ot,turnIndex:T.turnIndex,thiefActive:T.thiefActive,burntCard:T.burntCard,deckConfig:T.deckConfig},[{text:`${T.players.find(mt=>mt.id===r.uid).name} finished Merchant selection.`,type:"neutral"}])};T?.players.filter(J=>!J.eliminated&&J.id!==r?.uid);const Tt=T?.players.find(J=>J.id===r?.uid),ye=T?.players[T?.turnIndex]?.id===r?.uid,le=T?.players.filter(J=>J.id!==T.hostId).every(J=>J.readyForNext);if(!r)return I.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return I.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[W&&I.jsx(Ix,{onClose:()=>gt(!1)}),I.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-400 font-serif tracking-widest z-10 text-center",children:"PIRATES"}),I.jsx("div",{className:"text-lg md:text-xl text-blue-300 font-serif tracking-widest mb-8 opacity-80 z-10 uppercase text-center",children:"Adventure on the sea"}),I.jsxs("div",{className:"bg-gray-800 p-6 md:p-8 rounded-xl w-full max-w-md border border-gray-700 shadow-2xl z-10",children:[tt&&I.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm",children:tt}),I.jsx("input",{className:"w-full bg-gray-900 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-500",placeholder:"Pirate Name",value:o,onChange:J=>c(J.target.value)}),I.jsxs("button",{onClick:Ce,disabled:M,className:"w-full bg-red-600 hover:bg-red-500 p-3 rounded font-bold mb-4 flex items-center justify-center gap-2",children:[I.jsx(Am,{size:20})," Create New Ship"]}),I.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-4",children:[I.jsx("input",{className:"flex-1 bg-gray-900 border border-gray-700 p-3 rounded text-white placeholder-gray-500 uppercase",placeholder:"Room Code",value:_,onChange:J=>y(J.target.value.toUpperCase())}),I.jsx("button",{onClick:G,disabled:M,className:"bg-gray-700 hover:bg-gray-600 p-3 md:px-6 rounded font-bold",children:"Join"})]}),I.jsxs("button",{onClick:()=>gt(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[I.jsx(WI,{size:16})," How to Play"]})]}),I.jsx(Ev,{})]});if(i==="lobby"&&T){const J=T.hostId===r.uid,$=T.deckConfig?.guards??6,rt=T.deckConfig?.merchants??2,Ot=T.players.length;return I.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-6 flex flex-col items-center",children:I.jsxs("div",{className:"w-full max-w-2xl relative z-10",children:[I.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 md:mb-8 gap-4",children:[I.jsxs("h2",{className:"text-2xl md:text-3xl font-bold font-serif text-yellow-500",children:["Cabin: ",d]}),I.jsxs("button",{onClick:it,className:"text-gray-400 hover:text-white flex items-center gap-2",children:[I.jsx(_v,{size:20})," Leave"]})]}),I.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 md:p-6 mb-6",children:[I.jsxs("h3",{className:"text-gray-400 uppercase tracking-widest mb-4",children:["Crew (",T.players.length,"/8)"]}),T.players.map(xt=>I.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-3 rounded mb-2",children:[I.jsxs("span",{className:"font-bold flex items-center gap-2",children:[xt.id===T.hostId&&I.jsx(Y1,{size:16,className:"text-yellow-400"})," ",xt.name]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"text-green-400 text-sm",children:"Ready"}),J&&xt.id!==r.uid&&I.jsx("button",{onClick:()=>ft(xt.id),className:"p-1 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:I.jsx(vx,{size:16})})]})]},xt.id))]}),J&&I.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 md:p-6 mb-6 border border-gray-700",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[I.jsx(dx,{size:16})," Deck Config"]}),Ot>4&&I.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Disabled (5+ Players)"})]}),I.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${Ot>4?"opacity-50 pointer-events-none":""}`,children:[I.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[I.jsxs("div",{className:"text-sm font-bold text-blue-400",children:["Guards (",$,")"]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>Ut($-1,rt),disabled:$<=4,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30",children:"-"}),I.jsx("button",{onClick:()=>Ut($+1,rt),disabled:$>=6,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30",children:"+"})]})]}),I.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[I.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:["Merchants (",rt,")"]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>Ut($,rt-1),disabled:rt<=0,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30",children:"-"}),I.jsx("button",{onClick:()=>Ut($,rt+1),disabled:rt>=2,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30",children:"+"})]})]})]})]}),J?I.jsx("button",{onClick:()=>Xt(),disabled:T.players.length<2,className:`w-full py-4 rounded-xl font-bold text-xl shadow-lg ${T.players.length<2?"bg-gray-700 cursor-not-allowed":"bg-green-600 hover:bg-green-500"}`,children:"Set Sail (Start Game)"}):I.jsx("div",{className:"text-center text-gray-500 animate-pulse",children:"Waiting for Captain to start..."})]})})}if(i==="game"&&T){const J=T.merchantState&&ye;return I.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col relative overflow-hidden",children:[I.jsx(Ev,{}),U&&I.jsx(Cx,{title:U.title,text:U.text,type:U.type,onClose:()=>w(null)}),I.jsxs("div",{className:"bg-gray-800 p-2 md:p-4 flex justify-between items-center z-50 shadow-md",children:[I.jsxs("div",{className:"font-bold text-yellow-500 flex items-center gap-2 text-sm md:text-base",children:[I.jsx(Am,{size:18})," Room: ",d,I.jsxs("span",{className:"text-gray-400 text-xs md:text-sm ml-2",children:["Rnd ",T.roundCount]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>_t(!0),className:"p-2 hover:bg-gray-700 rounded",children:I.jsx(X1,{size:20})}),I.jsx("button",{onClick:it,className:"p-2 hover:bg-gray-700 rounded",children:I.jsx(_v,{size:20})})]})]}),I.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10",children:[I.jsxs("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 flex flex-col gap-2 items-center text-gray-500 hidden md:flex",children:[I.jsx("div",{className:"w-16 h-24 bg-gray-800 border-2 border-gray-600 rounded-lg flex items-center justify-center",children:I.jsx("span",{className:"font-bold text-xl",children:T.deck.length})}),I.jsx("span",{className:"text-xs uppercase",children:"Deck"})]}),I.jsxs("div",{className:"md:hidden bg-gray-800/80 px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-400 mb-2",children:["Deck:"," ",I.jsx("span",{className:"text-white font-bold",children:T.deck.length})]}),I.jsx("div",{className:"flex gap-2 md:gap-4 justify-center flex-wrap w-full max-w-5xl",children:T.players.map(($,rt)=>{if($.id===r.uid)return null;const Ot=T.turnIndex===rt,xt=ye&&Qt&&!$.eliminated,Te=$.immune,mt=T.thiefActive?.playerId===$.id;return I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsxs("div",{className:`
                    relative bg-gray-800 p-2 md:p-3 rounded-lg md:rounded-xl border-2 w-28 md:w-32 transition-all cursor-pointer
                    ${Ot?"border-yellow-500 shadow-yellow-500/20 shadow-lg scale-105":"border-gray-700"}
                    ${$.eliminated?"opacity-50 grayscale":""}
                    ${xt?"ring-2 md:ring-4 ring-orange-500 hover:scale-110":""}
                    ${Te?"ring-2 md:ring-4 ring-green-400/50 shadow-[0_0_15px_rgba(74,222,128,0.5)] animate-pulse":""}
                    ${mt?"ring-2 md:ring-4 ring-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse":""}
                  `,onClick:()=>xt?at($.id):null,children:[I.jsx("div",{className:"flex justify-between items-start mb-1 md:mb-2",children:I.jsx("span",{className:"font-bold truncate text-xs md:text-sm w-full",children:$.name})}),I.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[$.immune&&I.jsx(Qc,{size:10,className:"text-green-400"}),mt&&I.jsx(dh,{size:10,className:"text-red-400"})]}),I.jsx("div",{className:"flex gap-0.5 md:gap-1 justify-center mb-1 md:mb-2",children:$.hand.map(($t,Mt)=>I.jsx("div",{className:"w-4 h-6 md:w-6 md:h-8 bg-blue-900 rounded border border-blue-500"},Mt))}),I.jsxs("div",{className:"flex justify-between items-center text-[8px] md:text-xs text-gray-400 bg-gray-900/50 p-0.5 md:p-1 rounded",children:[I.jsxs("span",{className:"flex items-center gap-0.5",children:[I.jsx(fh,{size:8,className:"text-yellow-400"})," ",$.coins]}),$.eliminated&&I.jsx(mh,{size:10,className:"text-red-500"})]}),Ot&&I.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-yellow-500 text-black text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap",children:"TURN"}),xt&&I.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-lg md:rounded-xl flex items-center justify-center font-bold text-[10px] md:text-sm text-orange-300 animate-pulse",children:"TARGET"})]}),I.jsx("div",{className:"mt-1 md:mt-2 flex gap-0.5 justify-center flex-wrap max-w-[5rem] md:max-w-[8rem]",children:$.playedCards&&$.playedCards.map(($t,Mt)=>I.jsx(kc,{type:$t,tiny:!0},Mt))})]},$.id)})}),I.jsx("div",{className:"pointer-events-none z-0 my-2 flex flex-col items-center space-y-2 opacity-80 w-full px-4",children:T.logs.slice(-2).reverse().map(($,rt)=>I.jsx("div",{className:"bg-black/60 px-3 py-1 rounded text-xs md:text-sm text-white backdrop-blur-sm text-center truncate max-w-full",children:$.text},rt))}),I.jsxs("div",{className:`w-full max-w-2xl bg-gray-800/90 p-3 md:p-6 rounded-t-2xl md:rounded-t-3xl border-t border-gray-600 backdrop-blur-md transition-colors ${Tt?.eliminated?"grayscale opacity-75":""}`,children:[I.jsxs("div",{className:"flex justify-between items-start md:items-center mb-3 md:mb-4",children:[I.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3",children:[I.jsxs("div",{className:`bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2 
                    ${Tt.immune?"ring-2 ring-green-500 shadow-lg shadow-green-500/20":""}
                    ${T.thiefActive?.playerId===Tt.id?"ring-2 ring-red-500 shadow-lg shadow-red-500/20":""}
                 `,children:[I.jsx(W1,{className:"text-gray-400 w-4 h-4 md:w-5 md:h-5"}),I.jsx("span",{className:"font-bold text-sm md:text-lg max-w-[80px] md:max-w-none truncate",children:Tt.name}),Tt.immune&&I.jsx(Qc,{className:"text-green-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"}),T.thiefActive?.playerId===Tt.id&&I.jsx(dh,{className:"text-red-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"})]}),I.jsxs("div",{className:"bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2",children:[I.jsx(fh,{className:"text-yellow-400 w-4 h-4 md:w-5 md:h-5"}),I.jsx("span",{className:"font-bold text-sm md:text-xl text-yellow-400",children:Tt.coins}),I.jsx("span",{className:"text-[10px] md:text-xs text-gray-500 uppercase font-bold self-end mb-0.5 md:mb-1",children:"/ 10"})]})]}),I.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ye&&!Tt.eliminated&&!J&&I.jsx("div",{className:"text-green-400 font-bold animate-pulse uppercase tracking-widest text-xs md:text-sm mb-1",children:"Your Turn"}),I.jsxs("div",{className:"flex gap-0.5 items-center bg-gray-900/50 p-1 md:p-2 rounded-lg border border-gray-700",children:[I.jsx("span",{className:"text-[8px] md:text-[10px] text-gray-500 uppercase mr-1 hidden md:inline",children:"History"}),Tt.playedCards&&Tt.playedCards.slice(-4).map(($,rt)=>I.jsx(kc,{type:$,tiny:!0},rt))]})]})]}),Tt.eliminated?I.jsxs("div",{className:"text-center py-4 md:py-8 text-red-500 font-bold text-xl md:text-2xl uppercase tracking-widest border-2 border-red-900 bg-red-900/10 rounded-xl",children:[I.jsx(mh,{className:"inline-block mb-1 md:mb-2 w-8 h-8 md:w-12 md:h-12"}),I.jsx("br",{}),"Eliminated"]}):I.jsx(I.Fragment,{children:I.jsx("div",{className:"flex justify-center gap-2 md:gap-4 mb-2",children:J?T.merchantState.pool.map(($,rt)=>I.jsxs("div",{className:"flex flex-col items-center gap-2",children:[I.jsx(kc,{type:$,onClick:()=>It($),highlight:!0}),I.jsx("span",{className:"text-xs text-green-400 font-bold",children:"Keep"})]},rt)):Tt.hand.map(($,rt)=>{const Ot=ye,xt=Qt===$;return I.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[xt&&I.jsx("div",{className:"absolute -top-8 md:-top-10 bg-yellow-500 text-black px-2 py-1 rounded text-[10px] md:text-xs font-bold animate-bounce z-20 whitespace-nowrap",children:"Select Target!"}),I.jsx(kc,{type:$,onClick:()=>Ot?vt($):null,disabled:!Ot,highlight:Ot&&xt}),Ot&&xt&&I.jsx("div",{className:"flex flex-col gap-1 w-full animate-in fade-in slide-in-from-bottom-2",children:I.jsx("button",{onClick:()=>Kt(null),className:"bg-red-900/50 hover:bg-red-900 text-[8px] md:text-[10px] py-1 rounded text-red-300 w-full",children:"Cancel"})})]},rt)})})})]})]}),St&&I.jsx(xx,{logs:T.logs,onClose:()=>_t(!1)}),A&&I.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",children:I.jsxs("div",{className:"bg-gray-800 border-2 border-blue-500 rounded-xl p-4 md:p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in",children:[I.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-4 flex items-center gap-2",children:[I.jsx(Qc,{className:"text-blue-400"}),"Guess a Card"]}),I.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.keys(Wn).filter($=>{if($==="GUARD")return!1;const rt=T.deckConfig?.merchants??2;return!($==="MERCHANT"&&rt===0)}).map($=>I.jsxs("button",{onClick:()=>N($),className:`
                        p-2 rounded text-xs md:text-sm font-bold transition-colors flex items-center gap-1 md:gap-2 justify-center md:justify-start
                        ${V===$?"bg-yellow-500 text-black ring-2 ring-yellow-300":"bg-gray-700 hover:bg-blue-600 text-white"}
                      `,children:[Ub.createElement(Wn[$].icon,{size:14}),Wn[$].name]},$))}),I.jsx("button",{onClick:()=>{V?(vt("GUARD",A,V),R(null),N(null),Kt(null)):(R(null),Kt(null))},className:`
                  w-full py-3 rounded font-bold transition-colors
                  ${V?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-red-900/50 hover:bg-red-900 text-red-200"}
                `,children:V?"Confirm Play":"Cancel"})]})}),T.status==="finished"&&I.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex flex-col items-center justify-center p-4 text-center",children:[I.jsx(J1,{size:48,className:"text-yellow-400 mb-4 animate-bounce"}),I.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Game Over!"}),I.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8",children:[T.players.find($=>$.id===T.winnerId)?.name," ","wins the treasure!"]}),T.hostId===r.uid?I.jsxs("div",{className:"flex flex-col items-center gap-2 w-full max-w-xs",children:[!le&&I.jsxs("div",{className:"text-red-400 text-xs md:text-sm animate-pulse mb-2 flex items-center gap-2 justify-center",children:[I.jsx(Z1,{size:16})," Waiting for crew..."]}),I.jsxs("button",{onClick:Y,disabled:!le,className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl 
                        ${le?"bg-green-600 hover:bg-green-500 shadow-green-900/20":"bg-gray-700 cursor-not-allowed text-gray-400"}
                      `,children:[I.jsx(hx,{})," Return to Lobby"]})]}):I.jsx("button",{onClick:O,disabled:T.players.find($=>$.id===r.uid)?.readyForNext,className:`w-full max-w-xs py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${T.players.find($=>$.id===r.uid)?.readyForNext?"bg-gray-700 text-green-400 border border-green-500 cursor-default":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:T.players.find($=>$.id===r.uid)?.readyForNext?I.jsxs(I.Fragment,{children:[I.jsx(ex,{size:24})," Waiting for Host..."]}):"Ready for Next Game"})]})]})}return null}Hb.createRoot(document.getElementById("root")).render(I.jsx(Ee.StrictMode,{children:I.jsx(Nx,{})}));
