(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Vb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},Rl={};var j_;function kb(){if(j_)return Rl;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=e,Rl.jsx=i,Rl.jsxs=i,Rl}var z_;function Ub(){return z_||(z_=1,Id.exports=kb()),Id.exports}var A=Ub(),Nd={exports:{}},Ie={};var B_;function Lb(){if(B_)return Ie;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,W={};function ye(O,Q,re){this.props=O,this.context=Q,this.refs=W,this.updater=re||ee}ye.prototype.isReactComponent={},ye.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ye.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ce(){}Ce.prototype=ye.prototype;function me(O,Q,re){this.props=O,this.context=Q,this.refs=W,this.updater=re||ee}var it=me.prototype=new Ce;it.constructor=me,ne(it,ye.prototype),it.isPureReactComponent=!0;var ct=Array.isArray;function ke(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(O,Q,re){var oe=re.ref;return{$$typeof:s,type:O,key:Q,ref:oe!==void 0?oe:null,props:re}}function V(O,Q){return x(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return Q[re]})}var R=/\/+/g;function at(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ke,ke):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,re,oe,Se){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case E:return Ue=O._init,H(Ue(O._payload),Q,re,oe,Se)}}if(Ue)return Se=Se(O),Ue=oe===""?"."+at(O,0):oe,ct(Se)?(re="",Ue!=null&&(re=Ue.replace(R,"$&/")+"/"),H(Se,Q,re,"",function(Ei){return Ei})):Se!=null&&(N(Se)&&(Se=V(Se,re+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+Ue)),Q.push(Se)),1;Ue=0;var Ot=oe===""?".":oe+":";if(ct(O))for(var ht=0;ht<O.length;ht++)oe=O[ht],Re=Ot+at(oe,ht),Ue+=H(oe,Q,re,Re,Se);else if(ht=G(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(oe=O.next()).done;)oe=oe.value,Re=Ot+at(oe,ht++),Ue+=H(oe,Q,re,Re,Se);else if(Re==="object"){if(typeof O.then=="function")return H(St(O),Q,re,oe,Se);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(O,Q,re){if(O==null)return O;var oe=[],Se=0;return H(O,oe,"","",function(Re){return Q.call(re,Re,Se++)}),oe}function de(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:se,forEach:function(O,Q,re){se(O,function(){Q.apply(this,arguments)},re)},count:function(O){var Q=0;return se(O,function(){Q++}),Q},toArray:function(O){return se(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=S,Ie.Children=He,Ie.Component=ye,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=me,Ie.StrictMode=a,Ie.Suspense=_,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,Q,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=ne({},O.props),Se=O.key;if(Q!=null)for(Re in Q.key!==void 0&&(Se=""+Q.key),Q)!w.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(oe[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)oe.children=re;else if(1<Re){for(var Ue=Array(Re),Ot=0;Ot<Re;Ot++)Ue[Ot]=arguments[Ot+2];oe.children=Ue}return x(O.type,Se,oe)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ie.createElement=function(O,Q,re){var oe,Se={},Re=null;if(Q!=null)for(oe in Q.key!==void 0&&(Re=""+Q.key),Q)w.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Se[oe]=Q[oe]);var Ue=arguments.length-2;if(Ue===1)Se.children=re;else if(1<Ue){for(var Ot=Array(Ue),ht=0;ht<Ue;ht++)Ot[ht]=arguments[ht+2];Se.children=Ot}if(O&&O.defaultProps)for(oe in Ue=O.defaultProps,Ue)Se[oe]===void 0&&(Se[oe]=Ue[oe]);return x(O,Re,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:p,render:O}},Ie.isValidElement=N,Ie.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},Ie.memo=function(O,Q){return{$$typeof:y,type:O,compare:Q===void 0?null:Q}},Ie.startTransition=function(O){var Q=I.T,re={};I.T=re;try{var oe=O(),Se=I.S;Se!==null&&Se(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ke,qe)}catch(Re){qe(Re)}finally{Q!==null&&re.types!==null&&(Q.types=re.types),I.T=Q}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(O){return I.H.use(O)},Ie.useActionState=function(O,Q,re){return I.H.useActionState(O,Q,re)},Ie.useCallback=function(O,Q){return I.H.useCallback(O,Q)},Ie.useContext=function(O){return I.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,Q){return I.H.useDeferredValue(O,Q)},Ie.useEffect=function(O,Q){return I.H.useEffect(O,Q)},Ie.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(O,Q,re){return I.H.useImperativeHandle(O,Q,re)},Ie.useInsertionEffect=function(O,Q){return I.H.useInsertionEffect(O,Q)},Ie.useLayoutEffect=function(O,Q){return I.H.useLayoutEffect(O,Q)},Ie.useMemo=function(O,Q){return I.H.useMemo(O,Q)},Ie.useOptimistic=function(O,Q){return I.H.useOptimistic(O,Q)},Ie.useReducer=function(O,Q,re){return I.H.useReducer(O,Q,re)},Ie.useRef=function(O){return I.H.useRef(O)},Ie.useState=function(O){return I.H.useState(O)},Ie.useSyncExternalStore=function(O,Q,re){return I.H.useSyncExternalStore(O,Q,re)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var q_;function Cm(){return q_||(q_=1,Nd.exports=Lb()),Nd.exports}var st=Cm();const Pb=Vb(st);var Dd={exports:{}},Cl={},Od={exports:{}},Md={};var H_;function jb(){return H_||(H_=1,(function(s){function e(H,se){var de=H.length;H.push(se);e:for(;0<de;){var qe=de-1>>>1,He=H[qe];if(0<l(He,se))H[qe]=se,H[de]=He,de=qe;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var se=H[0],de=H.pop();if(de!==se){H[0]=de;e:for(var qe=0,He=H.length,O=He>>>1;qe<O;){var Q=2*(qe+1)-1,re=H[Q],oe=Q+1,Se=H[oe];if(0>l(re,de))oe<He&&0>l(Se,re)?(H[qe]=Se,H[oe]=de,qe=oe):(H[qe]=re,H[Q]=de,qe=Q);else if(oe<He&&0>l(Se,de))H[qe]=Se,H[oe]=de,qe=oe;else break e}}return se}function l(H,se){var de=H.sortIndex-se.sortIndex;return de!==0?de:H.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,S=null,M=3,G=!1,ee=!1,ne=!1,W=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,me=typeof setImmediate<"u"?setImmediate:null;function it(H){for(var se=i(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=H)a(y),se.sortIndex=se.expirationTime,e(_,se);else break;se=i(y)}}function ct(H){if(ne=!1,it(H),!ee)if(i(_)!==null)ee=!0,ke||(ke=!0,U());else{var se=i(y);se!==null&&St(ct,se.startTime-H)}}var ke=!1,I=-1,w=5,x=-1;function V(){return W?!0:!(s.unstable_now()-x<w)}function N(){if(W=!1,ke){var H=s.unstable_now();x=H;var se=!0;try{e:{ee=!1,ne&&(ne=!1,Ce(I),I=-1),G=!0;var de=M;try{t:{for(it(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,M=S.priorityLevel;var He=qe(S.expirationTime<=H);if(H=s.unstable_now(),typeof He=="function"){S.callback=He,it(H),se=!0;break t}S===i(_)&&a(_),it(H)}else a(_);S=i(_)}if(S!==null)se=!0;else{var O=i(y);O!==null&&St(ct,O.startTime-H),se=!1}}break e}finally{S=null,M=de,G=!1}se=void 0}}finally{se?U():ke=!1}}}var U;if(typeof me=="function")U=function(){me(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=N,U=function(){at.postMessage(null)}}else U=function(){ye(N,0)};function St(H,se){I=ye(function(){H(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var de=M;M=se;try{return H()}finally{M=de}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=M;M=H;try{return se()}finally{M=de}},s.unstable_scheduleCallback=function(H,se,de){var qe=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?qe+de:qe):de=qe,H){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=de+He,H={id:E++,callback:se,priorityLevel:H,startTime:de,expirationTime:He,sortIndex:-1},de>qe?(H.sortIndex=de,e(y,H),i(_)===null&&H===i(y)&&(ne?(Ce(I),I=-1):ne=!0,St(ct,de-qe))):(H.sortIndex=He,e(_,H),ee||G||(ee=!0,ke||(ke=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var se=M;return function(){var de=M;M=se;try{return H.apply(this,arguments)}finally{M=de}}}})(Md)),Md}var G_;function zb(){return G_||(G_=1,Od.exports=jb()),Od.exports}var Vd={exports:{}},pn={};var F_;function Bb(){if(F_)return pn;F_=1;var s=Cm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},pn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},pn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},pn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},pn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},pn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},pn.requestFormReset=function(_){a.d.r(_)},pn.unstable_batchedUpdates=function(_,y){return _(y)},pn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var Y_;function qb(){if(Y_)return Vd.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=Bb(),Vd.exports}var Q_;function Hb(){if(Q_)return Cl;Q_=1;var s=zb(),e=Cm(),i=qb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),me=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ye:return"Profiler";case W:return"StrictMode";case ct:return"Suspense";case ke:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case me:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case it:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:at(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return at(t(n))}catch{}}return null}var St=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},qe=[],He=-1;function O(t){return{current:t}}function Q(t){0>He||(t.current=qe[He],qe[He]=null,He--)}function re(t,n){He++,qe[He]=t.current,t.current=n}var oe=O(null),Se=O(null),Re=O(null),Ue=O(null);function Ot(t,n){switch(re(Re,n),re(Se,t),re(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=l_(n),t=u_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),re(oe,t)}function ht(){Q(oe),Q(Se),Q(Re)}function Ei(t){t.memoizedState!==null&&re(Ue,t);var n=oe.current,r=u_(n,t.type);n!==r&&(re(Se,t),re(oe,r))}function Is(t){Se.current===t&&(Q(oe),Q(Se)),Ue.current===t&&(Q(Ue),bl._currentValue=de)}var Ti,Ns;function Ct(t){if(Ti===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||"",Ns=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+t+Ns}var bi=!1;function si(t,n){if(!t||bi)return"";bi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{bi=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ct(r):""}function K(t,n){switch(t.tag){case 26:case 27:case 5:return Ct(t.type);case 16:return Ct("Lazy");case 13:return t.child!==n&&n!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return si(t.type,!1);case 11:return si(t.type.render,!1);case 1:return si(t.type,!0);case 31:return Ct("Activity");default:return""}}function ie(t){try{var n="",r=null;do n+=K(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Z=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,Ee=s.unstable_cancelCallback,Je=s.unstable_shouldYield,_e=s.unstable_requestPaint,Pe=s.unstable_now,ge=s.unstable_getCurrentPriorityLevel,Le=s.unstable_ImmediatePriority,De=s.unstable_UserBlockingPriority,Xe=s.unstable_NormalPriority,ft=s.unstable_LowPriority,ri=s.unstable_IdlePriority,Ds=s.log,Jt=s.unstable_setDisableYieldValue,Lt=null,Et=null;function ve(t){if(typeof Ds=="function"&&Jt(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Lt,t)}catch{}}var fe=Math.clz32?Math.clz32:Ir,je=Math.log,Wt=Math.LN2;function Ir(t){return t>>>=0,t===0?32:31-(je(t)/Wt|0)|0}var Ai=256,Nr=262144,Pt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Si(o):(g&=T,g!==0?h=Si(g):r||(r=T&~t,r!==0&&(h=Si(r))))):(T=o&~f,T!==0?h=Si(T):g!==0?h=Si(g):r||(r=o&~t,r!==0&&(h=Si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ai(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),t}function Ri(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var F=31-fe(r),X=1<<F;T[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&Or(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Or(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-fe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Co(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-fe(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function xo(t,n){var r=n&-n;return r=(r&42)!==0?1:Mr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:O_(t.type))}function oi(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var li=Math.random().toString(36).slice(2),jt="__reactFiber$"+li,en="__reactProps$"+li,Ci="__reactContainer$"+li,ma="__reactEvents$"+li,Vh="__reactListeners$"+li,uu="__reactHandles$"+li,cu="__reactResources$"+li,xi="__reactMarker$"+li;function ga(t){delete t[jt],delete t[en],delete t[ma],delete t[Vh],delete t[uu]}function Ii(t){var n=t[jt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ci]||r[jt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=p_(t);t!==null;){if(r=t[jt])return r;t=p_(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[jt]||t[Ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[xi]=!0}var Io=new Set,No={};function Di(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(No[t]=n,t=0;t<n.length;t++)Io.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function hu(t){return Z.call(Mo,t)?!0:Z.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function pa(t,n,r){if(hu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Bt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ot(t){if(!t._valueTracker){var n=Os(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function Vr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Os(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kr=/[\n"\\]/g;function wn(t){return t.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ko(t,g,tn(n)):r!=null?ko(t,g,tn(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function fu(t,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ot(t);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ot(t)}function ko(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ms(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function Vs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(St(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ot(t)}function Rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||mu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Uo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Uo(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return ks.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Po=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,Vi=null;function Ur(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[en]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Vr(o)}break e;case"textarea":du(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ms(t,!!r.multiple,n,!1)}}}var Ea=!1;function Ls(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(Us!==null||Vi!==null)&&(lc(),Us&&(n=Us,t=Vi,Vi=Us=null,Ur(n),t)))for(n=0;n<t.length;n++)Ur(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var o=r[en]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Yn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Lr=!1}var ki=null,jo=null,Pr=null;function zo(){if(Pr)return Pr;var t,n=jo,r=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Pr=h.slice(t,1<o?1-o:void 0)}function jr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function hi(){return!1}function rn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=rn(ns),Ps=S({},ns,{view:0,detail:0}),Bo=rn(Ps),js,Ta,Li,ba=S({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(js=t.screenX-Li.screenX,Ta=t.screenY-Li.screenY):Ta=js=0,Li=t),js)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),qo=rn(ba),zr=S({},ba,{dataTransfer:0}),pu=rn(zr),yu=S({},Ps,{relatedTarget:0}),Br=rn(yu),Ho=S({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=rn(Ho),Aa=S({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=rn(Aa),Eu=S({},ns,{data:0}),Pi=rn(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function zs(){return Su}var bn=S({},Ps,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?jr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=rn(bn),Ru=S({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=rn(Ru),u=S({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),m=rn(u),v=S({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=rn(v),L=S({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=rn(L),te=S({},ns,{newState:0,oldState:0}),Oe=rn(te),Mt=[9,13,27,32],tt=Yn&&"CompositionEvent"in window,wt=null;Yn&&"documentMode"in document&&(wt=document.documentMode);var Qn=Yn&&"TextEvent"in window&&!wt,ji=Yn&&(!tt||wt&&8<wt&&11>=wt),fi=" ",di=!1;function qr(t,n){switch(t){case"keyup":return Mt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function sT(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return t=n.data,t===fi&&di?null:t;default:return null}}function rT(t,n){if(wa)return t==="compositionend"||!tt&&qr(t,n)?(t=zo(),Pr=jo=ki=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var aT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!aT[t.type]:n==="textarea"}function Eg(t,n,r,o){Us?Vi?Vi.push(o):Vi=[o]:Us=o,n=gc(n,"onChange"),0<n.length&&(r=new Ui("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Go=null,Fo=null;function oT(t){n_(t,0)}function Cu(t){var n=Vn(t);if(Vr(n))return t}function Tg(t,n){if(t==="change")return n}var bg=!1;if(Yn){var kh;if(Yn){var Uh="oninput"in document;if(!Uh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Uh=typeof Ag.oninput=="function"}kh=Uh}else kh=!1;bg=kh&&(!document.documentMode||9<document.documentMode)}function Sg(){Go&&(Go.detachEvent("onpropertychange",wg),Fo=Go=null)}function wg(t){if(t.propertyName==="value"&&Cu(Fo)){var n=[];Eg(n,Fo,t,Fn(t)),Ls(oT,n)}}function lT(t,n,r){t==="focusin"?(Sg(),Go=n,Fo=r,Go.attachEvent("onpropertychange",wg)):t==="focusout"&&Sg()}function uT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Fo)}function cT(t,n){if(t==="click")return Cu(n)}function hT(t,n){if(t==="input"||t==="change")return Cu(n)}function fT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:fT;function Yo(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Z.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,n){var r=Rg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function xg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dT=Yn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Ph=null,Qo=null,jh=!1;function Ng(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jh||Ra==null||Ra!==Mi(o)||(o=Ra,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Yo(Qo,o)||(Qo=o,o=gc(Ph,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Ra)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ca={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},zh={},Dg={};Yn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Gr(t){if(zh[t])return zh[t];if(!Ca[t])return t;var n=Ca[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return zh[t]=n[r];return t}var Og=Gr("animationend"),Mg=Gr("animationiteration"),Vg=Gr("animationstart"),mT=Gr("transitionrun"),gT=Gr("transitionstart"),pT=Gr("transitioncancel"),kg=Gr("transitionend"),Ug=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function mi(t,n){Ug.set(t,n),Di(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],xa=0,qh=0;function Iu(){for(var t=xa,n=qh=xa=0;n<t;){var r=Kn[n];Kn[n++]=null;var o=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var f=Kn[n];if(Kn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Lg(r,h,f)}}function Nu(t,n,r,o){Kn[xa++]=t,Kn[xa++]=n,Kn[xa++]=r,Kn[xa++]=o,qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Hh(t,n,r,o){return Nu(t,n,r,o),Du(t)}function Fr(t,n){return Nu(t,null,null,n),Du(t)}function Lg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-fe(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Du(t){if(50<gl)throw gl=0,Wf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function yT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,n,r,o){return new yT(t,n,r,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var r=t.alternate;return r===null?(r=Ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")Gh(t)&&(g=1);else if(typeof t=="string")g=bb(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Ln(31,r,n,h),t.elementType=x,t.lanes=f,t;case ne:return Yr(r.children,h,f,n);case W:g=8,h|=24;break;case ye:return t=Ln(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case ct:return t=Ln(13,r,n,h),t.elementType=ct,t.lanes=f,t;case ke:return t=Ln(19,r,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case me:g=10;break e;case Ce:g=9;break e;case it:g=11;break e;case I:g=14;break e;case w:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Ln(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Yr(t,n,r,o){return t=Ln(7,t,o,n),t.lanes=r,t}function Fh(t,n,r){return t=Ln(6,t,null,n),t.lanes=r,t}function jg(t){var n=Ln(18,null,null,0);return n.stateNode=t,n}function Yh(t,n,r){return n=Ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var zg=new WeakMap;function Xn(t,n){if(typeof t=="object"&&t!==null){var r=zg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ie(n)},zg.set(t,n),n)}return{value:t,source:n,stack:ie(n)}}var Na=[],Da=0,Mu=null,Ko=0,$n=[],Zn=0,Bs=null,zi=1,Bi="";function rs(t,n){Na[Da++]=Ko,Na[Da++]=Mu,Mu=t,Ko=n}function Bg(t,n,r){$n[Zn++]=zi,$n[Zn++]=Bi,$n[Zn++]=Bs,Bs=t;var o=zi;t=Bi;var h=32-fe(o)-1;o&=~(1<<h),r+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,zi=1<<32-fe(n)+h|r<<h|o,Bi=f+t}else zi=1<<f|r<<h|o,Bi=t}function Qh(t){t.return!==null&&(rs(t,1),Bg(t,1,0))}function Kh(t){for(;t===Mu;)Mu=Na[--Da],Na[Da]=null,Ko=Na[--Da],Na[Da]=null;for(;t===Bs;)Bs=$n[--Zn],$n[Zn]=null,Bi=$n[--Zn],$n[Zn]=null,zi=$n[--Zn],$n[Zn]=null}function qg(t,n){$n[Zn++]=zi,$n[Zn++]=Bi,$n[Zn++]=Bs,zi=n.id,Bi=n.overflow,Bs=t}var an=null,Tt=null,$e=!1,qs=null,Jn=!1,Xh=Error(a(519));function Hs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Xn(n,t)),Xh}function Hg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[jt]=t,n[en]=o,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(r=0;r<yl.length;r++)Be(yl[r],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),Vs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||a_(n.textContent,r)?(o.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),o.onScroll!=null&&Be("scroll",n),o.onScrollEnd!=null&&Be("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Hs(t,!0)}function Gg(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:an=an.return}}function Oa(t){if(t!==an)return!1;if(!$e)return Gg(t),$e=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||md(t.type,t.memoizedProps)),r=!r),r&&Tt&&Hs(t),Gg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=g_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=g_(t)}else n===27?(n=Tt,ir(t.type)?(t=vd,vd=null,Tt=t):Tt=n):Tt=an?ei(t.stateNode.nextSibling):null;return!0}function Qr(){Tt=an=null,$e=!1}function $h(){var t=qs;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),qs=null),t}function Xo(t){qs===null?qs=[t]:qs.push(t)}var Zh=O(null),Kr=null,as=null;function Gs(t,n,r){re(Zh,n._currentValue),n._currentValue=r}function os(t){t._currentValue=Zh.current,Q(Zh)}function Jh(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Wh(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Jh(f.return,r,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Jh(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ma(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Un(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Wh(n,t,r,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Kr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Fg(Kr,t)}function ku(t,n){return Kr===null&&Xr(t),Fg(t,n)}function Fg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return r}var _T=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},vT=s.unstable_scheduleCallback,ET=s.unstable_NormalPriority,qt={$$typeof:me,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new _T,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&vT(ET,function(){t.controller.abort()})}var Zo=null,tf=0,Va=0,ka=null;function TT(t,n){if(Zo===null){var r=Zo=[];tf=0,Va=rd(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Yg,Yg),n}function Yg(){if(--tf===0&&Zo!==null){ka!==null&&(ka.status="fulfilled");var t=Zo;Zo=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Qg=H.S;H.S=function(t,n){Ny=Pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(t,n),Qg!==null&&Qg(t,n)};var $r=O(null);function nf(){var t=$r.current;return t!==null?t:yt.pooledCache}function Uu(t,n){n===null?re($r,$r.current):re($r,n.pool)}function Kg(){var t=nf();return t===null?null:{parent:qt._currentValue,pool:t}}var Ua=Error(a(460)),sf=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t}throw Jr=n,Ua}}function Zr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Jr=r,Ua):r}}var Jr=null;function Zg(){if(Jr===null)throw Error(a(459));var t=Jr;return Jr=null,t}function Jg(t){if(t===Ua||t===Lu)throw Error(a(483))}var La=null,Jo=0;function ju(t){var n=Jo;return Jo+=1,La===null&&(La=[]),$g(La,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ss(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Y){return D===null||D.tag!==6?(D=Fh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Y){var pe=P.type;return pe===ne?F(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Zr(pe)===D.type)?(D=h(D,P.props),Wo(D,P),D.return=k,D):(D=Ou(P.type,P.key,P.props,null,k.mode,Y),Wo(D,P),D.return=k,D)}function j(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Y,pe){return D===null||D.tag!==7?(D=Yr(P,k.mode,Y,pe),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Ou(D.type,D.key,D.props,null,k.mode,P),Wo(P,D),P.return=k,P;case ee:return D=Yh(D,k.mode,P),D.return=k,D;case w:return D=Zr(D),X(k,D,P)}if(St(D)||U(D))return D=Yr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,ju(D),P);if(D.$$typeof===me)return X(k,ku(k,D),P);zu(k,D)}return null}function z(k,D,P,Y){var pe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:T(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===pe?C(k,D,P,Y):null;case ee:return P.key===pe?j(k,D,P,Y):null;case w:return P=Zr(P),z(k,D,P,Y)}if(St(P)||U(P))return pe!==null?null:F(k,D,P,Y,null);if(typeof P.then=="function")return z(k,D,ju(P),Y);if(P.$$typeof===me)return z(k,D,ku(k,P),Y);zu(k,P)}return null}function q(k,D,P,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(D,k,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?P:Y.key)||null,C(D,k,Y,pe);case ee:return k=k.get(Y.key===null?P:Y.key)||null,j(D,k,Y,pe);case w:return Y=Zr(Y),q(k,D,P,Y,pe)}if(St(Y)||U(Y))return k=k.get(P)||null,F(D,k,Y,pe,null);if(typeof Y.then=="function")return q(k,D,P,ju(Y),pe);if(Y.$$typeof===me)return q(k,D,P,ku(D,Y),pe);zu(D,Y)}return null}function ue(k,D,P,Y){for(var pe=null,We=null,ce=D,Ve=D=0,Fe=null;ce!==null&&Ve<P.length;Ve++){ce.index>Ve?(Fe=ce,ce=null):Fe=ce.sibling;var et=z(k,ce,P[Ve],Y);if(et===null){ce===null&&(ce=Fe);break}t&&ce&&et.alternate===null&&n(k,ce),D=f(et,D,Ve),We===null?pe=et:We.sibling=et,We=et,ce=Fe}if(Ve===P.length)return r(k,ce),$e&&rs(k,Ve),pe;if(ce===null){for(;Ve<P.length;Ve++)ce=X(k,P[Ve],Y),ce!==null&&(D=f(ce,D,Ve),We===null?pe=ce:We.sibling=ce,We=ce);return $e&&rs(k,Ve),pe}for(ce=o(ce);Ve<P.length;Ve++)Fe=q(ce,k,Ve,P[Ve],Y),Fe!==null&&(t&&Fe.alternate!==null&&ce.delete(Fe.key===null?Ve:Fe.key),D=f(Fe,D,Ve),We===null?pe=Fe:We.sibling=Fe,We=Fe);return t&&ce.forEach(function(lr){return n(k,lr)}),$e&&rs(k,Ve),pe}function be(k,D,P,Y){if(P==null)throw Error(a(151));for(var pe=null,We=null,ce=D,Ve=D=0,Fe=null,et=P.next();ce!==null&&!et.done;Ve++,et=P.next()){ce.index>Ve?(Fe=ce,ce=null):Fe=ce.sibling;var lr=z(k,ce,et.value,Y);if(lr===null){ce===null&&(ce=Fe);break}t&&ce&&lr.alternate===null&&n(k,ce),D=f(lr,D,Ve),We===null?pe=lr:We.sibling=lr,We=lr,ce=Fe}if(et.done)return r(k,ce),$e&&rs(k,Ve),pe;if(ce===null){for(;!et.done;Ve++,et=P.next())et=X(k,et.value,Y),et!==null&&(D=f(et,D,Ve),We===null?pe=et:We.sibling=et,We=et);return $e&&rs(k,Ve),pe}for(ce=o(ce);!et.done;Ve++,et=P.next())et=q(ce,k,Ve,et.value,Y),et!==null&&(t&&et.alternate!==null&&ce.delete(et.key===null?Ve:et.key),D=f(et,D,Ve),We===null?pe=et:We.sibling=et,We=et);return t&&ce.forEach(function(Mb){return n(k,Mb)}),$e&&rs(k,Ve),pe}function pt(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var pe=P.key;D!==null;){if(D.key===pe){if(pe=P.type,pe===ne){if(D.tag===7){r(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Zr(pe)===D.type){r(k,D.sibling),Y=h(D,P.props),Wo(Y,P),Y.return=k,k=Y;break e}r(k,D);break}else n(k,D);D=D.sibling}P.type===ne?(Y=Yr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Ou(P.type,P.key,P.props,null,k.mode,Y),Wo(Y,P),Y.return=k,k=Y)}return g(k);case ee:e:{for(pe=P.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Y=Yh(P,k.mode,Y),Y.return=k,k=Y}return g(k);case w:return P=Zr(P),pt(k,D,P,Y)}if(St(P))return ue(k,D,P,Y);if(U(P)){if(pe=U(P),typeof pe!="function")throw Error(a(150));return P=pe.call(P),be(k,D,P,Y)}if(typeof P.then=="function")return pt(k,D,ju(P),Y);if(P.$$typeof===me)return pt(k,D,ku(k,P),Y);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(r(k,D),Y=Fh(P,k.mode,Y),Y.return=k,k=Y),g(k)):r(k,D)}return function(k,D,P,Y){try{Jo=0;var pe=pt(k,D,P,Y);return La=null,pe}catch(ce){if(ce===Ua||ce===Lu)throw ce;var We=Ln(29,ce,null,k.mode);return We.lanes=Y,We.return=k,We}finally{}}}var Wr=Wg(!0),ep=Wg(!1),Fs=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(nt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(t),Lg(t,null,r),n}return Nu(t,o,n,r),Du(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Co(t,r)}}function of(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var lf=!1;function tl(){if(lf){var t=ka;if(t!==null)throw t}}function nl(t,n,r,o){lf=!1;var h=t.updateQueue;Fs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,F=j=C=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ge&z)===z:(o&z)===z){z!==0&&z===Va&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ue=t,be=T;z=n;var pt=r;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){X=ue.call(pt,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,z=typeof ue=="function"?ue.call(pt,X,z):ue,z==null)break e;X=S({},X,z);break e;case 2:Fs=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=q,C=X):F=F.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Js|=g,t.lanes=g,t.memoizedState=X}}function tp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function np(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)tp(r[t],n)}var Pa=O(null),Bu=O(0);function ip(t,n){t=ps,re(Bu,t),re(Pa,n),ps=t|n.baseLanes}function uf(){re(Bu,ps),re(Pa,Pa.current)}function cf(){ps=Bu.current,Q(Pa),Q(Bu)}var Pn=O(null),Wn=null;function Ks(t){var n=t.alternate;re(Vt,Vt.current&1),re(Pn,t),Wn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Wn=t)}function hf(t){re(Vt,Vt.current),re(Pn,t),Wn===null&&(Wn=t)}function sp(t){t.tag===22?(re(Vt,Vt.current),re(Pn,t),Wn===null&&(Wn=t)):Xs()}function Xs(){re(Vt,Vt.current),re(Pn,Pn.current)}function jn(t){Q(Pn),Wn===t&&(Wn=null),Q(Vt)}var Vt=O(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yd(r)||_d(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Me=null,mt=null,Ht=null,Hu=!1,ja=!1,ea=!1,Gu=0,il=0,za=null,AT=0;function Nt(){throw Error(a(321))}function ff(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Un(t[r],n[r]))return!1;return!0}function df(t,n,r,o,h,f){return ls=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Bp:xf,ea=!1,f=r(o,h),ea=!1,ja&&(f=ap(n,r,o,h)),rp(t),f}function rp(t){H.H=al;var n=mt!==null&&mt.next!==null;if(ls=0,Ht=mt=Me=null,Hu=!1,il=0,za=null,n)throw Error(a(300));t===null||Gt||(t=t.dependencies,t!==null&&Vu(t)&&(Gt=!0))}function ap(t,n,r,o){Me=t;var h=0;do{if(ja&&(za=null),il=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,Ht=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=qp,f=n(r,o)}while(ja);return f}function ST(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Me.flags|=1024),n}function mf(){var t=Gu!==0;return Gu=0,t}function gf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function pf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}ls=0,Ht=mt=Me=null,ja=!1,il=Gu=0,za=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function kt(){if(mt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=Ht===null?Me.memoizedState:Ht.next;if(n!==null)Ht=n,mt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Me.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,za===null&&(za=[]),t=$g(za,t,n),n=Me,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Bp:xf),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===me)return on(t)}throw Error(a(438,String(t)))}function yf(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fu(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function us(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=kt();return _f(n,mt,t)}function _f(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ge&X)===X:(ls&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Va&&(F=!0);else if((ls&z)===z){j=j.next,z===Va&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,g=f):C=C.next=X,Me.lanes|=z,Js|=z;X=j.action,ea&&r(f,X),f=j.hasEagerState?j.eagerState:r(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,g=f):C=C.next=z,Me.lanes|=X,Js|=X;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!Un(f,t.memoizedState)&&(Gt=!0,F&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vf(t){var n=kt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Un(f,n.memoizedState)||(Gt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function op(t,n,r){var o=Me,h=kt(),f=$e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Un((mt||h).memoizedState,r);if(g&&(h.memoizedState=r,Gt=!0),h=h.queue,bf(cp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Ht!==null&&Ht.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},up.bind(null,o,h,r,n),null),yt===null)throw Error(a(349));f||(ls&127)!==0||lp(o,n,r)}return r}function lp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Fu(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function up(t,n,r,o){n.value=r,n.getSnapshot=o,hp(n)&&fp(t)}function cp(t,n,r){return r(function(){hp(n)&&fp(t)})}function hp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Un(t,r)}catch{return!0}}function fp(t){var n=Fr(t,2);n!==null&&Dn(n,t,2)}function Ef(t){var n=An();if(typeof t=="function"){var r=t;if(t=r(),ea){ve(!0);try{r()}finally{ve(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function dp(t,n,r,o){return t.baseState=r,_f(t,mt,typeof o=="function"?o:us)}function wT(t,n,r,o,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,mp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=r(h,o),C=H.S;C!==null&&C(g,T),gp(t,n,T)}catch(j){Tf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),gp(t,n,f)}catch(j){Tf(t,n,j)}}function gp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){pp(t,n,o)},function(o){return Tf(t,n,o)}):pp(t,n,r)}function pp(t,n,r){n.status="fulfilled",n.value=r,yp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mp(t,r)))}function Tf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,yp(n),n=n.next;while(n!==o)}t.action=null}function yp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _p(t,n){return n}function vp(t,n){if($e){var r=yt.formState;if(r!==null){e:{var o=Me;if($e){if(Tt){t:{for(var h=Tt,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Tt=ei(h.nextSibling),o=h.data==="F!";break e}}Hs(o)}o=!1}o&&(n=r[0])}}return r=An(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},r.queue=o,r=Pp.bind(null,Me,o),o.dispatch=r,o=Ef(!1),f=Cf.bind(null,Me,!1,o.queue),o=An(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=wT.bind(null,Me,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Ep(t){var n=kt();return Tp(n,mt,t)}function Tp(t,n,r){if(n=_f(t,n,_p)[0],t=Qu(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(g){throw g===Ua?Lu:g}else o=n;n=kt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,Ba(9,{destroy:void 0},RT.bind(null,h,r),null)),[o,f,t]}function RT(t,n){t.action=n}function bp(t){var n=kt(),r=mt;if(r!==null)return Tp(n,r,t);kt(),n=n.memoizedState,r=kt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ba(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Fu(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ap(){return kt().memoizedState}function Ku(t,n,r,o){var h=An();Me.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Xu(t,n,r,o){var h=kt();o=o===void 0?null:o;var f=h.memoizedState.inst;mt!==null&&o!==null&&ff(o,mt.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Me.flags|=t,h.memoizedState=Ba(1|n,f,r,o))}function Sp(t,n){Ku(8390656,8,t,n)}function bf(t,n){Xu(2048,8,t,n)}function CT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Fu(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function wp(t){var n=kt().memoizedState;return CT({ref:n,nextImpl:t}),function(){if((nt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rp(t,n){return Xu(4,2,t,n)}function Cp(t,n){return Xu(4,4,t,n)}function xp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ip(t,n,r){r=r!=null?r.concat([t]):null,Xu(4,4,xp.bind(null,n,t),r)}function Af(){}function Np(t,n){var r=kt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Dp(t,n){var r=kt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=t(),ea){ve(!0);try{t()}finally{ve(!1)}}return r.memoizedState=[o,n],o}function Sf(t,n,r){return r===void 0||(ls&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Oy(),Me.lanes|=t,Js|=t,r)}function Op(t,n,r,o){return Un(r,n)?r:Pa.current!==null?(t=Sf(t,r,o),Un(t,n)||(Gt=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(Ge&261930)===0?(Gt=!0,t.memoizedState=r):(t=Oy(),Me.lanes|=t,Js|=t,n)}function Mp(t,n,r,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Cf(t,!1,n,r);try{var C=h(),j=H.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=bT(C,o);rl(t,n,F,qn(t))}else rl(t,n,o,qn(t))}catch(X){rl(t,n,{then:function(){},status:"rejected",reason:X},qn())}finally{se.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function xT(){}function wf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Vp(t).queue;Mp(t,h,n,de,r===null?xT:function(){return kp(t),r(o)})}function Vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function kp(t){var n=Vp(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},qn())}function Rf(){return on(bl)}function Up(){return kt().memoizedState}function Lp(){return kt().memoizedState}function IT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=qn();t=Ys(r);var o=Qs(n,t,r);o!==null&&(Dn(o,n,r),el(o,n,r)),n={cache:ef()},t.payload=n;return}n=n.return}}function NT(t,n,r){var o=qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?jp(n,r):(r=Hh(t,n,r,o),r!==null&&(Dn(r,t,o),zp(r,n,o)))}function Pp(t,n,r){var o=qn();rl(t,n,r,o)}function rl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Un(T,g))return Nu(t,n,h,0),yt===null&&Iu(),!1}catch{}finally{}if(r=Hh(t,n,h,o),r!==null)return Dn(r,t,o),zp(r,n,o),!0}return!1}function Cf(t,n,r,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Hh(t,r,o,2),n!==null&&Dn(n,t,2)}function $u(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function jp(t,n){ja=Hu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function zp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Co(t,r)}}var al={readContext:on,use:Yu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};al.useEffectEvent=Nt;var Bp={readContext:on,use:Yu,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:Sp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ku(4194308,4,xp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var r=An();n=n===void 0?null:n;var o=t();if(ea){ve(!0);try{t()}finally{ve(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=An();if(r!==void 0){var h=r(n);if(ea){ve(!0);try{r(n)}finally{ve(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=NT.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,r=Pp.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(t,n){var r=An();return Sf(r,t,n)},useTransition:function(){var t=Ef(!1);return t=Mp.bind(null,Me,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Me,h=An();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),yt===null)throw Error(a(349));(Ge&127)!==0||lp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Sp(cp.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},up.bind(null,o,f,r,n),null),r},useId:function(){var t=An(),n=yt.identifierPrefix;if($e){var r=Bi,o=zi;r=(o&~(1<<32-fe(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Gu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=AT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:vp,useActionState:vp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:yf,useCacheRefresh:function(){return An().memoizedState=IT.bind(null,Me)},useEffectEvent:function(t){var n=An(),r={impl:t};return n.memoizedState=r,function(){if((nt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},xf={readContext:on,use:Yu,useCallback:Np,useContext:on,useEffect:bf,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:Qu,useRef:Ap,useState:function(){return Qu(us)},useDebugValue:Af,useDeferredValue:function(t,n){var r=kt();return Op(r,mt.memoizedState,t,n)},useTransition:function(){var t=Qu(us)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Rf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var r=kt();return dp(r,mt,t,n)},useMemoCache:yf,useCacheRefresh:Lp};xf.useEffectEvent=wp;var qp={readContext:on,use:Yu,useCallback:Np,useContext:on,useEffect:bf,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Dp,useReducer:vf,useRef:Ap,useState:function(){return vf(us)},useDebugValue:Af,useDeferredValue:function(t,n){var r=kt();return mt===null?Sf(r,t,n):Op(r,mt.memoizedState,t,n)},useTransition:function(){var t=vf(us)[0],n=kt().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Rf,useFormState:bp,useActionState:bp,useOptimistic:function(t,n){var r=kt();return mt!==null?dp(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Lp};qp.useEffectEvent=wp;function If(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=qn(),h=Ys(o);h.payload=n,r!=null&&(h.callback=r),n=Qs(t,h,o),n!==null&&(Dn(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=qn(),h=Ys(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Qs(t,h,o),n!==null&&(Dn(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=qn(),o=Ys(r);o.tag=2,n!=null&&(o.callback=n),n=Qs(t,o,r),n!==null&&(Dn(n,t,r),el(n,t,r))}};function Hp(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Yo(r,o)||!Yo(h,f):!0}function Gp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function ta(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Fp(t){xu(t)}function Yp(t){console.error(t)}function Qp(t){xu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,r){return r=Ys(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function Xp(t){return t=Ys(t),t.tag=3,t}function $p(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Kp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Kp(n,r,o),typeof h!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function DT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Pn.current,r!==null){switch(r.tag){case 31:case 13:return Wn===null?uc():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),nd(t,o,h)),!1;case 22:return r.flags|=65536,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),nd(t,o,h)),!1}throw Error(a(435,r.tag))}return nd(t,o,h),uc(),!1}if($e)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(t=Error(a(422),{cause:o}),Xo(Xn(t,r)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Xo(Xn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Xn(o,r),h=Df(t.stateNode,o,h),of(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(a(520),{cause:o});if(f=Xn(f,r),ml===null?ml=[f]:ml.push(f),Dt!==4&&(Dt=2),n===null)return!0;o=Xn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Df(r.stateNode,o,t),of(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ws===null||!Ws.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xp(h),$p(h,t,r,o),of(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),Gt=!1;function ln(t,n,r,o){n.child=t===null?ep(n,null,r,o):Wr(n,t.child,r,o)}function Zp(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Xr(n),o=df(t,n,r,g,f,h),T=mf(),t!==null&&!Gt?(gf(t,n,h),cs(t,n,h)):($e&&T&&Qh(n),n.flags|=1,ln(t,n,o,h),n.child)}function Jp(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wp(t,n,f,o,h)):(t=Ou(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yo,r(g,o)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,o),t.ref=n.ref,t.return=n,n.child=t}function Wp(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Yo(f,o)&&t.ref===n.ref)if(Gt=!1,n.pendingProps=o=f,zf(t,h))(t.flags&131072)!==0&&(Gt=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Mf(t,n,r,o,h)}function ey(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ip(n,f):uf(),sp(n);else return o=n.lanes=536870912,ty(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Uu(n,f.cachePool),ip(n,f),Xs(),n.memoizedState=null):(t!==null&&Uu(n,null),uf(),Xs());return ln(t,n,h,r),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(t,n,r,o,h){var f=nf();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Uu(n,null),uf(),sp(n),t!==null&&Ma(t,n,o,!0),n.childLanes=h,null}function Ju(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ny(t,n,r){return Wr(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function OT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=Ju(n,o),n.lanes=536870912,ol(null,t);if(hf(n),(t=Tt)?(t=m_(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=n,n.child=r,an=n,Tt=null)):t=null,t===null)throw Hs(n);return n.lanes=536870912,null}return Ju(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=ny(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Gt||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,Gt||h){if(o=yt,o!==null&&(g=xo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Fr(t,g),Dn(o,t,g),Of;uc(),n=ny(t,n,r)}else t=f.treeContext,Tt=ei(g.nextSibling),an=n,$e=!0,qs=null,Jn=!1,t!==null&&qg(n,t),n=Ju(n,o),n.flags|=4096;return n}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Mf(t,n,r,o,h){return Xr(n),r=df(t,n,r,o,void 0,h),o=mf(),t!==null&&!Gt?(gf(t,n,h),cs(t,n,h)):($e&&o&&Qh(n),n.flags|=1,ln(t,n,r,h),n.child)}function iy(t,n,r,o,h,f){return Xr(n),n.updateQueue=null,r=ap(n,o,r,h),rp(t),o=mf(),t!==null&&!Gt?(gf(t,n,f),cs(t,n,f)):($e&&o&&Qh(n),n.flags|=1,ln(t,n,r,f),n.child)}function sy(t,n,r,o,h){if(Xr(n),n.stateNode===null){var f=Ia,g=r.contextType;typeof g=="object"&&g!==null&&(f=on(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?on(g):Ia,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=ta(r,T);f.props=C;var j=f.context,F=r.contextType;g=Ia,typeof F=="object"&&F!==null&&(g=on(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Gp(n,f,o,g),Fs=!1;var z=n.memoizedState;f.state=z,nl(n,o,f,h),tl(),j=n.memoizedState,T||z!==j||Fs?(typeof X=="function"&&(If(n,r,X,o),j=n.memoizedState),(C=Fs||Hp(n,r,C,o,z,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(t,n),g=n.memoizedProps,F=ta(r,g),f.props=F,X=n.pendingProps,z=f.context,j=r.contextType,C=Ia,typeof j=="object"&&j!==null&&(C=on(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==C)&&Gp(n,f,o,C),Fs=!1,z=n.memoizedState,f.state=z,nl(n,o,f,h),tl();var q=n.memoizedState;g!==X||z!==q||Fs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(If(n,r,T,o),q=n.memoizedState),(F=Fs||Hp(n,r,F,o,z,q,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Wr(n,t.child,null,h),n.child=Wr(n,null,r,h)):ln(t,n,r,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function ry(t,n,r,o){return Qr(),n.flags|=256,ln(t,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(t){return{baseLanes:t,cachePool:Kg()}}function Uf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function ay(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?Ks(n):Xs(),(t=Tt)?(t=m_(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=jg(t),r.return=n,n.child=r,an=n,Tt=null)):t=null,t===null)throw Hs(n);return _d(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Xs(),h=n.mode,T=ec({mode:"hidden",children:T},h),o=Yr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=kf(r),o.childLanes=Uf(t,g,r),n.memoizedState=Vf,ol(null,o)):(Ks(n),Lf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Ks(n),n.flags&=-257,n=Pf(t,n,r)):n.memoizedState!==null?(Xs(),n.child=t.child,n.flags|=128,n=null):(Xs(),T=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),T=Yr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Wr(n,t.child,null,r),o=n.child,o.memoizedState=kf(r),o.childLanes=Uf(t,g,r),n.memoizedState=Vf,n=ol(null,o));else if(Ks(n),_d(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Xo({value:o,source:null,stack:null}),n=Pf(t,n,r)}else if(Gt||Ma(t,n,r,!1),g=(r&t.childLanes)!==0,Gt||g){if(g=yt,g!==null&&(o=xo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Fr(t,o),Dn(g,t,o),Of;yd(T)||uc(),n=Pf(t,n,r)}else yd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Tt=ei(T.nextSibling),an=n,$e=!0,qs=null,Jn=!1,t!==null&&qg(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Xs(),T=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=ss(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=ss(j,T):(T=Yr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,ol(null,o),o=n.child,T=t.child.memoizedState,T===null?T=kf(r):(h=T.cachePool,h!==null?(C=qt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Kg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Uf(t,g,r),n.memoizedState=Vf,ol(t.child,o)):(Ks(n),r=t.child,t=r.sibling,r=ss(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Lf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Ln(22,t,null,n),t.lanes=0,t}function Pf(t,n,r){return Wr(n,t.child,null,r),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function oy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Jh(t.return,n,r)}function jf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ly(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Vt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,re(Vt,g),ln(t,n,o,r),o=$e?Ko:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,n);else if(t.tag===19)oy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),jf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}jf(n,!0,r,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ss(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function MT(t,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Gs(n,qt,t.memoizedState.cache),Qr();break;case 27:case 5:Ei(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ay(t,n,r):(Ks(n),t=cs(t,n,r),t!==null?t.sibling:null);Ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ma(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ly(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Vt,Vt.current),o)break;return null;case 22:return n.lanes=0,ey(t,n,r,n.pendingProps);case 24:Gs(n,qt,t.memoizedState.cache)}return cs(t,n,r)}function uy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Gt=!0;else{if(!zf(t,r)&&(n.flags&128)===0)return Gt=!1,MT(t,n,r);Gt=(t.flags&131072)!==0}else Gt=!1,$e&&(n.flags&1048576)!==0&&Bg(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Zr(n.elementType),n.type=t,typeof t=="function")Gh(t)?(o=ta(t,o),n.tag=1,n=sy(null,n,t,o,r)):(n.tag=0,n=Mf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===it){n.tag=11,n=Zp(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Jp(null,n,t,o,r);break e}}throw n=at(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ta(o,n.pendingProps),sy(t,n,o,h,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(t,n),nl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Gs(n,qt,o),o!==f.cache&&Wh(n,[qt],r,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(t,n,o,r);break e}else if(o!==h){h=Xn(Error(a(424)),n),Xo(h),n=ry(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=ei(t.firstChild),an=n,$e=!0,qs=null,Jn=!0,r=ep(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qr(),o===h){n=cs(t,n,r);break e}ln(t,n,o,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=E_(n.type,null,n.pendingProps,null))?n.memoizedState=r:$e||(r=n.type,t=n.pendingProps,o=pc(Re.current).createElement(r),o[jt]=n,o[en]=t,un(o,r,t),zt(o),n.stateNode=o):n.memoizedState=E_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ei(n),t===null&&$e&&(o=n.stateNode=y_(n.type,n.pendingProps,Re.current),an=n,Jn=!0,h=Tt,ir(n.type)?(vd=h,Tt=ei(o.firstChild)):Tt=h),ln(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=o=Tt)&&(o=ub(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,an=n,Tt=ei(o.firstChild),Jn=!1,h=!0):h=!1),h||Hs(n)),Ei(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(t,n,ST,null,null,r),bl._currentValue=h),Wu(t,n),ln(t,n,o,r),n.child;case 6:return t===null&&$e&&((t=r=Tt)&&(r=cb(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,an=n,Tt=null,t=!0):t=!1),t||Hs(n)),null;case 13:return ay(t,n,r);case 4:return Ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Wr(n,null,o,r):ln(t,n,o,r),n.child;case 11:return Zp(t,n,n.type,n.pendingProps,r);case 7:return ln(t,n,n.pendingProps,r),n.child;case 8:return ln(t,n,n.pendingProps.children,r),n.child;case 12:return ln(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Gs(n,n.type,o.value),ln(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Xr(n),h=on(h),o=o(h),n.flags|=1,ln(t,n,o,r),n.child;case 14:return Jp(t,n,n.type,n.pendingProps,r);case 15:return Wp(t,n,n.type,n.pendingProps,r);case 19:return ly(t,n,r);case 31:return OT(t,n,r);case 22:return ey(t,n,r,n.pendingProps);case 24:return Xr(n),o=on(qt),t===null?(h=nf(),h===null&&(h=yt,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},rf(n),Gs(n,qt,h)):((t.lanes&r)!==0&&(af(t,n),nl(n,null,null,r),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Gs(n,qt,o)):(o=f.cache,Gs(n,qt,o),o!==h.cache&&Wh(n,[qt],r,!0))),ln(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Bf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Jr=Pu,sf}else t.flags&=-16777217}function cy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!w_(n))if(Uy())t.flags|=8192;else throw Jr=Pu,sf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Fa|=n)}function ll(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function VT(t,n,r){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),os(qt),ht(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(bt(n),cy(n,f)):(bt(n),Bf(n,h,null,o,r))):f?f!==t.memoizedState?(hs(n),bt(n),cy(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&hs(n),bt(n),Bf(n,h,t,o,r)),null;case 27:if(Is(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return bt(n),null}t=oe.current,Oa(n)?Hg(n):(t=y_(h,o,r),n.stateNode=t,hs(n))}return bt(n),null;case 5:if(Is(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return bt(n),null}if(f=oe.current,Oa(n))Hg(n);else{var g=pc(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[jt]=n,f[en]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(un(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hs(n)}}return bt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=an,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||a_(t.nodeValue,r)),t||Hs(n,!0)}else t=pc(t).createTextNode(o),t[jt]=n,n.stateNode=t}return bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[jt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else r=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return bt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[jt]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=$h(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),bt(n),null);case 4:return ht(),t===null&&ud(n.stateNode.containerInfo),bt(n),null;case 10:return os(n.type),bt(n),null;case 19:if(Q(Vt),o=n.memoizedState,o===null)return bt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pg(r,t),r=r.sibling;return re(Vt,Vt.current&1|2),$e&&rs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Pe()>ac&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return bt(n),null}else 2*Pe()-o.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,r=Vt.current,re(Vt,h?r&1|2:r&1),$e&&rs(n,o.treeForkCount),t):(bt(n),null);case 22:case 23:return jn(n),cf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Q($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),os(qt),bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(t,n){switch(Kh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(qt),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Is(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(Vt),null;case 4:return ht(),null;case 10:return os(n.type),null;case 22:case 23:return jn(n),cf(),t!==null&&Q($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(qt),null;case 25:return null;default:return null}}function hy(t,n){switch(Kh(n),n.tag){case 3:os(qt),ht();break;case 26:case 27:case 5:Is(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Q(Vt);break;case 10:os(n.type);break;case 22:case 23:jn(n),cf(),t!==null&&Q($r);break;case 24:os(qt)}}function ul(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){ut(n,n.return,T)}}function $s(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,j=T;try{j()}catch(F){ut(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ut(n,n.return,F)}}function fy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{np(n,r)}catch(o){ut(t,t.return,o)}}}function dy(t,n,r){r.props=ta(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ut(t,n,o)}}function cl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){ut(t,n,h)}}function qi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ut(t,n,h)}else r.current=null}function my(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ut(t,t.return,h)}}function qf(t,n,r){try{var o=t.stateNode;ib(o,t.type,r,n),o[en]=n}catch(h){ut(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,r),t=t.sibling;t!==null;)Gf(t,n,r),t=t.sibling}function nc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function py(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,o,r),n[jt]=t,n[en]=r}catch(f){ut(t,t.return,f)}}var fs=!1,Ft=!1,Ff=!1,yy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function UT(t,n){if(t=t.containerInfo,fd=Ac,t=Ig(t),Lh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,C=-1,j=0,F=0,X=t,z=null;t:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===r&&++j===h&&(T=g),z===f&&++F===o&&(C=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(dd={focusedElem:t,selectionRange:r},Ac=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ue=ta(r.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){ut(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function _y(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ms(t,r),o&4&&ul(5,r);break;case 1:if(ms(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){ut(r,r.return,g)}else{var h=ta(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ut(r,r.return,g)}}o&64&&fy(r),o&512&&cl(r,r.return);break;case 3:if(ms(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{np(t,n)}catch(g){ut(r,r.return,g)}}break;case 27:n===null&&o&4&&py(r);case 26:case 5:ms(t,r),n===null&&o&4&&my(r),o&512&&cl(r,r.return);break;case 12:ms(t,r);break;case 31:ms(t,r),o&4&&Ty(t,r);break;case 13:ms(t,r),o&4&&by(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=FT.bind(null,r),hb(t,r))));break;case 22:if(o=r.memoizedState!==null||fs,!o){n=n!==null&&n.memoizedState!==null||Ft,h=fs;var f=Ft;fs=o,(Ft=n)&&!f?gs(t,r,(r.subtreeFlags&8772)!==0):ms(t,r),fs=h,Ft=f}break;case 30:break;default:ms(t,r)}}function vy(t){var n=t.alternate;n!==null&&(t.alternate=null,vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Cn=!1;function ds(t,n,r){for(r=r.child;r!==null;)Ey(t,n,r),r=r.sibling}function Ey(t,n,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Lt,r)}catch{}switch(r.tag){case 26:Ft||qi(r,n),ds(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ft||qi(r,n);var o=Rt,h=Cn;ir(r.type)&&(Rt=r.stateNode,Cn=!1),ds(t,n,r),vl(r.stateNode),Rt=o,Cn=h;break;case 5:Ft||qi(r,n);case 6:if(o=Rt,h=Cn,Rt=null,ds(t,n,r),Rt=o,Cn=h,Rt!==null)if(Cn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(r.stateNode)}catch(f){ut(r,n,f)}else try{Rt.removeChild(r.stateNode)}catch(f){ut(r,n,f)}break;case 18:Rt!==null&&(Cn?(t=Rt,f_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):f_(Rt,r.stateNode));break;case 4:o=Rt,h=Cn,Rt=r.stateNode.containerInfo,Cn=!0,ds(t,n,r),Rt=o,Cn=h;break;case 0:case 11:case 14:case 15:$s(2,r,n),Ft||$s(4,r,n),ds(t,n,r);break;case 1:Ft||(qi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&dy(r,n,o)),ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:Ft=(o=Ft)||r.memoizedState!==null,ds(t,n,r),Ft=o;break;default:ds(t,n,r)}}function Ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){ut(n,n.return,r)}}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){ut(n,n.return,r)}}function LT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yy),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var r=LT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=YT.bind(null,t,o);o.then(h,h)}})}function xn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ir(T.type)){Rt=T.stateNode,Cn=!1;break e}break;case 5:Rt=T.stateNode,Cn=!1;break e;case 3:case 4:Rt=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(Rt===null)throw Error(a(160));Ey(f,g,h),Rt=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,t),n=n.sibling}var gi=null;function Ay(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),In(t),o&4&&($s(3,t,t.return),ul(3,t),$s(5,t,t.return));break;case 1:xn(n,t),In(t),o&512&&(Ft||r===null||qi(r,r.return)),o&64&&fs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=gi;if(xn(n,t),In(t),o&512&&(Ft||r===null||qi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,o,r),f[jt]=t,zt(f),o=f;break e;case"link":var g=A_("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),un(f,o,r),h.head.appendChild(f);break;case"meta":if(g=A_("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(o),un(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[jt]=t,zt(f),o=f}t.stateNode=o}else S_(h,t.type,t.stateNode);else t.stateNode=b_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?S_(h,t.type,t.stateNode):b_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),In(t),o&512&&(Ft||r===null||qi(r,r.return)),r!==null&&o&4&&qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),In(t),o&512&&(Ft||r===null||qi(r,r.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(ue){ut(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(xn(n,t),In(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ue){ut(t,t.return,ue)}}break;case 3:if(vc=null,h=gi,gi=yc(n.containerInfo),xn(n,t),gi=h,In(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ue){ut(t,t.return,ue)}Ff&&(Ff=!1,Sy(t));break;case 4:o=gi,gi=yc(t.stateNode.containerInfo),xn(n,t),In(t),gi=o;break;case 12:xn(n,t),In(t);break;case 31:xn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:xn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rc=Pe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,j=fs,F=Ft;if(fs=j||h,Ft=F||C,xn(n,t),Ft=F,fs=j,In(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||fs||Ft||na(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){ut(C,C.return,ue)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){ut(C,C.return,ue)}}}else if(n.tag===18){if(r===null){C=n;try{var q=C.stateNode;h?d_(q,!0):d_(C.stateNode,!1)}catch(ue){ut(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ic(t,r))));break;case 19:xn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:xn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Hf(t);nc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Rn(g,""),r.flags&=-33);var T=Hf(t);nc(t,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,j=Hf(t);Gf(t,j,C);break;default:throw Error(a(161))}}catch(F){ut(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(t,n.alternate,n),n=n.sibling}function na(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$s(4,n,n.return),na(n);break;case 1:qi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dy(n,n.return,r),na(n);break;case 27:vl(n.stateNode);case 26:case 5:qi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}t=t.sibling}}function gs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,r),ul(4,f);break;case 1:if(gs(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ut(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],T)}catch(j){ut(o,o.return,j)}}r&&g&64&&fy(f),cl(f,f.return);break;case 27:py(f);case 26:case 5:gs(h,f,r),r&&o===null&&g&4&&my(f),cl(f,f.return);break;case 12:gs(h,f,r);break;case 31:gs(h,f,r),r&&g&4&&Ty(h,f);break;case 13:gs(h,f,r),r&&g&4&&by(h,f);break;case 22:f.memoizedState===null&&gs(h,f,r),cl(f,f.return);break;case 30:break;default:gs(h,f,r)}n=n.sibling}}function Yf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$o(r))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function pi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(t,n,r,o),n=n.sibling}function wy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,o),h&2048&&ul(9,n);break;case 1:pi(t,n,r,o);break;case 3:pi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){pi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(n,n.return,C)}}else pi(t,n,r,o);break;case 31:pi(t,n,r,o);break;case 13:pi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?pi(t,n,r,o):hl(t,n):f._visibility&2?pi(t,n,r,o):(f._visibility|=2,qa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:pi(t,n,r,o),h&2048&&Qf(n.alternate,n);break;default:pi(t,n,r,o)}}function qa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:qa(f,g,T,C,h),ul(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?qa(f,g,T,C,h):hl(f,g):(F._visibility|=2,qa(f,g,T,C,h)),h&&j&2048&&Yf(g.alternate,g);break;case 24:qa(f,g,T,C,h),h&&j&2048&&Qf(g.alternate,g);break;default:qa(f,g,T,C,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:hl(r,o),h&2048&&Yf(o.alternate,o);break;case 24:hl(r,o),h&2048&&Qf(o.alternate,o);break;default:hl(r,o)}n=n.sibling}}var fl=8192;function Ha(t,n,r){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)Ry(t,n,r),t=t.sibling}function Ry(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&fl&&t.memoizedState!==null&&Ab(r,gi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var o=gi;gi=yc(t.stateNode.containerInfo),Ha(t,n,r),gi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ha(t,n,r),fl=o):Ha(t,n,r));break;default:Ha(t,n,r)}}function Cy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nn=o,Iy(o,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xy(t),t=t.sibling}function xy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&$s(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):dl(t);break;default:dl(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nn=o,Iy(o,t)}Cy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$s(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Iy(t,n){for(;nn!==null;){var r=nn;switch(r.tag){case 0:case 11:case 15:$s(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,nn=o;else e:for(r=t;nn!==null;){o=nn;var h=o.sibling,f=o.return;if(vy(o),o===r){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var PT={getCacheForType:function(t){var n=on(qt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return on(qt).controller.signal}},jT=typeof WeakMap=="function"?WeakMap:Map,nt=0,yt=null,ze=null,Ge=0,lt=0,zn=null,Zs=!1,Ga=!1,Kf=!1,ps=0,Dt=0,Js=0,ia=0,Xf=0,Bn=0,Fa=0,ml=null,Nn=null,$f=!1,rc=0,Ny=0,ac=1/0,oc=null,Ws=null,Xt=0,er=null,Ya=null,ys=0,Zf=0,Jf=null,Dy=null,gl=0,Wf=null;function qn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:H.T!==null?rd():lu()}function Oy(){if(Bn===0)if((Ge&536870912)===0||$e){var t=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),Bn=t}else Bn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),Bn}function Dn(t,n,r){(t===yt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),tr(t,Ge,Bn,!1)),Dr(t,r),((nt&2)===0||t!==yt)&&(t===yt&&((nt&2)===0&&(ia|=r),Dt===4&&tr(t,Ge,Bn,!1)),Hi(t))}function My(t,n,r){if((nt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ai(t,n),h=o?qT(t,n):td(t,n,!0),f=o;do{if(h===0){Ga&&!o&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!zT(r)){h=td(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=ml;var C=T.current.memoizedState.isDehydrated;if(C&&(Qa(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break e}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),tr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(o,n,Bn,!Zs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Pe(),10<h)){if(tr(o,n,Bn,!Zs),wi(o,0,!0)!==0)break e;ys=n,o.timeoutHandle=c_(Vy.bind(null,o,r,Nn,oc,$f,n,Bn,ia,Fa,Zs,f,"Throttled",-0,0),h);break e}Vy(o,r,Nn,oc,$f,n,Bn,ia,Fa,Zs,f,null,-0,0)}}break}while(!0);Hi(t)}function Vy(t,n,r,o,h,f,g,T,C,j,F,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Ry(n,f,X);var ue=(f&62914560)===f?rc-Pe():(f&4194048)===f?Ny-Pe():0;if(ue=Sb(X,ue),ue!==null){ys=f,t.cancelPendingCommit=ue(qy.bind(null,t,n,f,r,o,h,g,T,C,F,X,null,z,q)),tr(t,f,g,!j);return}}qy(t,n,f,r,o,h,g,T,C)}function zT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,o){n&=~Xf,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Or(t,r,n)}function lc(){return(nt&6)===0?(pl(0),!1):!0}function ed(){if(ze!==null){if(lt===0)var t=ze.return;else t=ze,as=Kr=null,pf(t),La=null,Jo=0,t=ze;for(;t!==null;)hy(t.alternate,t),t=t.return;ze=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ab(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ys=0,ed(),yt=t,ze=r=ss(t.current,null),Ge=n,lt=0,zn=null,Zs=!1,Ga=ai(t,n),Kf=!1,Fa=Bn=Xf=ia=Js=Dt=0,Nn=ml=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=t[h],o&=~f}return ps=n,Iu(),r}function ky(t,n){Me=null,H.H=al,n===Ua||n===Lu?(n=Zg(),lt=3):n===sf?(n=Zg(),lt=4):lt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,ze===null&&(Dt=1,Zu(t,Xn(n,t.current)))}function Uy(){var t=Pn.current;return t===null?!0:(Ge&4194048)===Ge?Wn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Wn:!1}function Ly(){var t=H.H;return H.H=al,t===null?al:t}function Py(){var t=H.A;return H.A=PT,t}function uc(){Dt=4,Zs||(Ge&4194048)!==Ge&&Pn.current!==null||(Ga=!0),(Js&134217727)===0&&(ia&134217727)===0||yt===null||tr(yt,Ge,Bn,!1)}function td(t,n,r){var o=nt;nt|=2;var h=Ly(),f=Py();(yt!==t||Ge!==n)&&(oc=null,Qa(t,n)),n=!1;var g=Dt;e:do try{if(lt!==0&&ze!==null){var T=ze,C=zn;switch(lt){case 8:ed(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var j=lt;if(lt=0,zn=null,Ka(t,T,C,j),r&&Ga){g=0;break e}break;default:j=lt,lt=0,zn=null,Ka(t,T,C,j)}}BT(),g=Dt;break}catch(F){ky(t,F)}while(!0);return n&&t.shellSuspendCounter++,as=Kr=null,nt=o,H.H=h,H.A=f,ze===null&&(yt=null,Ge=0,Iu()),g}function BT(){for(;ze!==null;)jy(ze)}function qT(t,n){var r=nt;nt|=2;var o=Ly(),h=Py();yt!==t||Ge!==n?(oc=null,ac=Pe()+500,Qa(t,n)):Ga=ai(t,n);e:do try{if(lt!==0&&ze!==null){n=ze;var f=zn;t:switch(lt){case 1:lt=0,zn=null,Ka(t,n,f,1);break;case 2:case 9:if(Xg(f)){lt=0,zn=null,zy(n);break}n=function(){lt!==2&&lt!==9||yt!==t||(lt=7),Hi(t)},f.then(n,n);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Xg(f)?(lt=0,zn=null,zy(n)):(lt=0,zn=null,Ka(t,n,f,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var T=ze;if(g?w_(g):T.stateNode.complete){lt=0,zn=null;var C=T.sibling;if(C!==null)ze=C;else{var j=T.return;j!==null?(ze=j,cc(j)):ze=null}break t}}lt=0,zn=null,Ka(t,n,f,5);break;case 6:lt=0,zn=null,Ka(t,n,f,6);break;case 8:ed(),Dt=6;break e;default:throw Error(a(462))}}HT();break}catch(F){ky(t,F)}while(!0);return as=Kr=null,H.H=o,H.A=h,nt=r,ze!==null?0:(yt=null,Ge=0,Iu(),Dt)}function HT(){for(;ze!==null&&!Je();)jy(ze)}function jy(t){var n=uy(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?cc(t):ze=n}function zy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=iy(r,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=iy(r,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:pf(n);default:hy(r,n),n=ze=Pg(n,ps),n=uy(r,n,ps)}t.memoizedProps=t.pendingProps,n===null?cc(t):ze=n}function Ka(t,n,r,o){as=Kr=null,pf(n),La=null,Jo=0;var h=n.return;try{if(DT(t,h,n,r,Ge)){Dt=1,Zu(t,Xn(r,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Dt=1,Zu(t,Xn(r,t.current)),ze=null;return}n.flags&32768?($e||o===1?t=!0:Ga||(Ge&536870912)!==0?t=!1:(Zs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){By(n,Zs);return}t=n.return;var r=VT(n.alternate,n,ps);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Dt===0&&(Dt=5)}function By(t,n){do{var r=kT(t.alternate,t);if(r!==null){r.flags&=32767,ze=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=r}while(t!==null);Dt=6,ze=null}function qy(t,n,r,o,h,f,g,T,C){t.cancelPendingCommit=null;do hc();while(Xt!==0);if((nt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(t,r,f,g,T,C),t===yt&&(ze=yt=null,Ge=0),Ya=n,er=t,ys=r,Zf=f,Jf=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QT(Xe,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=se.p,se.p=2,g=nt,nt|=4;try{UT(t,n,r)}finally{nt=g,se.p=h,H.T=o}}Xt=1,Hy(),Gy(),Fy()}}function Hy(){if(Xt===1){Xt=0;var t=er,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=se.p;se.p=2;var h=nt;nt|=4;try{Ay(n,t);var f=dd,g=Ig(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(C!==null&&Lh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ue=T.textContent.length,be=Math.min(C.start,ue),pt=C.end===void 0?be:Math.min(C.end,ue);!q.extend&&be>pt&&(g=pt,pt=be,be=g);var k=Cg(T,be),D=Cg(T,pt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),be>pt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ac=!!fd,dd=fd=null}finally{nt=h,se.p=o,H.T=r}}t.current=n,Xt=2}}function Gy(){if(Xt===2){Xt=0;var t=er,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=se.p;se.p=2;var h=nt;nt|=4;try{_y(t,n.alternate,n)}finally{nt=h,se.p=o,H.T=r}}Xt=3}}function Fy(){if(Xt===4||Xt===3){Xt=0,_e();var t=er,n=Ya,r=ys,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Ya=er=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ws=null),es(r),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Lt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=se.p,se.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,se.p=h}}(ys&3)!==0&&hc(),Hi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Wf?gl++:(gl=0,Wf=t):gl=0,pl(0)}}function Yy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function hc(){return Hy(),Gy(),Fy(),Qy()}function Qy(){if(Xt!==5)return!1;var t=er,n=Zf;Zf=0;var r=es(ys),o=H.T,h=se.p;try{se.p=32>r?32:r,H.T=null,r=Jf,Jf=null;var f=er,g=ys;if(Xt=0,Ya=er=null,ys=0,(nt&6)!==0)throw Error(a(331));var T=nt;if(nt|=4,xy(f.current),wy(f,f.current,g,r),nt=T,pl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Lt,f)}catch{}return!0}finally{se.p=h,H.T=o,Yy(t,n)}}function Ky(t,n,r){n=Xn(r,n),n=Df(t.stateNode,n,2),t=Qs(t,n,2),t!==null&&(Dr(t,2),Hi(t))}function ut(t,n,r){if(t.tag===3)Ky(t,t,r);else for(;n!==null;){if(n.tag===3){Ky(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ws===null||!Ws.has(o))){t=Xn(r,t),r=Xp(2),o=Qs(n,r,2),o!==null&&($p(r,o,n,t),Dr(o,2),Hi(o));break}}n=n.return}}function nd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new jT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Kf=!0,h.add(r),t=GT.bind(null,t,n,r),n.then(t,t))}function GT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,yt===t&&(Ge&r)===r&&(Dt===4||Dt===3&&(Ge&62914560)===Ge&&300>Pe()-rc?(nt&2)===0&&Qa(t,0):Xf|=r,Fa===Ge&&(Fa=0)),Hi(t)}function Xy(t,n){n===0&&(n=ou()),t=Fr(t,n),t!==null&&(Dr(t,n),Hi(t))}function FT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xy(t,r)}function YT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Xy(t,r)}function QT(t,n){return ae(t,n)}var fc=null,Xa=null,id=!1,dc=!1,sd=!1,nr=0;function Hi(t){t!==Xa&&t.next===null&&(Xa===null?fc=Xa=t:Xa=Xa.next=t),dc=!0,id||(id=!0,XT())}function pl(t,n){if(!sd&&dc){sd=!0;do for(var r=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wy(o,f))}else f=Ge,f=wi(o,o===yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ai(o,f)||(r=!0,Wy(o,f));o=o.next}while(r);sd=!1}}function KT(){$y()}function $y(){dc=id=!1;var t=0;nr!==0&&rb()&&(t=nr);for(var n=Pe(),r=null,o=fc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,r===null?fc=h:r.next=h,h===null&&(Xa=r)):(r=o,(t!==0||(f&3)!==0)&&(dc=!0)),o=h}Xt!==0&&Xt!==5||pl(t),nr!==0&&(nr=0)}function Zy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&o)!==0)&&(h[g]=Oh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=yt,r=Ge,r=wi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ee(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ai(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Ee(o),es(r)){case 2:case 8:r=De;break;case 32:r=Xe;break;case 268435456:r=ri;break;default:r=Xe}return o=Jy.bind(null,t),r=ae(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Ee(o),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hc()&&t.callbackNode!==r)return null;var o=Ge;return o=wi(t,t===yt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(My(t,o,n),Zy(t,Pe()),t.callbackNode!=null&&t.callbackNode===r?Jy.bind(null,t):null)}function Wy(t,n){if(hc())return null;My(t,n,!0)}function XT(){ob(function(){(nt&6)!==0?ae(Le,KT):$y()})}function rd(){if(nr===0){var t=Va;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),nr=t}return nr}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function t_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function $T(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=e_((h[en]||null).action),g=o.submitter;g&&(n=(n=g[en]||null)?e_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ui("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(nr!==0){var C=g?t_(h,g):new FormData(h);wf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?t_(h,g):new FormData(h),wf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],ZT=od.toLowerCase(),JT=od[0].toUpperCase()+od.slice(1);mi(ZT,"on"+JT)}mi(Og,"onAnimationEnd"),mi(Mg,"onAnimationIteration"),mi(Vg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(mT,"onTransitionRun"),mi(gT,"onTransitionStart"),mi(pT,"onTransitionCancel"),mi(kg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function n_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){xu(F)}h.currentTarget=null,f=C}}}}function Be(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=t+"__bubble";r.has(o)||(i_(n,t,2,!1),r.add(o))}function ld(t,n,r){var o=0;n&&(o|=4),i_(r,t,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function ud(t){if(!t[mc]){t[mc]=!0,Io.forEach(function(r){r!=="selectionchange"&&(WT.has(r)||ld(r,!1,t),ld(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,ld("selectionchange",!1,n))}}function i_(t,n,r,o){switch(O_(n)){case 2:var h=Cb;break;case 8:h=xb;break;default:h=Sd}r=h.bind(null,n,r,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function cd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ii(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}T=T.parentNode}}o=o.return}Ls(function(){var j=f,F=Fn(r),X=[];e:{var z=Ug.get(t);if(z!==void 0){var q=Ui,ue=t;switch(t){case"keypress":if(jr(r)===0)break e;case"keydown":case"keyup":q=wu;break;case"focusin":ue="focus",q=Br;break;case"focusout":ue="blur",q=Br;break;case"beforeblur":case"afterblur":q=Br;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Og:case Mg:case Vg:q=_u;break;case kg:q=b;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=is;break;case"toggle":case"beforetoggle":q=Oe}var be=(n&4)!==0,pt=!be&&(t==="scroll"||t==="scrollend"),k=be?z!==null?z+"Capture":null:z;be=[];for(var D=j,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ci(D,k),Y!=null&&be.push(_l(D,Y,P))),pt)break;D=D.return}0<be.length&&(z=new q(z,ue,null,r,F),X.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==Po&&(ue=r.relatedTarget||r.fromElement)&&(Ii(ue)||ue[Ci]))break e;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ue=r.relatedTarget||r.toElement,q=j,ue=ue?Ii(ue):null,ue!==null&&(pt=c(ue),be=ue.tag,ue!==pt||be!==5&&be!==27&&be!==6)&&(ue=null)):(q=null,ue=j),q!==ue)){if(be=qo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(be=is,Y="onPointerLeave",k="onPointerEnter",D="pointer"),pt=q==null?z:Vn(q),P=ue==null?z:Vn(ue),z=new be(Y,D+"leave",q,r,F),z.target=pt,z.relatedTarget=P,Y=null,Ii(F)===j&&(be=new be(k,D+"enter",ue,r,F),be.target=P,be.relatedTarget=pt,Y=be),pt=Y,q&&ue)t:{for(be=eb,k=q,D=ue,P=0,Y=k;Y;Y=be(Y))P++;Y=0;for(var pe=D;pe;pe=be(pe))Y++;for(;0<P-Y;)k=be(k),P--;for(;0<Y-P;)D=be(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){be=k;break t}k=be(k),D=be(D)}be=null}else be=null;q!==null&&s_(X,z,q,be,!1),ue!==null&&pt!==null&&s_(X,pt,ue,be,!0)}}e:{if(z=j?Vn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var We=Tg;else if(vg(z))if(bg)We=hT;else{We=uT;var ce=lT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&_a(j.elementType)&&(We=Tg):We=cT;if(We&&(We=We(t,j))){Eg(X,We,r,F);break e}ce&&ce(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(ce=j?Vn(j):window,t){case"focusin":(vg(ce)||ce.contentEditable==="true")&&(Ra=ce,Ph=j,Qo=null);break;case"focusout":Qo=Ph=Ra=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ng(X,r,F);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":Ng(X,r,F)}var Ve;if(tt)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else wa?qr(t,r)&&(Fe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Fe="onCompositionStart");Fe&&(ji&&r.locale!=="ko"&&(wa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&wa&&(Ve=zo()):(ki=F,jo="value"in ki?ki.value:ki.textContent,wa=!0)),ce=gc(j,Fe),0<ce.length&&(Fe=new Pi(Fe,t,null,r,F),X.push({event:Fe,listeners:ce}),Ve?Fe.data=Ve:(Ve=Sa(r),Ve!==null&&(Fe.data=Ve)))),(Ve=Qn?sT(t,r):rT(t,r))&&(Fe=gc(j,"onBeforeInput"),0<Fe.length&&(ce=new Pi("onBeforeInput","beforeinput",null,r,F),X.push({event:ce,listeners:Fe}),ce.data=Ve)),$T(X,t,j,r,F)}n_(X,n)})}function _l(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(t,r),h!=null&&o.unshift(_l(t,h,f)),h=ci(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=ci(r,f),j!=null&&g.unshift(_l(r,j,C))):h||(j=ci(r,f),j!=null&&g.push(_l(r,j,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var tb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(tb,`
`).replace(nb,"")}function a_(t,n){return n=r_(n),r_(t)===n}function gt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(t,""+o);break;case"className":kn(t,"class",o);break;case"tabIndex":kn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){kn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ui);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,pa(t,r,o))}}function hd(t,n,r,o,h,f){switch(r){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&Rn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[en]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):pa(t,r,o)}}}function un(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,f,g,r,null)}}h&&gt(t,n,"srcSet",r.srcSet,r,null),o&&gt(t,n,"src",r.src,r,null);return;case"input":Be("invalid",t);var T=f=g=h=null,C=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:gt(t,n,o,F,r,null)}}fu(t,f,T,C,j,g,h,!1);return;case"select":Be("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:gt(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!o,n!=null?Ms(t,!!o,n,!1):r!=null&&Ms(t,!!o,r,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:gt(t,n,g,T,r,null)}Vs(t,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:gt(t,n,C,o,r,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)Be(yl[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,j,o,r,null)}return;default:if(_a(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&hd(t,n,F,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&gt(t,n,T,o,r,null))}function ib(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,F=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(q)||gt(t,n,q,null,o,X)}}for(var z in o){var q=o[z];if(X=r[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&gt(t,n,z,q,o,X)}}ya(t,g,T,C,j,F,f,h);return;case"select":q=g=T=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||gt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&gt(t,n,h,f,o,C)}n=T,r=g,o=q,z!=null?Ms(t,!!r,z,!1):!!o!=!!r&&(n!=null?Ms(t,!!r,n,!0):Ms(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:gt(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&gt(t,n,g,h,o,f)}du(t,z,q);return;case"option":for(var ue in r)if(z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:gt(t,n,ue,null,o,z)}for(C in o)if(z=o[C],q=r[C],o.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:gt(t,n,C,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)z=r[be],r.hasOwnProperty(be)&&z!=null&&!o.hasOwnProperty(be)&&gt(t,n,be,null,o,z);for(j in o)if(z=o[j],q=r[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:gt(t,n,j,z,o,q)}return;default:if(_a(n)){for(var pt in r)z=r[pt],r.hasOwnProperty(pt)&&z!==void 0&&!o.hasOwnProperty(pt)&&hd(t,n,pt,void 0,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||hd(t,n,F,z,o,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&gt(t,n,k,null,o,z);for(X in o)z=o[X],q=r[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||gt(t,n,X,z,o,q)}function o_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&o_(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],j=C.startTime;if(j>T)break;var F=C.transferSize,X=C.initiatorType;F&&o_(X)&&(C=C.responseEnd,g+=F*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fd=null,dd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function md(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function rb(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(lb)}:c_;function lb(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function f_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")vl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[xi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&vl(t.ownerDocument.body);r=h}while(r);Wa(n)}function d_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function pd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ub(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function cb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ei(t.nextSibling),t===null))return null;return t}function m_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ei(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ei(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vd=null;function g_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ei(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function p_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function y_(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var ti=new Map,__=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=se.d;se.d={f:fb,r:db,D:mb,C:gb,L:pb,m:yb,X:vb,S:_b,M:Eb};function fb(){var t=_s.f(),n=lc();return t||n}function db(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?kp(n):_s.r(t)}var $a=typeof document>"u"?null:document;function v_(t,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),__.has(h)||(__.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),un(n,"link",t),zt(n),o.head.appendChild(n)))}}function mb(t){_s.D(t),v_("dns-prefetch",t,null)}function gb(t,n){_s.C(t,n),v_("preconnect",t,n)}function pb(t,n,r){_s.L(t,n,r);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wn(r.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Ja(t)}ti.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ti.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),un(n,"link",t),zt(n),o.head.appendChild(n)))}}function yb(t,n){_s.m(t,n);var r=$a;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(t)}if(!ti.has(f)&&(t=S({rel:"modulepreload",href:t},n),ti.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}o=r.createElement("link"),un(o,"link",t),zt(o),r.head.appendChild(o)}}}function _b(t,n,r){_s.S(t,n,r);var o=$a;if(o&&t){var h=Ni(o).hoistableStyles,f=Za(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(El(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ti.get(f))&&Ed(t,r);var C=g=o.createElement("link");zt(C),un(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function vb(t,n){_s.X(t,n);var r=$a;if(r&&t){var o=Ni(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(t=S({src:t,async:!0},n),(n=ti.get(h))&&Td(t,n),f=r.createElement("script"),zt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Eb(t,n){_s.M(t,n);var r=$a;if(r&&t){var o=Ni(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ti.get(h))&&Td(t,n),f=r.createElement("script"),zt(f),un(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E_(t,n,r,o){var h=(h=Re.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Ni(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var f=Ni(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(El(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ti.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ti.set(t,r),f||Tb(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(r),r=Ni(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+wn(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Tb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),un(n,"link",r),zt(n),t.head.appendChild(n))}function Ja(t){return'[src="'+wn(t)+'"]'}function Tl(t){return"script[async]"+t}function b_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+wn(r.href)+'"]');if(o)return n.instance=o,zt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zt(o),un(o,"style",h),_c(o,r.precedence,t),n.instance=o;case"stylesheet":h=Za(r.href);var f=t.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;o=T_(r),(h=ti.get(h))&&Ed(o,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),un(f,"link",o),n.state.loading|=4,_c(f,r.precedence,t),n.instance=f;case"script":return f=Ja(r.src),(h=t.querySelector(Tl(f)))?(n.instance=h,zt(h),h):(o=r,(h=ti.get(f))&&(o=S({},r),Td(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),un(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,r.precedence,t));return n.instance}function _c(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function A_(t,n,r){if(vc===null){var o=new Map,h=vc=new Map;h.set(r,o)}else h=vc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[xi]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function S_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function bb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ab(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,zt(f);return}f=n.ownerDocument||n,o=T_(o),(h=ti.get(h))&&Ed(o,h),f=f.createElement("link"),zt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),un(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var bd=0;function Sb(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bd===0&&(bd=62500*sb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(wb,t),Tc=null,Ec.call(t))}function wb(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:me,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Rb(t,n,r,o,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function R_(t,n,r,o,h,f,g,T,C,j,F,X){return t=new Rb(t,n,r,g,C,j,F,X,T),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),t.current=f,f.stateNode=t,n=ef(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},rf(f),t}function C_(t){return t?(t=Ia,t):Ia}function x_(t,n,r,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ys(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Qs(t,o,n),r!==null&&(Dn(r,t,n),el(r,t,n))}function I_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ad(t,n){I_(t,n),(t=t.alternate)&&I_(t,n)}function N_(t){if(t.tag===13||t.tag===31){var n=Fr(t,67108864);n!==null&&Dn(n,t,67108864),Ad(t,67108864)}}function D_(t){if(t.tag===13||t.tag===31){var n=qn();n=Mr(n);var r=Fr(t,n);r!==null&&Dn(r,t,n),Ad(t,n)}}var Ac=!0;function Cb(t,n,r,o){var h=H.T;H.T=null;var f=se.p;try{se.p=2,Sd(t,n,r,o)}finally{se.p=f,H.T=h}}function xb(t,n,r,o){var h=H.T;H.T=null;var f=se.p;try{se.p=8,Sd(t,n,r,o)}finally{se.p=f,H.T=h}}function Sd(t,n,r,o){if(Ac){var h=wd(o);if(h===null)cd(t,n,o,Sc,r),M_(t,o);else if(Nb(h,t,n,r,o))o.stopPropagation();else if(M_(t,o),n&4&&-1<Ib.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Si(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-fe(g);T.entanglements[1]|=C,g&=~C}Hi(f),(nt&6)===0&&(ac=Pe()+500,pl(0))}}break;case 31:case 13:T=Fr(f,2),T!==null&&Dn(T,f,2),lc(),Ad(f,2)}if(f=wd(o),f===null&&cd(t,n,o,Sc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(t,n,o,null,r)}}function wd(t){return t=Fn(t),Rd(t)}var Sc=null;function Rd(t){if(Sc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function O_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case Le:return 2;case De:return 8;case Xe:case ft:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Cd=!1,sr=null,rr=null,ar=null,Al=new Map,Sl=new Map,or=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function wl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&N_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Nb(t,n,r,o,h){switch(n){case"focusin":return sr=wl(sr,t,n,r,o,h),!0;case"dragenter":return rr=wl(rr,t,n,r,o,h),!0;case"mouseover":return ar=wl(ar,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,wl(Al.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,wl(Sl.get(f)||null,t,n,r,o,h)),!0}return!1}function V_(t){var n=Ii(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,oi(t.priority,function(){D_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,oi(t.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=wd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Po=o,r.target.dispatchEvent(o),Po=null}else return n=Gn(r),n!==null&&N_(n),t.blockedOn=r,!1;n.shift()}return!0}function k_(t,n,r){wc(t)&&r.delete(n)}function Db(){Cd=!1,sr!==null&&wc(sr)&&(sr=null),rr!==null&&wc(rr)&&(rr=null),ar!==null&&wc(ar)&&(ar=null),Al.forEach(k_),Sl.forEach(k_)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Cc=null;function U_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Rd(o||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(t){function n(C){return Rc(C,t)}sr!==null&&Rc(sr,t),rr!==null&&Rc(rr,t),ar!==null&&Rc(ar,t),Al.forEach(n),Sl.forEach(n);for(var r=0;r<or.length;r++){var o=or[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)V_(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[en]||null;if(typeof f=="function")g||U_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[en]||null)T=g.formAction;else if(Rd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),U_(r)}}}function L_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}xc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=qn();x_(r,o,t,n,null,null)},xc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;x_(t.current,2,null,t,null,null),lc(),n[Ci]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&V_(t)}};var P_=e.version;if(P_!=="19.2.0")throw Error(a(527,P_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Ob={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Lt=Ic.inject(Ob),Et=Ic}catch{}}return Cl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Fp,f=Yp,g=Qp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=R_(t,1,!1,null,null,r,o,null,h,f,g,L_),t[Ci]=n.current,ud(t),new xd(n)},Cl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Fp,g=Yp,T=Qp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=R_(t,1,!0,n,r??null,o,h,C,f,g,T,L_),n.context=C_(null),r=n.current,o=qn(),o=Mr(o),h=Ys(o),h.callback=null,Qs(r,h,o),r=o,n.current.lanes=r,Dr(n,r),Hi(n),t[Ci]=n.current,ud(t),new xc(n)},Cl.version="19.2.0",Cl}var K_;function Gb(){if(K_)return Dd.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Dd.exports=Hb(),Dd.exports}var Fb=Gb();const Yb=()=>{};var X_={};const xv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Qb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(M=64)),a.push(i[E],i[S],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(xv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Qb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new Kb;const M=c<<2|p>>4;if(a.push(M),y!==64){const G=p<<4&240|y>>2;if(a.push(G),S!==64){const ee=y<<6&192|S;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(s){const e=xv(s);return Iv.encodeByteArray(e,!0)},Qc=function(s){return Xb(s).replace(/\./g,"")},Nv=function(s){try{return Iv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $b(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Zb=()=>$b().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Wb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Nv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return Yb()||Zb()||Jb()||Wb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Dv=s=>fh()?.emulatorHosts?.[s],eA=s=>{const e=Dv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Ov=()=>fh()?.config,Mv=s=>fh()?.[`_${s}`];class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(s){return(await fetch(s,{credentials:"include"})).ok}function nA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Ol={};function iA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?s.emulator.push(e):s.prod.push(e);return s}function sA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let $_=!1;function kv(s,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ol[s]===e||Ol[s]||$_)return;Ol[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=iA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=sA(a),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),ne=i("learnmore"),W=document.getElementById(ne)||document.createElement("a"),ye=i("preprendIcon"),Ce=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const me=M.element;p(me),E(W,ne);const it=y();_(Ce,ye),me.append(Ce,ee,W,it),document.body.appendChild(me)}c?(ee.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function aA(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cA(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hA(){return!aA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const mA="FirebaseError";class xs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=mA,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?gA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new xs(l,p,a)}}function gA(s,e){return s.replace(pA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const pA=/\{\$([^}]+)}/g;function yA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Z_(c)&&Z_(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Kl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _A(s,e){const i=new vA(s,e);return i.subscribe.bind(i)}class vA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");EA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function kd(){}function Sn(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class TA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new tA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(s){return s===sa?void 0:s}function AA(s){return s.instantiationMode==="EAGER"}class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new TA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ye||(Ye={}));const wA={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},RA=Ye.INFO,CA={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},xA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=CA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const IA=(s,e)=>e.some(i=>s instanceof i);let J_,W_;function NA(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Xd=new WeakMap,Lv=new WeakMap,Ud=new WeakMap,Im=new WeakMap;function OA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(gr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function MA(s){if(Xd.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,e)}let $d={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Lv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return gr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VA(s){$d=s($d)}function kA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ld(this),e,...i);return Lv.set(a,e.sort?e.sort():[e]),gr(a)}:DA().includes(s)?function(...e){return s.apply(Ld(this),e),gr(Uv.get(this))}:function(...e){return gr(s.apply(Ld(this),e))}}function UA(s){return typeof s=="function"?kA(s):(s instanceof IDBTransaction&&MA(s),IA(s,NA())?new Proxy(s,$d):s)}function gr(s){if(s instanceof IDBRequest)return OA(s);if(Ud.has(s))return Ud.get(s);const e=UA(s);return e!==s&&(Ud.set(s,e),Im.set(e,s)),e}const Ld=s=>Im.get(s);function LA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=gr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(gr(d.result),_.oldVersion,_.newVersion,gr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const PA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Pd=new Map;function e0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=jA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Pd.set(e,c),c}VA(s=>({...s,get:(e,i,a)=>e0(e,i)||s.get(e,i,a),has:(e,i)=>!!e0(e,i)||s.has(e,i)}));class zA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BA(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",t0="0.14.6";const bs=new xm("@firebase/app"),qA="@firebase/app-compat",HA="@firebase/analytics-compat",GA="@firebase/analytics",FA="@firebase/app-check-compat",YA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",XA="@firebase/database",$A="@firebase/data-connect",ZA="@firebase/database-compat",JA="@firebase/functions",WA="@firebase/functions-compat",eS="@firebase/installations",tS="@firebase/installations-compat",nS="@firebase/messaging",iS="@firebase/messaging-compat",sS="@firebase/performance",rS="@firebase/performance-compat",aS="@firebase/remote-config",oS="@firebase/remote-config-compat",lS="@firebase/storage",uS="@firebase/storage-compat",cS="@firebase/firestore",hS="@firebase/ai",fS="@firebase/firestore-compat",dS="firebase",mS="12.6.0";const Jd="[DEFAULT]",gS={[Zd]:"fire-core",[qA]:"fire-core-compat",[GA]:"fire-analytics",[HA]:"fire-analytics-compat",[YA]:"fire-app-check",[FA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[XA]:"fire-rtdb",[$A]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[JA]:"fire-fn",[WA]:"fire-fn-compat",[eS]:"fire-iid",[tS]:"fire-iid-compat",[nS]:"fire-fcm",[iS]:"fire-fcm-compat",[sS]:"fire-perf",[rS]:"fire-perf-compat",[aS]:"fire-rc",[oS]:"fire-rc-compat",[lS]:"fire-gcs",[uS]:"fire-gcs-compat",[cS]:"fire-fst",[fS]:"fire-fst-compat",[hS]:"fire-vertex","fire-js":"fire-js",[dS]:"fire-js-all"};const Kc=new Map,pS=new Map,Wd=new Map;function n0(s,e){try{s.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ho(s){const e=s.name;if(Wd.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,s);for(const i of Kc.values())n0(i,s);for(const i of pS.values())n0(i,s);return!0}function Nm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ni(s){return s==null?!1:s.settings!==void 0}const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Ql("app","Firebase",yS);class _S{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const To=mS;function Pv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Jd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw pr.create("bad-app-name",{appName:String(l)});if(i||(i=Ov()),!i)throw pr.create("no-options");const c=Kc.get(l);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw pr.create("duplicate-app",{appName:l})}const d=new SA(l);for(const _ of Wd.values())d.addComponent(_);const p=new _S(i,a,d);return Kc.set(l,p),p}function jv(s=Jd){const e=Kc.get(s);if(!e&&s===Jd&&Ov())return Pv();if(!e)throw pr.create("no-app",{appName:s});return e}function yr(s,e,i){let a=gS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}ho(new oa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const vS="firebase-heartbeat-database",ES=1,Pl="firebase-heartbeat-store";let jd=null;function zv(){return jd||(jd=LA(vS,ES,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw pr.create("idb-open",{originalErrorMessage:s.message})})),jd}async function TS(s){try{const i=(await zv()).transaction(Pl),a=await i.objectStore(Pl).get(Bv(s));return await i.done,a}catch(e){if(e instanceof xs)bs.warn(e.message);else{const i=pr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function i0(s,e){try{const a=(await zv()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(e,Bv(s)),await a.done}catch(i){if(i instanceof xs)bs.warn(i.message);else{const a=pr.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function Bv(s){return`${s.name}!${s.options.appId}`}const bS=1024,AS=30;class SS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new RS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>AS){const l=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:i,unsentEntries:a}=wS(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function wS(s,e=bS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),r0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),r0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await TS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function r0(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function CS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function xS(s){ho(new oa("platform-logger",e=>new zA(e),"PRIVATE")),ho(new oa("heartbeat",e=>new SS(e),"PRIVATE")),yr(Zd,t0,s),yr(Zd,t0,"esm2020"),yr("fire-js","")}xS("");var IS="firebase",NS="12.6.0";yr(IS,NS,"app");function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DS=qv,Hv=new Ql("auth","Firebase",qv());const Xc=new xm("@firebase/auth");function OS(s,...e){Xc.logLevel<=Ye.WARN&&Xc.warn(`Auth (${To}): ${s}`,...e)}function Uc(s,...e){Xc.logLevel<=Ye.ERROR&&Xc.error(`Auth (${To}): ${s}`,...e)}function As(s,...e){throw Dm(s,...e)}function Yi(s,...e){return Dm(s,...e)}function Gv(s,e,i){const a={...DS(),[e]:i};return new Ql("auth","Firebase",a).create(e,{appName:s.name})}function Ts(s){return Gv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Hv.create(s,...e)}function we(s,e,...i){if(!s)throw Dm(e,...i)}function vs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uc(e),new Error(e)}function Ss(s,e){s||vs(e)}function em(){return typeof self<"u"&&self.location?.href||""}function MS(){return a0()==="http:"||a0()==="https:"}function a0(){return typeof self<"u"&&self.location?.protocol||null}function VS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MS()||lA()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=rA()||uA()}get(){return VS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Fv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const US={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PS=new Xl(3e4,6e4);function $l(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bo(s,e,i,a,l={}){return Yv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Kl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return oA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(y.credentials="include"),Fv.fetch()(await Qv(s,s.config.apiHost,i,p),y)})}async function Yv(s,e,i){s._canInitEmulator=!1;const a={...US,...e};try{const l=new jS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gv(s,E,y);As(s,E)}}catch(l){if(l instanceof xs)throw l;As(s,"network-request-failed",{message:String(l)})}}async function Mm(s,e,i,a,l={}){const c=await bo(s,e,i,a,l);return"mfaPendingCredential"in c&&As(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Qv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,l):`${s.config.apiScheme}://${l}`;return LS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Yi(this.auth,"network-request-failed")),PS.get())})}}function Nc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Yi(s,e,a);return l.customData._tokenResponse=i,l}async function zS(s,e){return bo(s,"POST","/v1/accounts:delete",e)}async function $c(s,e){return bo(s,"POST","/v1/accounts:lookup",e)}function Ml(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BS(s,e=!1){const i=Sn(s),a=await i.getIdToken(e),l=Vm(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ml(zd(l.auth_time)),issuedAtTime:Ml(zd(l.iat)),expirationTime:Ml(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o0(s){const e=Vm(s);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof xs&&qS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function qS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class HS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(s){const e=s.auth,i=await s.getIdToken(),a=await jl(s,$c(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Kv(l.providerUserInfo):[],d=FS(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function GS(s){const e=Sn(s);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Kv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function YS(s,e){const i=await Yv(s,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Qv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(_.credentials="include"),Fv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QS(s,e){return bo(s,"POST","/v2/accounts:revokeToken",$l(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=o0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await YS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ao;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ur(s,e){we(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new HS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await jl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return BS(this,e)}reload(){return GS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await jl(this,zS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:G,providerData:ee,stsTokenManager:ne}=i;we(S&&ne,e,"internal-error");const W=ao.fromJSON(this.name,ne);we(typeof S=="string",e,"internal-error"),ur(a,e.name),ur(l,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof G=="boolean",e,"internal-error"),ur(c,e.name),ur(d,e.name),ur(p,e.name),ur(_,e.name),ur(y,e.name),ur(E,e.name);const ye=new yi({uid:S,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return ee&&Array.isArray(ee)&&(ye.providerData=ee.map(Ce=>({...Ce}))),_&&(ye._redirectEventId=_),ye}static async _fromIdTokenResponse(e,i,a=!1){const l=new ao;l.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Kv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ao;p.updateFromIdToken(a);const _=new yi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const l0=new Map;function Es(s){Ss(s instanceof Function,"Expected a class definition");let e=l0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,l0.set(s,e),e)}class Xv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Xv.type="NONE";const u0=Xv;function Lc(s,e,i){return`firebase:${s}:${e}:${i}`}class oo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $c(this.auth,{idToken:e}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new oo(Es(u0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Es(u0);const d=Lc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const M=await $c(e,{idToken:E}).catch(()=>{});if(!M)break;S=await yi._fromGetAccountInfoResponse(e,M,E)}else S=yi._fromJSON(e,E);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new oo(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new oo(c,e,a))}}function c0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($v(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Jv(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $v(s=Tn()){return/firefox\//i.test(s)}function Zv(s=Tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jv(s=Tn()){return/crios\//i.test(s)}function Wv(s=Tn()){return/iemobile/i.test(s)}function e1(s=Tn()){return/android/i.test(s)}function t1(s=Tn()){return/blackberry/i.test(s)}function n1(s=Tn()){return/webos/i.test(s)}function km(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KS(s=Tn()){return km(s)&&!!window.navigator?.standalone}function XS(){return cA()&&document.documentMode===10}function i1(s=Tn()){return km(s)||e1(s)||n1(s)||t1(s)||/windows phone/i.test(s)||Wv(s)}function s1(s,e=[]){let i;switch(s){case"Browser":i=c0(Tn());break;case"Worker":i=`${c0(Tn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${a}`}class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ZS(s,e={}){return bo(s,"GET","/v2/passwordPolicy",$l(s,e))}const JS=6;class WS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ew{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $c(this,{idToken:e}),a=await yi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Ts(this));const i=e?Sn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZS(this),i=new WS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Es(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[Es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&OS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zl(s){return Sn(s)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(s){Um=s}function nw(s){return Um.loadJS(s)}function iw(){return Um.gapiScript}function sw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function rw(s,e){const i=Nm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return l;As(l,"already-initialized")}return i.initialize({options:e})}function aw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Es);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function ow(s,e,i){const a=Zl(s);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=r1(e),{host:d,port:p}=lw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Er(y,a.config.emulator)&&Er(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(Vv(`${c}//${d}${_}`),kv("Auth",!0)):uw()}function r1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lw(s){const e=r1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:f0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f0(d)}}}function f0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function uw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class a1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,i){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function lo(s,e){return Mm(s,"POST","/v1/accounts:signInWithIdp",$l(s,e))}const cw="http://localhost";class la extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):As("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new la(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,lo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}class o1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jl extends o1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends Jl{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends Jl{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends Jl{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function hw(s,e){return Mm(s,"POST","/v1/accounts:signUp",$l(s,e))}class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await yi._fromIdTokenResponse(e,a,l),d=d0(a);return new ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=d0(a);return new ws({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function d0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function fw(s){if(ni(s.app))return Promise.reject(Ts(s));const e=Zl(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await hw(e,{returnSecureToken:!0}),a=await ws._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Jc extends xs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Jc(e,i,a,l)}}function l1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,a):c})}async function dw(s,e,i=!1){const a=await jl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ws._forOperation(s,"link",a)}async function mw(s,e,i=!1){const{auth:a}=s;if(ni(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await jl(s,l1(a,l,e,s),i);we(c.idToken,a,"internal-error");const d=Vm(c.idToken);we(d,a,"internal-error");const{sub:p}=d;return we(s.uid===p,a,"user-mismatch"),ws._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function gw(s,e,i=!1){if(ni(s.app))return Promise.reject(Ts(s));const a="signIn",l=await l1(s,a,e),c=await ws._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function pw(s,e){return Mm(s,"POST","/v1/accounts:signInWithCustomToken",$l(s,e))}async function yw(s,e){if(ni(s.app))return Promise.reject(Ts(s));const i=Zl(s),a=await pw(i,{token:e,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function _w(s,e,i,a){return Sn(s).onIdTokenChanged(e,i,a)}function vw(s,e,i){return Sn(s).beforeAuthStateChanged(e,i)}function Ew(s,e,i,a){return Sn(s).onAuthStateChanged(e,i,a)}const Wc="__sak";class u1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tw=1e3,bw=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);XS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}c1.type="LOCAL";const Aw=c1;class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}h1.type="SESSION";const f1=h1;function Sw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class ww{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Lm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function Rw(s){Qi().location.href=s}function d1(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){return navigator?.serviceWorker?.controller||null}function Iw(){return d1()?self:null}const m1="firebaseLocalStorageDb",Nw=1,eh="firebaseLocalStorage",g1="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,e){return s.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function Dw(){const s=indexedDB.deleteDatabase(m1);return new Wl(s).toPromise()}function nm(){const s=indexedDB.open(m1,Nw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(eh,{keyPath:g1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(eh)?e(a):(a.close(),await Dw(),e(await nm()))})})}async function m0(s,e,i){const a=mh(s,!0).put({[g1]:e,value:i});return new Wl(a).toPromise()}async function Ow(s,e){const i=mh(s,!1).get(e),a=await new Wl(i).toPromise();return a===void 0?null:a.value}function g0(s,e){const i=mh(s,!0).delete(e);return new Wl(i).toPromise()}const Mw=800,Vw=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await m0(e,Wc,"1"),await g0(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Ow(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Wl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const kw=p1;new Xl(3e4,6e4);function Uw(s,e){return e?Es(e):(we(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pm extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Lw(s){return gw(s.auth,new Pm(s),s.bypassAuthState)}function Pw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),mw(i,new Pm(s),s.bypassAuthState)}async function jw(s){const{auth:e,user:i}=s;return we(i,e,"internal-error"),dw(i,new Pm(s),s.bypassAuthState)}class y1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Pw;default:As(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zw=new Xl(2e3,1e4);class so extends y1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zw.get())};e()}}so.currentPopupAction=null;const Bw="pendingRedirect",Pc=new Map;class qw extends y1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await Hw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hw(s,e){const i=Yw(e),a=Fw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Gw(s,e){Pc.set(s._key(),e)}function Fw(s){return Es(s._redirectPersistence)}function Yw(s){return Lc(Bw,s.config.apiKey,s.name)}async function Qw(s,e,i=!1){if(ni(s.app))return Promise.reject(Ts(s));const a=Zl(s),l=Uw(a,e),d=await new qw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Kw=600*1e3;class Xw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$w(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Yi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $w(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(s);default:return!1}}async function Zw(s,e={}){return bo(s,"GET","/v1/projects",e)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ww=/^https?/;async function e2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Zw(s);for(const i of e)try{if(t2(i))return}catch{}As(s,"unauthorized-domain")}function t2(s){const e=em(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ww.test(i))return!1;if(Jw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const n2=new Xl(3e4,6e4);function y0(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function i2(s){return new Promise((e,i)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(Yi(s,"network-request-failed"))},timeout:n2.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=sw("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Yi(s,"network-request-failed"))},nw(`${iw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function s2(s){return jc=jc||i2(s),jc}const r2=new Xl(5e3,15e3),a2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(s){const e=s.config;we(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,o2):`https://${s.config.authDomain}/${a2}`,a={apiKey:e.apiKey,appName:s.name,v:To},l=u2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function h2(s){const e=await s2(s),i=Qi().gapi;return we(i,s,"internal-error"),e.open({where:document.body,url:c2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Yi(s,"network-request-failed"),p=Qi().setTimeout(()=>{c(d)},r2.get());function _(){Qi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,g2="_blank",p2="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(s,e,i,a=d2,l=m2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...f2,width:a.toString(),height:l.toString(),top:c,left:d},y=Tn().toLowerCase();i&&(p=Jv(y)?g2:i),$v(y)&&(e=e||p2,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[G,ee])=>`${M}${G}=${ee},`,"");if(KS(y)&&p!=="_self")return _2(e||"",p),new _0(null);const S=window.open(e||"",p,E);we(S,s,"popup-blocked");try{S.focus()}catch{}return new _0(S)}function _2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function v0(s,e,i,a,l,c){we(s.config.authDomain,s,"auth-domain-config-required"),we(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:To,eventId:l};if(e instanceof o1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",yA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof Jl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await s._getAppCheckToken(),y=_?`#${T2}=${encodeURIComponent(_)}`:"";return`${b2(s)}?${Kl(p).slice(1)}${y}`}function b2({config:s}){return s.emulator?Om(s,E2):`https://${s.authDomain}/${v2}`}const Bd="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=Qw,this._overrideRedirectResult=Gw}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(e,i,a,em(),l);return y2(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await v0(e,i,a,em(),l);return Rw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await h2(e),a=new Xw(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=e2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return i1()||Zv()||km()}}const S2=A2;var E0="@firebase/auth",T0="1.11.1";class w2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function R2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C2(s){ho(new oa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(s)},y=new ew(a,l,c,_);return aw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ho(new oa("auth-internal",e=>{const i=Zl(e.getProvider("auth").getImmediate());return(a=>new w2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(E0,T0,R2(s)),yr(E0,T0,"esm2020")}const x2=300,I2=Mv("authIdTokenMaxAge")||x2;let b0=null;const N2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>I2)return;const l=i?.token;b0!==l&&(b0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function D2(s=jv()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=rw(s,{popupRedirectResolver:S2,persistence:[kw,Aw,f1]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=N2(c.toString());vw(i,d,()=>d(i.currentUser)),_w(i,p=>d(p))}}const l=Dv("auth");return l&&ow(i,`http://${l}`),i}function O2(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Yi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",O2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C2("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,v1;(function(){var s;function e(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,U){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],N=I.g[2];let U=I.g[3],R;R=w+(U^x&(N^U))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(U^x&(N^U))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=U+(N^w&(x^N))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(x^U&(w^x))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(w^N&(U^w))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(x^N))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(x^N))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(w^x))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(U^w))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^w&(N^U))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^U)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^U)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=U+(w^x^N)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^x)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^w)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~U))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~U))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=U+(x^(w|~N))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~x))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=x;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[w++]=this.g[x]>>>V&255;return I};function c(I,w){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function d(I,w){this.h=w;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==w||(x[N]=U,V=!1)}this.g=x}var p={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(y(-I));const w=[];let x=1;for(let V=0;I>=x;V++)w[V]=I/x|0,x*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return W(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let V=S;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var S=_(0),M=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(ne(this))return-W(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(ne(this))return"-"+W(this).toString(I);const w=y(Math.pow(I,6));var x=this;let V="";for(;;){const N=it(x,w).g;x=ye(x,N.j(w));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,ee(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ne(I){return I.h==-1}s.l=function(I){return I=ye(this,I),ne(I)?-1:ee(I)?0:1};function W(I){const w=I.g.length,x=[];for(let V=0;V<w;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}s.abs=function(){return ne(this)?W(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ye(I,w){return I.add(W(w))}s.j=function(I){if(ee(this)||ee(I))return S;if(ne(this))return ne(I)?W(this).j(W(I)):W(W(this).j(I));if(ne(I))return W(this.j(W(I)));if(this.l(G)<0&&I.l(G)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,at=I.i(N)>>>16,St=I.i(N)&65535;x[2*V+2*N]+=R*St,Ce(x,2*V+2*N),x[2*V+2*N+1]+=U*St,Ce(x,2*V+2*N+1),x[2*V+2*N+1]+=R*at,Ce(x,2*V+2*N+1),x[2*V+2*N+2]+=U*at,Ce(x,2*V+2*N+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new d(x,0)};function Ce(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function me(I,w){this.g=I,this.h=w}function it(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new me(S,S);if(ne(I))return w=it(W(I),w),new me(W(w.g),W(w.h));if(ne(w))return w=it(I,W(w)),new me(W(w.g),w.h);if(I.g.length>30){if(ne(I)||ne(w))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=w;V.l(I)<=0;)x=ct(x),V=ct(V);var N=ke(x,1),U=ke(V,1);for(V=ke(V,2),x=ke(x,2);!ee(V);){var R=U.add(V);R.l(I)<=0&&(N=N.add(x),U=R),V=ke(V,1),x=ke(x,1)}return w=ye(I,N.j(w)),new me(N,w)}for(N=S;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(x),R=U.j(w);ne(R)||R.l(I)>0;)x-=V,U=y(x),R=U.j(w);ee(U)&&(U=M),N=N.add(U),I=ye(I,R)}return new me(N,I)}s.B=function(I){return it(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function ct(I){const w=I.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function ke(I,w){const x=w>>5;w%=32;const V=I.g.length-x,N=[];for(let U=0;U<V;U++)N[U]=w>0?I.i(U+x)>>>w|I.i(U+x+1)<<32-w:I.i(U+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,v1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,_r=d}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,xl,T1,zc,im,b1,A1,S1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var te=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)te[Oe-2]=arguments[Oe];return m.prototype[L].apply(b,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=L[te]}else u.push(L)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const b=me.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var me=new ne(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ke=!1,I=new Ce,w=()=>{const u=Promise.resolve(void 0);ct=()=>{u.then(x)}};function x(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){W(v)}var m=me;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function at(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(at,N),at.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),H=0;function se(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++H,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function He(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<Q.length;B++)v=Q[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=Re(u,m,b,L);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new se(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Se(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function ht(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ht(u,m[B],v,b,L);return null}return v=ie(v),u&&u[St]?u.J(m,v,p(b)?!!b.capture:!1,L):Ei(u,m,v,!1,b,L)}function Ei(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const te=p(L)?!!L.capture:!!L;let Oe=si(u);if(Oe||(u[Ue]=Oe=new oe(u)),v=Oe.add(m,v,b,te,B),v.proxy)return v;if(b=Is(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=te),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Ct(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Is(){function u(v){return m.call(u.src,u.listener,v)}const m=bi;return u}function Ti(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ti(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=ie(v),u&&u[St]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,b,L),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=si(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,b,L)),(v=u>-1?m[u]:null)&&Ns(v))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])Se(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Ct(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=si(m))?(Se(v,u),v.h==0&&(v.src=null,m[Ue]=null)):de(u)}}}function Ct(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function bi(u,m){if(u.da)u=!0;else{m=new at(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ns(u),u=v.call(b,m)}return u}function si(u){return u=u[Ue],u instanceof oe?u:null}var K="__closure_events_fn_"+(Math.random()*1e9>>>0);function ie(u){return typeof u=="function"?u:(u[K]||(u[K]=function(m){return u.handleEvent(m)}),u[K])}function Z(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}S(Z,V),Z.prototype[St]=!0,Z.prototype.removeEventListener=function(u,m,v,b){Ti(this,u,m,v,b)};function ae(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),re(m,L)}L=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],L=Ee(B,b,!0,m)&&L;if(B=m.g=u,L=Ee(B,b,!0,m)&&L,L=Ee(B,b,!1,m)&&L,v)for(te=0;te<v.length;te++)B=m.g=v[te],L=Ee(B,b,!1,m)&&L}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)de(v[b]);delete u.g[m],u.h--}}this.G=null},Z.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Z.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Ee(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Oe=te.listener,Mt=te.ha||te.src;te.fa&&Se(u.i,te),L=Oe.call(Mt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Je(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function _e(u){u.g=Je(()=>{u.g=null,u.i&&(u.i=!1,_e(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pe extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ge(u){V.call(this),this.h=u,this.g={}}S(ge,V);var Le=[];function De(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ns(m)},u),u.g={}}ge.prototype.N=function(){ge.Z.N.call(this),De(this)},ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=d.JSON.stringify,ft=d.JSON.parse,ri=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ds(){}function Jt(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){N.call(this,"d")}S(Et,N);function ve(){N.call(this,"c")}S(ve,N);var fe={},je=null;function Wt(){return je=je||new Z}fe.Ia="serverreachability";function Ir(u){N.call(this,fe.Ia,u)}S(Ir,N);function Ai(u){const m=Wt();ae(m,new Ir(m))}fe.STAT_EVENT="statevent";function Nr(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}S(Nr,N);function Pt(u){const m=Wt();ae(m,new Nr(m,u))}fe.Ja="timingevent";function Si(u,m){N.call(this,fe.Ja,u),this.size=m}S(Si,N);function wi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Oh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var te="",Oe=B.split("&");for(let tt=0;tt<Oe.length;tt++){var Mt=Oe[tt].split("=");if(Mt.length>1){const wt=Mt[0];Mt=Mt[1];const Qn=wt.split("_");te=Qn.length>=2&&Qn[1]=="type"?te+(wt+"="+Mt+"&"):te+(wt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+te})}function ou(u,m,v,b,L,B,te){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+te})}function Ri(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function Dr(u,m){u.info(function(){return"TIMEOUT: "+m})}ai.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let te=1;te<b.length;te++)b[te]=""}}}}return Xe(B)}catch{return m}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Mr(){}S(Mr,Ds),Mr.prototype.g=function(){return new XMLHttpRequest},xo=new Mr;function es(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ge(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var jt={},en={};function Ci(u,m,v){u.M=1,u.A=Vr(Bt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),xi(u),u.B=Bt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),_a(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Pe(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Le[0]=L.toString()),L=Le);for(let B=0;B<L.length;B++){const te=ht(v,L[B],b||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ai(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=hi(this.g),Mt=this.g.ya(),tt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||Oe!=4||Mt==7||(Mt==8||tt<=0?Ai(3):Ai(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,Pt(12),Vn(this),Gn(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<v.length;)if(wt=cu(this,v),wt==en){Oe==4&&(this.m=4,Pt(14),u=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==jt){this.m=4,Pt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ri(this.i,this.l,wt,null),Ni(this,wt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Pt(16),u=!1),this.o=this.o&&u,!u)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(te),te.P=!0,Pt(11))}}else Ri(this.i,this.l,v,null),Ni(this,v);Oe==4&&Vn(this),this.o&&!this.K&&(Oe==4?vu(this.j,this):(this.o=!1,xi(this)))}else ns(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Vn(this),Gn(this)}}}catch{}finally{}};function Vh(u){if(!uu(u))return u.g.la();const m=rn(u.g);if(m==="")return"";let v="";const b=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?en:(v=Number(m.substring(v,b)),isNaN(v)?jt:(b+=1,b+v>m.length?en:(m=m.slice(b,b+v),u.C=b+v,m)))}oi.prototype.cancel=function(){this.K=!0,Vn(this)};function xi(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wi(y(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(Ai(),Pt(17)),Vn(this),this.m=2,Gn(this)):ga(this,this.T-u)};function Gn(u){u.j.I==0||u.K||vu(u.j,u)}function Vn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,De(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),js(v);else break e;Br(v),Pt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(y(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Aa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let tt=L[m];const wt=tt[0];if(!(wt<=v.K))if(v.K=wt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Qn=tt[3];Qn!=null&&(v.ka=Qn,v.j.info("VER="+v.ka));const ji=tt[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const fi=tt[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const di=u.g;if(di){const qr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var B=b.h;B.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Do(B,B.h),B.h=null))}if(b.G){const Sa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(b.wa=Sa,ot(b.J,b.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var te=u;if(b.na=bu(b,b.L?b.ba:null,b.W),te.L){Oo(b.h,te);var Oe=te,Mt=b.O;Mt&&(Oe.H=Mt),Oe.D&&(Ii(Oe),xi(Oe)),b.g=te}else yu(b);v.i.length>0&&Li(v)}else tt[0]!="stop"&&tt[0]!="close"||Pi(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Pi(v,7):Bo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}Ai(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Os(this,u.u),this.h=u.h,Vo(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,tn(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Os(this,m[4]),this.h=Mi(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,ya,!0),"@"),u.push(es(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kr(v,v.charAt(0)=="/"?ko:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kr(v,du)),u.join("")},kn.prototype.resolve=function(u){const m=Bt(this);let v=!!u.j;v?tn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Os(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let te=0;te<L.length;){const Oe=L[te++];Oe=="."?b&&te==L.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&te==L.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Vo(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Bt(u){return new kn(u)}function tn(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof Vs?(u.i=m,va(u.i,u.l)):(v||(m=kr(m,Ms)),u.i=new Vs(m,u.l))}function ot(u,m,v){u.i.set(m,v)}function Vr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,fu=/[#\?:]/g,ko=/[#\?]/g,Ms=/[#\?@]/g,du=/#/g;function Vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Vs.prototype,s.add=function(u,m){Rn(this),this.i=null,u=ks(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){Rn(u),m=ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return Rn(u),m=ks(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Lo(u,m){Rn(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(ks(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Rn(this),this.i=null,u=ks(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(ks(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=es(v);v=Lo(this,v);for(let B=0;B<v.length;B++){let te=L;v[B]!==""&&(te+="="+es(v[B])),u.push(te)}}return this.i=u.join("&")};function gu(u){const m=new Vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(mu(this,b),_a(this,L,v))},u)),u.j=m}function ui(u,m){const v=new ai;if(d.Image){const b=new Image;b.onload=E(Fn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Fn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Fn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Po(u,m){const v=new ai,b=new AbortController,L=setTimeout(()=>{b.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Us(){this.g=new ri}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Vi,Ds),Vi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){Z.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ur,Z),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):ci(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return qe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Lr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Yn(v),typeof u=="string"?v!=null&&es(v):ot(u,m,v))}function dt(u){Z.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(dt,Z);var ki=/^https?$/i,jo=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Pr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Pr(this,B)}};function Pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),ts(u)}function zo(u){u.A||(u.A=!0,ae(u,"complete"),ae(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ae(this,"complete"),ae(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?jr(this):this.Xa())},s.Xa=function(){jr(this)};function jr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ae(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let te=String(u.D).match(hu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),b=!ki.test(te?te.toLowerCase():"")}v=b}if(v)ae(u,"complete"),ae(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ae(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ft(m)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=lu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}He(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ps(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Pt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Li(this)};function Bo(u){if(Ta(u),u.I==3){var m=u.V++,v=Bt(u.J);if(ot(v,"SID",u.M),ot(v,"RID",m),ot(v,"TYPE","terminate"),zr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Vr(Bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}Tu(u)}function js(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function Ta(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;ct||w(),ke||(ct(),ke=!0),I.add(m,u),u.D=0}}function ba(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wi(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new oi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),re(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,L,m),v=Bt(this.J),ot(v,"RID",u),ot(v,"CVER",22),this.G&&ot(v,"X-HTTP-Session-Id",this.G),zr(this,v),B&&(this.R?m="headers="+es(Yn(B))+"&"+m:this.u&&Lr(v,this.u,B)),Do(this.h,L),this.Ra&&ot(v,"TYPE","init"),this.S?(ot(v,"$req",m),ot(v,"SID","null"),L.U=!0,Ci(L,v,null)):Ci(L,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const b=Bt(u.J);ot(b,"SID",u.M),ot(b,"RID",v),ot(b,"AID",u.K),zr(u,b),u.u&&u.o&&Lr(b,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),Ci(v,b,m)}function zr(u,m){u.H&&qe(u.H,function(v,b){ot(m,b,v)}),u.l&&qe({},function(v,b){ot(m,b,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Oe=-1;for(;;){const Mt=["count="+v];Oe==-1?v>0?(Oe=L[0].g,Mt.push("ofs="+Oe)):Oe=0:Mt.push("ofs="+Oe);let tt=!0;for(let wt=0;wt<v;wt++){var B=L[wt].g;const Qn=L[wt].map;if(B-=Oe,B<0)Oe=Math.max(0,L[wt].g-100),tt=!1;else try{B="req"+B+"_"||"";try{var te=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ji,fi]of te){let di=fi;p(fi)&&(di=Xe(fi)),Mt.push(B+ji+"="+encodeURIComponent(di))}}catch(ji){throw Mt.push(B+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(Qn)}}if(tt){te=Mt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ct||w(),ke||(ct(),ke=!0),I.add(m,u),u.A=0}}function Br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wi(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),js(this),_u(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);ot(m,"RID","rpc"),ot(m,"SID",u.M),ot(m,"AID",u.K),ot(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(m,"TO",u.ia),ot(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vr(Bt(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),Br(this),Pt(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){Aa(u),Ho(u),u.g=null;var b=2}else if(Oi(u.h,m))v=m.G,Oo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Wt(),ae(b,new Si(b,v)),Li(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ba(u,m)||b==2&&Br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new kn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(b,"https"),Vr(b),L?ui(b.toString(),v):Po(b.toString(),v)}else Pt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof kn?Bt(v):new kn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Os(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new kn(null);b&&tn(B,b),m&&(B.g=m),L&&Os(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ot(b,v,m),ot(b,"VER",u.ka),zr(u,b),b}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Vi({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function zs(){}zs.prototype.g=function(u,m){return new bn(u,m)};function bn(u,m){Z.call(this),this.g=new Ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}S(bn,Z),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Bo(this.g)},bn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Xe(u),u=v);m.i.push(new zt(m.Ya++,u)),m.I==3&&Li(m)},bn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,bn.Z.N.call(this)};function wu(u){Et.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,Et);function Ru(){ve.call(this),this.status=1}S(Ru,ve);function is(u){this.g=u}S(is,Su),is.prototype.ra=function(){ae(this.g,"a")},is.prototype.qa=function(u){ae(this.g,new wu(u))},is.prototype.pa=function(u){ae(this.g,new Ru)},is.prototype.oa=function(){ae(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,S1=function(){return new zs},A1=function(){return Wt()},b1=fe,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,zc=Or,Co.COMPLETE="complete",T1=Co,Jt.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",Z.prototype.listen=Z.prototype.J,xl=Jt,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,E1=dt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore",w0="4.9.2";let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Ao="12.3.0";const ua=new xm("@firebase/firestore");function eo(){return ua.logLevel}function le(s,...e){if(ua.logLevel<=Ye.DEBUG){const i=e.map(jm);ua.debug(`Firestore (${Ao}): ${s}`,...i)}}function Rs(s,...e){if(ua.logLevel<=Ye.ERROR){const i=e.map(jm);ua.error(`Firestore (${Ao}): ${s}`,...i)}}function fo(s,...e){if(ua.logLevel<=Ye.WARN){const i=e.map(jm);ua.warn(`Firestore (${Ao}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,w1(s,a,i)}function w1(s,e,i){let a=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function rt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||w1(e,l,a)}function Ne(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class R1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(rt(typeof a.accessToken=="string",31837,{l:a}),new R1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class U2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new U2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=j2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Qe(s,e){return s<e?-1:s>e?1:0}function sm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return qd(l)===qd(c)?Qe(l,c):qd(l)?1:-1}return Qe(s.length,e.length)}const z2=55296,B2=57343;function qd(s){const e=s.charCodeAt(0);return e>=z2&&e<=B2}function mo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const C0="__name__";class Fi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=Fi.isNumericId(e),l=Fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class xt extends Fi{construct(e,i,a){return new xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new xt(i)}static emptyPath(){return new xt([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Fi{construct(e,i,a){return new mn(e,i,a)}static isValidIdentifier(e){return q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C0}static keyField(){return new mn([C0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(xt.fromString(e))}static fromName(e){return new Te(xt.fromString(e).popFirst(5))}static empty(){return new Te(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new xt(e.slice()))}}function H2(s,e,i){if(!i)throw new he(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G2(s,e,i,a){if(e===!0&&a===!0)throw new he(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x0(s){if(!Te.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function _i(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(s);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function eu(s,e){if(!C1(s))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(J.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,N0=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*N0);return new At(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Qt("string",At._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new At(0,0))}static max(){return new xe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function F2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(a===1e9?new At(i+1,0):new At(i,a));return new Tr(l,Te.empty(),e)}function Y2(s){return new Tr(s.readTime,s.key,zl)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(xe.min(),Te.empty(),zl)}static max(){return new Tr(xe.max(),Te.empty(),zl)}}function Q2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const K2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==K2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const qm=-1;function ph(s){return s==null}function th(s){return s===0&&1/s==-1/0}function Z2(s){return typeof s=="number"&&Number.isInteger(s)&&!th(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const x1="";function J2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=D0(e)),e=W2(s.get(i),e);return D0(e)}function W2(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case x1:i+="";break;default:i+=c}}return i}function D0(s){return s+x1+""}function O0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Cr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function I1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class It{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new It(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??dn.RED,this.left=l??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new dn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Zt(this.comparator);return i.data=e,i}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Hn([])}unionWith(e){let i=new Zt(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new N1("Invalid base64 string: "+c):c}})(e);return new gn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new gn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=eR.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?gn.fromBase64String(s):gn.fromUint8Array(s)}const D1="server_timestamp",O1="__type__",M1="__previous_value__",V1="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[O1]?.stringValue===D1}function yh(s){const e=s.mapValue.fields[M1];return Hm(e)?yh(e):e}function Bl(s){const e=br(s.mapValue.fields[V1].timestampValue);return new At(e.seconds,e.nanos)}class tR{constructor(e,i,a,l,c,d,p,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const nh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||nh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const k1="__type__",nR="__max__",Mc={mapValue:{}},U1="__vector__",ih="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:sR(s)?9007199254740991:iR(s)?10:11:Ae(28295,{value:s})}function Ji(s,e){if(s===e)return!0;const i=Sr(s);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=br(l.timestampValue),p=br(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Ar(l.bytesValue).isEqual(Ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ut(l.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(l.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ut(l.integerValue)===Ut(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ut(l.doubleValue),p=Ut(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return mo(s.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(O0(d)!==O0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ji(d[_],p[_])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find((i=>Ji(i,e)))!==void 0}function go(s,e){if(s===e)return 0;const i=Sr(s),a=Sr(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ut(c.integerValue||c.doubleValue),_=Ut(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return V0(s.timestampValue,e.timestampValue);case 4:return V0(Bl(s),Bl(e));case 5:return sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ar(c),_=Ar(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Qe(p[y],_[y]);if(E!==0)return E}return Qe(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Qe(Ut(c.latitude),Ut(d.latitude));return p!==0?p:Qe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return k0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[ih]?.arrayValue,E=_[ih]?.arrayValue,S=Qe(y?.values?.length||0,E?.values?.length||0);return S!==0?S:k0(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const M=sm(_[S],E[S]);if(M!==0)return M;const G=go(p[_[S]],y[E[S]]);if(G!==0)return G}return Qe(_.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function V0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=br(s),a=br(e),l=Qe(i.seconds,a.seconds);return l!==0?l:Qe(i.nanos,a.nanos)}function k0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=go(i[l],a[l]);if(c)return c}return Qe(i.length,a.length)}function po(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Bc(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Bc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Bc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Cr(a.fields,((c,d)=>{l+=c.length+Bc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function am(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function U0(s){return!!s&&"nullValue"in s}function L0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function iR(s){return(s?.mapValue?.fields||{})[k1]?.stringValue===U1}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Cr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Vl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Vl(s.arrayValue.values[i]);return e}return{...s}}function sR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nR}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(i)}setAll(e){let i=mn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Cr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Mn(Vl(this.value))}}function L1(s){const e=[];return Cr(s.fields,((i,a)=>{const l=new mn([i]);if(qc(a)){const c=L1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Hn(e)}class En{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new En(e,0,xe.min(),xe.min(),xe.min(),Mn.empty(),0)}static newFoundDocument(e,i,a,l){return new En(e,1,i,xe.min(),a,l,0)}static newNoDocument(e,i){return new En(e,2,i,xe.min(),xe.min(),Mn.empty(),0)}static newUnknownDocument(e,i){return new En(e,3,i,xe.min(),xe.min(),Mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,i){this.position=e,this.inclusive=i}}function P0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=go(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ji(s.position[i],e.position[i]))return!1;return!0}class rh{constructor(e,i="asc"){this.field=e,this.dir=i}}function rR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class P1{}class $t extends P1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new oR(e,i,a):i==="array-contains"?new cR(e,a):i==="in"?new hR(e,a):i==="not-in"?new fR(e,a):i==="array-contains-any"?new dR(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new lR(e,a):new uR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends P1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return j1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j1(s){return s.op==="and"}function z1(s){return aR(s)&&j1(s)}function aR(s){for(const e of s.filters)if(e instanceof Wi)return!1;return!0}function om(s){if(s instanceof $t)return s.field.canonicalString()+s.op.toString()+po(s.value);if(z1(s))return s.filters.map((e=>om(e))).join(",");{const e=s.filters.map((i=>om(i))).join(",");return`${s.op}(${e})`}}function B1(s,e){return s instanceof $t?(function(a,l){return l instanceof $t&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(s,e):s instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&B1(d,l.filters[p])),!0):!1})(s,e):void Ae(19439)}function q1(s){return s instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(q1).join(" ,")+"}"})(s):"Filter"}class oR extends $t{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class lR extends $t{constructor(e,i){super(e,"in",i),this.keys=H1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class uR extends $t{constructor(e,i){super(e,"not-in",i),this.keys=H1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function H1(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class cR extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gm(i)&&Hl(i.arrayValue,this.value)}}class hR extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class fR extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class dR extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}class mR{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function z0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new mR(s,e,i,a,l,c,d)}function Fm(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>po(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>po(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!rR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!B1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!j0(s.startAt,e.startAt)&&j0(s.endAt,e.endAt)}function lm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gR(s,e,i,a,l,c,d,p){return new _h(s,e,i,a,l,c,d,p)}function vh(s){return new _h(s)}function B0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pR(s){return s.collectionGroup!==null}function kl(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Zt(mn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new rh(c,a))})),i.has(mn.keyField().canonicalString())||e.Ie.push(new rh(mn.keyField(),a))}return e.Ie}function Ki(s){const e=Ne(s);return e.Ee||(e.Ee=yR(e,kl(s))),e.Ee}function yR(s,e){if(s.limitType==="F")return z0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rh(l.field,c)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return z0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function um(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Eh(s,e){return Ym(Ki(s),Ki(e))&&s.limitType===e.limitType}function G1(s){return`${Fm(Ki(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>q1(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(Ki(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of kl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=P0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,kl(a),l)||a.endAt&&!(function(d,p,_){const y=P0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,kl(a),l))})(s,e)}function _R(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function F1(s){return(e,i)=>{let a=!1;for(const l of kl(s)){const c=vR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function vR(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?go(_,y):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Cr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return I1(this.inner)}size(){return this.innerSize}}const ER=new It(Te.comparator);function Cs(){return ER}const Y1=new It(Te.comparator);function Il(...s){let e=Y1;for(const i of s)e=e.insert(i.key,i);return e}function Q1(s){let e=Y1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ra(){return Ul()}function K1(){return Ul()}function Ul(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const TR=new It(Te.comparator),bR=new Zt(Te.comparator);function Ke(...s){let e=bR;for(const i of s)e=e.add(i);return e}const AR=new Zt(Qe);function SR(){return AR}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function X1(s){return{integerValue:""+s}}function $1(s,e){return Z2(e)?X1(e):Qm(s,e)}class bh{constructor(){this._=void 0}}function wR(s,e,i){return s instanceof ah?(function(l,c){const d={fields:{[O1]:{stringValue:D1},[V1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=yh(c)),c&&(d.fields[M1]=c),{mapValue:d}})(i,e):s instanceof yo?J1(s,e):s instanceof Gl?W1(s,e):(function(l,c){const d=Z1(l,c),p=q0(d)+q0(l.Ae);return am(d)&&am(l.Ae)?X1(p):Qm(l.serializer,p)})(s,e)}function RR(s,e,i){return s instanceof yo?J1(s,e):s instanceof Gl?W1(s,e):i}function Z1(s,e){return s instanceof Fl?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ah extends bh{}class yo extends bh{constructor(e){super(),this.elements=e}}function J1(s,e){const i=eE(e);for(const a of s.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Gl extends bh{constructor(e){super(),this.elements=e}}function W1(s,e){let i=eE(e);for(const a of s.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class Fl extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function q0(s){return Ut(s.integerValue||s.doubleValue)}function eE(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class tE{constructor(e,i){this.field=e,this.transform=i}}function CR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof yo&&l instanceof yo||a instanceof Gl&&l instanceof Gl?mo(a.elements,l.elements,Ji):a instanceof Fl&&l instanceof Fl?Ji(a.Ae,l.Ae):a instanceof ah&&l instanceof ah})(s.transform,e.transform)}class xR{constructor(e,i){this.version=e,this.transformResults=i}}class vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function nE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,vi.none()):new tu(s.key,s.data,vi.none());{const i=s.data,a=Mn.empty();let l=new Zt(mn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new xr(s.key,a,new Hn(l.toArray()),vi.none())}}function IR(s,e,i){s instanceof tu?(function(l,c,d){const p=l.value.clone(),_=G0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof xr?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=G0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(iE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(s,e,i,a){return s instanceof tu?(function(c,d,p,_){if(!Hc(c.precondition,d))return p;const y=c.value.clone(),E=F0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof xr?(function(c,d,p,_){if(!Hc(c.precondition,d))return p;const y=F0(c.fieldTransforms,_,d),E=d.data;return E.setAll(iE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function NR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=Z1(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function H0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&mo(a,l,((c,d)=>CR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class tu extends Ah{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Ah{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function G0(s,e,i){const a=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,RR(d,p,i[l]))}return a}function F0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,wR(c,d,e))}return a}class Km extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DR extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&IR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=K1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=nE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((i,a)=>H0(i,a)))&&mo(this.baseMutations,e.baseMutations,((i,a)=>H0(i,a)))}}class Xm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){rt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return TR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Xm(e,i,a,l)}}class MR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class VR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Yt,Ze;function kR(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function sE(s){if(s===void 0)return Rs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Yt.OK:return J.OK;case Yt.CANCELLED:return J.CANCELLED;case Yt.UNKNOWN:return J.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return J.INTERNAL;case Yt.UNAVAILABLE:return J.UNAVAILABLE;case Yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Yt.NOT_FOUND:return J.NOT_FOUND;case Yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Yt.ABORTED:return J.ABORTED;case Yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Yt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ze=Yt||(Yt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function UR(){return new TextEncoder}const LR=new _r([4294967295,4294967295],0);function Y0(s){const e=UR().encode(s),i=new v1;return i.update(e),new Uint8Array(i.digest())}function Q0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([l,c],0)]}class $m{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(_r.fromNumber(a)));return l.compare(LR)===1&&(l=new _r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y0(e),[a,l]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Y0(e),[a,l]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Sh(xe.min(),l,new It(Qe),Cs(),Ke())}}class nu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new nu(a,i,Ke(),Ke(),Ke())}}class Gc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class rE{constructor(e,i){this.targetId=e,this.Ce=i}}class aE{constructor(e,i,a=gn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class K0{constructor(){this.ve=0,this.Fe=X0(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ae(38017,{changeType:c})}})),new nu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=Vc(),this.He=Vc(),this.Ye=new It(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new Te(c.path);this.et(i,d,En.newNoDocument(d,xe.min()))}else rt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ar(a).toUint8Array()}catch(_){if(_ instanceof N1)return fo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,c)}catch(_){return fo(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new Te(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,En.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Sh(e,i,this.Ye,this.je,a);return this.je=Cs(),this.Je=Vc(),this.He=Vc(),this.Ye=new It(Qe),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new K0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Zt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Zt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new It(Te.comparator)}function X0(){return new It(Te.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class qR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function oh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function HR(s,e){return oh(s,e.toTimestamp())}function Xi(s){return rt(!!s,49232),xe.fromTimestamp((function(i){const a=br(i);return new At(a.seconds,a.nanos)})(s))}function Zm(s,e){return hm(s,e).canonicalString()}function hm(s,e){const i=(function(l){return new xt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function lE(s){const e=xt.fromString(s);return rt(dE(e),10190,{key:e.toString()}),e}function fm(s,e){return Zm(s.databaseId,e.path)}function Hd(s,e){const i=lE(e);if(i.get(1)!==s.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(cE(i))}function uE(s,e){return Zm(s.databaseId,e)}function GR(s){const e=lE(s);return e.length===4?xt.emptyPath():cE(e)}function dm(s){return new xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function cE(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $0(s,e,i){return{name:fm(s,e),fields:i.value.mapValue.fields}}function FR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(rt(E===void 0||typeof E=="string",58123),gn.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),gn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?J.UNKNOWN:sE(y.code);return new he(E,y.message||"")})(d);i=new aE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(s,a.document.name),c=Xi(a.document.updateTime),d=a.document.createTime?Xi(a.document.createTime):xe.min(),p=new Mn({mapValue:{fields:a.document.fields}}),_=En.newFoundDocument(l,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Gc(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Hd(s,a.document),c=a.readTime?Xi(a.readTime):xe.min(),d=En.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Hd(s,a.document),c=a.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new VR(l,c),p=a.targetId;i=new rE(p,d)}}return i}function YR(s,e){let i;if(e instanceof tu)i={update:$0(s,e.key,e.value)};else if(e instanceof Km)i={delete:fm(s,e.key)};else if(e instanceof xr)i={update:$0(s,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof DR))return Ae(16599,{Vt:e.type});i={verify:fm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:HR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function QR(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Xi(l.updateTime):Xi(c);return d.isEqual(xe.min())&&(d=Xi(c)),new xR(d,l.transformResults||[])})(i,e)))):[]}function KR(s,e){return{documents:[uE(s,e.path)]}}function XR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=uE(s,l);const c=(function(y){if(y.length!==0)return fE(Wi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:no(M.field),direction:JR(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function $R(s){let e=GR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){rt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const M=hE(S);return M instanceof Wi&&z1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(ee){return new rh(io(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,G=S.values||[];return new sh(G,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,G=S.values||[];return new sh(G,M)})(i.endAt)),gR(e,l,d,c,p,"F",_,y)}function ZR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return $t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return $t.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>hE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function JR(s){return jR[s]}function WR(s){return zR[s]}function eC(s){return BR[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return mn.fromServerFormat(s.fieldPath)}function fE(s){return s instanceof $t?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:WR(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const a=i.getFilters().map((l=>fE(l)));return a.length===1?a[0]:{compositeFilter:{op:eC(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function tC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function dE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class mr{constructor(e,i,a,l,c=xe.min(),d=xe.min(),p=gn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nC{constructor(e){this.yt=e}}function iC(s){const e=$R({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?um(e,e.limit,"L"):e}class sC{constructor(){this.Cn=new rC}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Tr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class rC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Zt(xt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Zt(xt.comparator)).toArray()}}const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(mE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const J0="LruGarbageCollector",aC=1048576;function W0([s,e],[i,a]){const l=Qe(s,i);return l===0?Qe(e,a):l}class oC{constructor(e){this.Ir=e,this.buffer=new Zt(W0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(J0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?le(J0,"Ignoring IndexedDB error during garbage collection: ",i):await So(i)}await this.Vr(3e5)}))}}class uC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(gh.ce);const a=new oC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Z0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),eo()<=Ye.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function cC(s,e){return new uC(s,e)}class hC{constructor(){this.changes=new fa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class dC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ll(a.mutation,l,Hn.empty(),At.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const l=ra();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Il();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=Cs();const d=Ul(),p=(function(){return Ul()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof xr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Ll(E.mutation,y,E.mutation.getFieldMask(),At.now())):d.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new fC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Ul();let l=new It(((d,p)=>d-p)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Hn.empty();E=p.applyToLocalView(y,E),a.set(_,E);const S=(l.get(p.batchId)||Ke()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,S=K1();E.forEach((M=>{if(!c.has(M)){const G=nE(i.get(M),a.get(M));G!==null&&S.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ra());let p=zl,_=c;return d.next((y=>$.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ke()))).next((E=>({batchId:p,changes:Q1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new _h(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((E=>{E.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,En.newInvalidDocument(E)))}));let p=Il();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Ll(E.mutation,y,Hn.empty(),At.now()),Th(i,y)&&(p=p.insert(_,y))})),p}))}}class mC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:iC(l.bundledQuery),readTime:Xi(l.readTime)}})(i)),$.resolve()}}class gC{constructor(){this.overlays=new It(Te.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ra(),c=i.length+1,d=new Te(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new It(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ra(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ra(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return $.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new MR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class pC{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Jm{constructor(){this.Qr=new Zt(sn.$r),this.Ur=new Zt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new xt([])),a=new sn(i,e),l=new sn(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new xt([])),a=new sn(i,e),l=new sn(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class yC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(sn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new sn(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),l=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Zt(Qe);return i.forEach((l=>{const c=new sn(l,0),d=new sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new sn(new Te(c),0);let p=new Zt(Qe);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new sn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new sn(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class _C{constructor(e){this.ri=e,this.docs=(function(){return new It(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():En.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():En.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cs();const d=i.path,p=new Te(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Q2(Y2(E),a)<=0||(l.has(E.key)||Th(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ae(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new vC(this)}getSize(e){return $.resolve(this.size)}}class vC extends hC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class EC{constructor(e){this.persistence=e,this.si=new fa((i=>Fm(i)),Ym),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class gE{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new pC,this.referenceDelegate=e(this),this.Pi=new EC(this),this.indexManager=new sC,this.remoteDocumentCache=(function(l){return new _C(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nC(i),this.Ii=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new yC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const l=new TC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class TC extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=Te.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.pi=new fa((a=>J2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=cC(this,i)}static mi(e,i){return new lh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class eg{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ke(),l=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new eg(e,i.fromCache,a,l)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hA()?8:$2(Tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=Ye.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(eo()<=Ye.DEBUG&&le("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=Ye.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):$.resolve())}ys(e,i){if(B0(i))return $.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,um(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return B0(i)||l.isEqual(xe.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(eo()<=Ye.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,F2(l,zl)).next((p=>p)))}))}Ds(e,i){let a=new Zt(F1(e));return i.forEach(((l,c)=>{Th(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=Ye.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",SC=3e8;class wC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new It(Qe),this.xs=new fa((c=>Fm(c)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function RC(s,e,i,a){return new wC(s,e,i,a)}async function pE(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ke();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function CC(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const S=y.batch,M=S.keys();let G=$.resolve();return M.forEach((ee=>{G=G.next((()=>E.getEntry(_,ee))).next((ne=>{const W=y.docVersions.get(ee);rt(W!==null,48541),ne.version.compareTo(W)<0&&(S.applyToRemoteDocument(ne,y),ne.isValidDocument()&&(ne.setReadTime(y.commitVersion),E.addEntry(ne)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ke();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yE(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function xC(s,e){const i=Ne(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(gn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),l=l.insert(S,G),(function(ne,W,ye){return ne.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=SC?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,G,E)&&p.push(i.Pi.updateTargetData(c,G))}));let _=Cs(),y=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(IC(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(xe.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function IC(s,e,i){let a=Ke(),l=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Cs();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):le(tg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function NC(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function DC(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function mm(s,e,i){const a=Ne(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;le(tg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function ev(s,e,i){const a=Ne(s);let l=xe.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=Ne(_),M=S.xs.get(E);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,E)})(a,d,Ki(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?c:Ke()))).next((p=>(OC(a,_R(e),p),{documents:p,Qs:c})))))}function OC(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class tv{constructor(){this.activeTargetIds=SR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MC{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VC{Oo(e){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function gm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Gd="RestConnection",kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=gm(),p=this.zo(e,i.toUriEncodedString());le(Gd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),E=Eo(y);return this.Jo(e,p,_,a,E).then((S=>(le(Gd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw fo(Gd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=kC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class LC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class PC extends UC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=gm();return new Promise(((p,_)=>{const y=new E1;y.setWithCredentials(!0),y.listenOnce(T1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const S=y.getResponseJson();le(yn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case zc.TIMEOUT:le(yn,`RPC '${e}' ${d} timed out`),_(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=y.getStatus();if(le(yn,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const ne=(function(ye){const Ce=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ce)>=0?Ce:J.UNKNOWN})(ee.status);_(new he(ne,ee.message))}else _(new he(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new he(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(yn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);le(yn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S1(),p=A1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");le(yn,`Creating RPC '${e}' stream ${l}: ${E}`,_);const S=d.createWebChannel(E,_);this.I_(S);let M=!1,G=!1;const ee=new LC({Yo:W=>{G?le(yn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(M||(le(yn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),le(yn,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),ne=(W,ye,Ce)=>{W.listen(ye,(me=>{try{Ce(me)}catch(it){setTimeout((()=>{throw it}),0)}}))};return ne(S,xl.EventType.OPEN,(()=>{G||(le(yn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ne(S,xl.EventType.CLOSE,(()=>{G||(G=!0,le(yn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(S))})),ne(S,xl.EventType.ERROR,(W=>{G||(G=!0,fo(yn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),ne(S,xl.EventType.MESSAGE,(W=>{if(!G){const ye=W.data[0];rt(!!ye,16349);const Ce=ye,me=Ce?.error||Ce[0]?.error;if(me){le(yn,`RPC '${e}' stream ${l} received error:`,me);const it=me.status;let ct=(function(w){const x=Yt[w];if(x!==void 0)return sE(x)})(it),ke=me.message;ct===void 0&&(ct=J.INTERNAL,ke="Unknown error status: "+it+" with message "+me.message),G=!0,ee.a_(new he(ct,ke)),S.close()}else le(yn,`RPC '${e}' stream ${l} received:`,ye),ee.u_(ye)}})),ne(p,b1.STAT_EVENT,(W=>{W.stat===im.PROXY?le(yn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===im.NOPROXY&&le(yn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Fd(){return typeof document<"u"?document:null}function wh(s){return new qR(s,!0)}class _E{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class vE{constructor(e,i,a,l,c,d,p,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _E(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jC extends vE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Xi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:KR(c,_)}:{query:XR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=oE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=ZR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.q_(i)}}class zC extends vE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=QR(e.writeResults,e.commitTime),a=Xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>YR(this.serializer,a)))};this.q_(i)}}class BC{}class qC extends BC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,hm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class GC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{da(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(_){const y=Ne(_);y.Ea.add(4),await iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new HC(a,l)}}async function Rh(s){if(da(s))for(const e of s.da)await e(!0)}async function iu(s){for(const e of s.da)await e(!1)}function EE(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rg(i)?sg(i):Ro(i).O_()&&ig(i,e))}function ng(s,e){const i=Ne(s),a=Ro(i);i.Ia.delete(e),a.O_()&&TE(i,e),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Ra.set("Unknown"))}function ig(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ro(s).Y_(e)}function TE(s,e){s.Va.Ue(e),Ro(s).Z_(e)}function sg(s){s.Va=new PR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Ra.ua()}function rg(s){return da(s)&&!Ro(s).x_()&&s.Ia.size>0}function da(s){return Ne(s).Ea.size===0}function bE(s){s.Va=void 0}async function FC(s){s.Ra.set("Online")}async function YC(s){s.Ia.forEach(((e,i)=>{ig(s,e)}))}async function QC(s,e){bE(s),rg(s)?(s.Ra.ha(e),sg(s)):s.Ra.set("Unknown")}async function KC(s,e,i){if(s.Ra.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(s,a)}else if(e instanceof Gc?s.Va.Ze(e):e instanceof rE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await yE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(gn.EMPTY_BYTE_STRING,E.snapshotVersion)),TE(c,_);const S=new mr(E.target,_,y,E.sequenceNumber);ig(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(ca,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,e,i){if(!wo(e))throw e;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),i||(i=()=>yE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function AE(s,e){return e().catch((i=>uh(s,i,e)))}async function Ch(s){const e=Ne(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;XC(e);)try{const l=await NC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,$C(e,l)}catch(l){await uh(e,l)}SE(e)&&wE(e)}function XC(s){return da(s)&&s.Ta.length<10}function $C(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function SE(s){return da(s)&&!wr(s).x_()&&s.Ta.length>0}function wE(s){wr(s).start()}async function ZC(s){wr(s).ra()}async function JC(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function WC(s,e,i){const a=s.Ta.shift(),l=Xm.from(a,e,i);await AE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function ex(s,e){e&&wr(s).X_&&await(async function(a,l){if((function(d){return kR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();wr(a).B_(),await AE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(s,e),SE(s)&&wE(s)}async function rv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await iu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function tx(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new jC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:FC.bind(null,s),t_:YC.bind(null,s),r_:QC.bind(null,s),H_:KC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rg(s)?sg(s):s.Ra.set("Unknown")):(await s.ma.stop(),bE(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZC.bind(null,s),r_:ex.bind(null,s),ta:JC.bind(null,s),na:WC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ca,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new ag(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),wo(s))return new he(J.UNAVAILABLE,`${e}: ${s}`);throw s}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new uo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class av{constructor(){this.ga=new It(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class vo{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new vo(e,i,uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class nx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ix{constructor(){this.queries=ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=ov(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function ov(){return new fa((s=>G1(s)),Eh)}async function RE(s,e){const i=Ne(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new nx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=og(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lg(i)}async function CE(s,e){const i=Ne(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function sx(s,e){const i=Ne(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&lg(i)}function rx(s,e,i){const a=Ne(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function lg(s){s.Ca.forEach((e=>{e.next()}))}var pm,lv;(lv=pm||(pm={})).Ma="default",lv.Cache="cache";class xE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new vo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class IE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class ax{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=F1(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new av,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const M=l.get(E),G=Th(this.query,S)?S:null,ee=!!M&&this.mutatedKeys.has(M.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?ee!==ne&&(a.track({type:3,doc:G}),W=!0):this.su(M,G)||(a.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),W=!0):M&&!G&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(G?(d=d.add(G),c=ne?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(G,ee){const ne=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:W})}};return ne(G)-ne(ee)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new vo(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new NE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new IE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class ox{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class lx{constructor(e){this.key=e,this.hu=!1}}class ux{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((p=>G1(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new It(Te.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cx(s,e,i=!0){const a=UE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await DE(a,e,i,!0),l}async function hx(s,e){const i=UE(s);await DE(i,e,!0,!1)}async function DE(s,e,i,a){const l=await DC(s.localStore,Ki(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await fx(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&EE(s.remoteStore,l),p}async function fx(s,e,i,a,l){s.pu=(S,M,G)=>(async function(ne,W,ye,Ce){let me=W.view.ru(ye);me.Cs&&(me=await ev(ne.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,me))));const it=Ce&&Ce.targetChanges.get(W.targetId),ct=Ce&&Ce.targetMismatches.get(W.targetId)!=null,ke=W.view.applyChanges(me,ne.isPrimaryClient,it,ct);return cv(ne,W.targetId,ke.au),ke.snapshot})(s,S,M,G);const c=await ev(s.localStore,e,!0),d=new ax(e,c.Qs),p=d.ru(c.documents),_=nu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);cv(s,i,y.au);const E=new ox(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function dx(s,e,i){const a=Ne(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ng(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(So)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function mx(s,e){const i=Ne(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function gx(s,e,i){const a=bx(s);try{const l=await(function(d,p){const _=Ne(d),y=At.now(),E=p.reduce(((G,ee)=>G.add(ee.key)),Ke());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=Cs(),ne=Ke();return _.Ns.getEntries(G,E).next((W=>{ee=W,ee.forEach(((ye,Ce)=>{Ce.isValidDocument()||(ne=ne.add(ye))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ee))).next((W=>{S=W;const ye=[];for(const Ce of p){const me=NR(Ce,S.get(Ce.key).overlayedDocument);me!=null&&ye.push(new xr(Ce.key,me,L1(me.value.mapValue),vi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,ye,p)})).next((W=>{M=W;const ye=W.applyToLocalDocumentSet(S,ne);return _.documentOverlayCache.saveOverlays(G,W.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:Q1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new It(Qe)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await su(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=og(l,"Failed to persist write");i.reject(c)}}async function OE(s,e){const i=Ne(s);try{const a=await xC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(rt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?rt(d.hu,14607):l.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await su(i,a,e)}catch(a){await So(a)}}function uv(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Ne(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&lg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function px(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new It(Te.comparator);d=d.insert(c,En.newNoDocument(c,xe.min()));const p=Ke().add(c),_=new Sh(xe.min(),new Map,new It(Qe),d,p);await OE(a,_),a.du=a.du.remove(c),a.Au.delete(e),cg(a)}else await mm(a.localStore,e,!1).then((()=>ym(a,e,i))).catch(So)}async function yx(s,e){const i=Ne(s),a=e.batch.batchId;try{const l=await CC(i.localStore,e);VE(i,a,null),ME(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await su(i,l)}catch(l){await So(l)}}async function _x(s,e,i){const a=Ne(s);try{const l=await(function(d,p){const _=Ne(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(rt(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);VE(a,e,i),ME(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await su(a,l)}catch(l){await So(l)}}function ME(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function VE(s,e,i){const a=Ne(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||kE(s,a)}))}function kE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ng(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),cg(s))}function cv(s,e,i){for(const a of i)a instanceof IE?(s.Ru.addReference(a.key,e),vx(s,a)):a instanceof NE?(le(ug,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||kE(s,a.key)):Ae(19791,{wu:a})}function vx(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(le(ug,"New document in limbo: "+i),s.Eu.add(a),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(xt.fromString(e)),a=s.fu.next();s.Au.set(a,new lx(i)),s.du=s.du.insert(i,a),EE(s.remoteStore,new mr(Ki(vh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function su(s,e,i){const a=Ne(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=eg.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const E=Ne(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>$.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!wo(S))throw S;le(tg,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const G=E.Ms.get(M),ee=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(ee);E.Ms=E.Ms.insert(M,ne)}}})(a.localStore,c))}async function Ex(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){le(ug,"User change. New user:",e.toKey());const a=await pE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new he(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await su(i,a.Ls)}}function Tx(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let l=Ke();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function UE(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Pu.H_=sx.bind(null,e.eventManager),e.Pu.yu=rx.bind(null,e.eventManager),e}function bx(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_x.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return RC(this.persistence,new AC,e.initialUser,this.serializer)}Cu(e){return new gE(Wm.mi,this.serializer)}Du(e){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class Ax extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new gE((a=>lh.mi(a,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,this.syncEngine),await tx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ix})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),a=(function(c){return new PC(c)})(e.databaseInfo);return(function(c,d,p,_){return new qC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new GC(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new VC})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,E){const S=new ux(l,c,d,p,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);le(ca,"RemoteStore shutting down."),a.Ea.add(5),await iu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class LE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class Sx{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=vn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=og(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Yd(s,e){s.asyncQueue.verifyOperationInProgress(),le(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function hv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await wx(s);le(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>rv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>rv(e.remoteStore,l))),s._onlineComponents=e}async function wx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(Rr,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Yd(s,new ch)}}else le(Rr,"Using default OfflineComponentProvider"),await Yd(s,new Ax(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(Rr,"Using user provided OnlineComponentProvider"),await hv(s,s._uninitializedComponentsProvider._online)):(le(Rr,"Using default OnlineComponentProvider"),await hv(s,new _m))),s._onlineComponents}function Rx(s){return PE(s).then((e=>e.syncEngine))}async function vm(s){const e=await PE(s),i=e.eventManager;return i.onListen=cx.bind(null,e.syncEngine),i.onUnlisten=dx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mx.bind(null,e.syncEngine),i}function Cx(s,e,i={}){const a=new vr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new LE({next:M=>{E.Nu(),d.enqueueAndForget((()=>CE(c,S)));const G=M.docs.has(p);!G&&M.fromCache?y.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&_&&_.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new xE(vh(p.path),E,{includeMetadataChanges:!0,qa:!0});return RE(c,S)})(await vm(s),s.asyncQueue,e,i,a))),a.promise}function jE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const fv=new Map;const zE="firestore.googleapis.com",dv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=dv}else this.host=e.host,this.ssl=e.ssl??dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new M2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(le("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function xx(s,e,i,a={}){s=_i(s,hg);const l=Eo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Vv(`https://${p}`),kv("Firestore",!0)),c.host!==zE&&c.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Er(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=vn.MOCK_USER;else{y=nA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(S)}s._authCredentials=new V2(new R1(y,E))}}class xh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new xh(this.firestore,e,this._query)}}class Kt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(eu(i,Kt._jsonSchema))return new Kt(e,a||null,new Te(xt.fromString(i.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Qt("string",Kt._jsonSchemaVersion),referencePath:Qt("string")};class Yl extends xh{constructor(e,i,a){super(e,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Te(e))}withConverter(e){return new Yl(this.firestore,e,this._path)}}function cn(s,e,...i){if(s=Sn(s),arguments.length===1&&(e=zm.newId()),H2("doc","path",e),s instanceof hg){const a=xt.fromString(e,...i);return x0(a),new Kt(s,null,new Te(a))}{if(!(s instanceof Kt||s instanceof Yl))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(xt.fromString(e,...i));return x0(a),new Kt(s.firestore,s instanceof Yl?s.converter:null,new Te(a))}}const gv="AsyncQueue";class pv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _E(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&le(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;le(gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ag.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function yv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function _v(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ha extends hg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new pv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,await e}}}function Ix(s,e){const i=typeof s=="object"?s:jv(),a=typeof s=="string"?s:nh,l=Nm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=eA("firestore");c&&xx(l,...c)}return l}function fg(s){if(s._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Nx(s),s._firestoreClient}function Nx(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new tR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,jE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Sx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(gn.fromBase64String(e))}catch(i){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ii(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:Qt("string",ii._jsonSchemaVersion),bytes:Qt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._methodName=e}}class $i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(eu(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Qt("string",$i._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zi(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Qt("string",Zi._jsonSchemaVersion),vectorValues:Qt("object")};const Dx=/^__.*__$/;class Ox{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class BE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new xr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function qE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Nh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qE(this.Ac)&&Dx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Mx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||wh(e)}Cc(e,i,a,l=!1){return new Nh({Ac:e,methodName:i,Dc:a,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HE(s){const e=s._freezeSettings(),i=wh(s._databaseId);return new Mx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Vx(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);gg("Data must be an object, but it was:",d,a);const p=GE(a,d);let _,y;if(c.merge)_=new Hn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const M=Em(e,S,i);if(!d.contains(M))throw new he(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);YE(E,M)||E.push(M)}_=new Hn(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new Ox(new Mn(p),_,y)}class Dh extends ru{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function kx(s,e,i){return new Nh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends ru{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=kx(this,e,!0),a=this.vc.map((c=>au(c,i))),l=new yo(a);return new tE(e.path,l)}isEqual(e){return e instanceof dg&&Er(this.vc,e.vc)}}class mg extends ru{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new Fl(e.serializer,$1(e.serializer,this.Fc));return new tE(e.path,i)}isEqual(e){return e instanceof mg&&this.Fc===e.Fc}}function Ux(s,e,i,a){const l=s.Cc(1,e,i);gg("Data must be an object, but it was:",l,a);const c=[],d=Mn.empty();Cr(a,((_,y)=>{const E=pg(e,_,i);y=Sn(y);const S=l.yc(E);if(y instanceof Dh)c.push(E);else{const M=au(y,S);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Hn(c);return new BE(d,p,l.fieldTransforms)}function Lx(s,e,i,a,l,c){const d=s.Cc(1,e,i),p=[Em(e,a,i)],_=[l];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Em(e,c[M])),_.push(c[M+1]);const y=[],E=Mn.empty();for(let M=p.length-1;M>=0;--M)if(!YE(y,p[M])){const G=p[M];let ee=_[M];ee=Sn(ee);const ne=d.yc(G);if(ee instanceof Dh)y.push(G);else{const W=au(ee,ne);W!=null&&(y.push(G),E.set(G,W))}}const S=new Hn(y);return new BE(E,S,d.fieldTransforms)}function au(s,e){if(FE(s=Sn(s)))return gg("Unsupported field value:",e,s),GE(s,e);if(s instanceof ru)return(function(a,l){if(!qE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=au(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return $1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=At.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof At){const c=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof $i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:oE(l.serializer,a._byteString)};if(a instanceof Kt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,p){return{mapValue:{fields:{[k1]:{stringValue:U1},[ih]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Bm(a)}`)})(s,e)}function GE(s,e){const i={};return I1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cr(s,((a,l)=>{const c=au(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function FE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof At||s instanceof $i||s instanceof ii||s instanceof Kt||s instanceof ru||s instanceof Zi)}function gg(s,e,i){if(!FE(i)||!C1(i)){const a=Bm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Em(s,e,i){if((e=Sn(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return pg(s,e);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const Px=new RegExp("[~\\*/\\[\\]]");function pg(s,e,i){if(e.search(Px)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new he(J.INVALID_ARGUMENT,p+s+_)}function YE(s,e){return s.some((i=>i.isEqual(e)))}class QE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jx extends QE{data(){return super.data()}}function KE(s,e){return typeof e=="string"?pg(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function zx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bx{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Cr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ih].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new Zi(i)}convertGeoPoint(e){return new $i(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=br(e);return new At(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=xt.fromString(e);rt(dE(a),9688,{name:e});const l=new ql(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qx(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends QE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(KE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Qt("string",aa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Fc extends aa{data(e={}){return super.data(e)}}class co{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Dl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Hx(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Hx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function vv(s){s=_i(s,Kt);const e=_i(s.firestore,ha);return Cx(fg(e),s._key).then((i=>$E(e,s,i)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Qt("string",co._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class XE extends Bx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,i)}}function Gx(s,e,i){s=_i(s,Kt);const a=_i(s.firestore,ha),l=qx(s.converter,e);return yg(a,[Vx(HE(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,vi.none())])}function _n(s,e,i,...a){s=_i(s,Kt);const l=_i(s.firestore,ha),c=HE(l);let d;return d=typeof(e=Sn(e))=="string"||e instanceof Ih?Lx(c,"updateDoc",s._key,e,i,a):Ux(c,"updateDoc",s._key,e),yg(l,[d.toMutation(s._key,vi.exists(!0))])}function Fx(s){return yg(_i(s.firestore,ha),[new Km(s._key,vi.none())])}function Yx(s,...e){s=Sn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Kt)d=_i(s.firestore,ha),p=vh(s._key.path),c={next:_=>{e[a]&&e[a]($E(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=_i(s,xh);d=_i(_.firestore,ha),p=_._query;const y=new XE(d);c={next:E=>{e[a]&&e[a](new co(d,y,_,E))},error:e[a+1],complete:e[a+2]},zx(s._query)}return(function(y,E,S,M){const G=new LE(M),ee=new xE(E,G,S);return y.asyncQueue.enqueueAndForget((async()=>RE(await vm(y),ee))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>CE(await vm(y),ee)))}})(fg(d),p,l,c)}function yg(s,e){return(function(a,l){const c=new vr;return a.asyncQueue.enqueueAndForget((async()=>gx(await Rx(a),l,c))),c.promise})(fg(s),e)}function $E(s,e,i){const a=i.docs.get(e._key),l=new XE(s);return new aa(s,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}function Gi(...s){return new dg("arrayUnion",s)}function Ev(s){return new mg("increment",s)}(function(e,i=!0){(function(l){Ao=l})(To),ho(new oa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ha(new k2(a.getProvider("auth-internal")),new P2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),yr(S0,w0,e),yr(S0,w0,"esm2020")})();const Qx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Tv=s=>{const e=Kx(s);return e.charAt(0).toUpperCase()+e.slice(1)},ZE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Xx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Zx=st.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>st.createElement("svg",{ref:_,...$x,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:ZE("lucide",l),...!c&&!Xx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>st.createElement(y,E)),...Array.isArray(c)?c:[c]]));const vt=(s,e)=>{const i=st.forwardRef(({className:a,...l},c)=>st.createElement(Zx,{ref:c,iconNode:e,className:ZE(`lucide-${Qx(Tv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Tv(s),i};const Jx=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Wx=vt("anchor",Jx);const eI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tI=vt("arrow-right",eI);const nI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],iI=vt("bomb",nI);const sI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bv=vt("book-open",sI);const rI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Av=vt("circle-check-big",rI);const aI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Tm=vt("coins",aI);const oI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lI=vt("compass",oI);const uI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],JE=vt("crown",uI);const cI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WE=vt("eye",cI);const hI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],bm=vt("footprints",hI);const fI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dI=vt("history",fI);const mI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gI=vt("house",mI);const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yI=vt("info",pI);const _I=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Am=vt("log-out",_I);const vI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EI=vt("rotate-ccw",vI);const TI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bI=vt("settings",TI);const AI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yc=vt("shield",AI);const SI=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Sm=vt("ship",SI);const wI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],wm=vt("skull",wI);const RI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],eT=vt("sword",RI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xI=vt("trash-2",CI);const II=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tT=vt("triangle-alert",II);const NI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_g=vt("trophy",NI);const DI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rm=vt("user",DI);const OI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],MI=vt("utensils",OI);const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nT=vt("x",VI),kI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:e2c7114fcf22055a6aa637"},iT=Pv(kI),Qd=D2(iT),hn=Ix(iT),fn=typeof __app_id<"u"?__app_id:"pirates-game-v1",_t={THIEF:{name:"Thief",val:0,defaultCount:2,icon:bm,color:"text-gray-400",bg:"bg-gray-800",desc:"Gain 1 coin if you survive a round."},GUARD:{name:"Guard",val:1,defaultCount:6,icon:Yc,color:"text-blue-400",bg:"bg-blue-900",desc:"Guess a player's card. If right, they die."},SPY:{name:"Spy",val:2,defaultCount:2,icon:WE,color:"text-emerald-400",bg:"bg-emerald-900",desc:"Look at another player's hand."},SWORDSMAN:{name:"Swordsman",val:3,defaultCount:2,icon:eT,color:"text-red-400",bg:"bg-red-900",desc:"Fight another player. Lower card dies."},COOK:{name:"Cook",val:4,defaultCount:2,icon:MI,color:"text-orange-400",bg:"bg-orange-900",desc:"Immune to effects until your next turn."},CANNONEER:{name:"Cannoneer",val:5,defaultCount:2,icon:iI,color:"text-red-600",bg:"bg-red-950",desc:"Force discard & redraw. Kills Pirates."},MERCHANT:{name:"Merchant",val:6,defaultCount:2,icon:Tm,color:"text-yellow-400",bg:"bg-yellow-900",desc:"Draw 2 extra, keep best of 3."},SAILOR:{name:"Sailor",val:7,defaultCount:1,icon:Wx,color:"text-cyan-400",bg:"bg-cyan-900",desc:"Swap hands with another player."},CAPTAIN:{name:"Captain",val:8,defaultCount:1,icon:JE,color:"text-purple-400",bg:"bg-purple-900",desc:"Must play if holding Cannoneer/Sailor."},PIRATE:{name:"Pirate",val:9,defaultCount:1,icon:wm,color:"text-white",bg:"bg-black",desc:"If played, you die. (Suicide)."}},Sv=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Kd=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-red-900/10 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),wv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(Sm,{size:12,className:"text-red-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-500 uppercase",children:"PIRATES"})]}),Rv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will end the game for everyone!":"Leaving the lobby will disconnect you."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&A.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[A.jsx(gI,{size:18})," Return Crew to Lobby"]}),A.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[A.jsx(Am,{size:18})," Leave Game"]})]})]})}),UI=({title:s,text:e,onClose:i,type:a="info",card:l=null,compareCard:c=null,labels:d=[]})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:A.jsx("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?A.jsx(tT,{className:"text-red-500 w-12 h-12"}):a==="spy"?A.jsx(WE,{className:"text-emerald-400 w-12 h-12"}):a==="sword"?A.jsx(eT,{className:"text-red-400 w-12 h-12"}):a==="round_end"?A.jsx(_g,{className:"text-yellow-400 w-12 h-12 animate-bounce"}):A.jsx(yI,{className:"text-blue-400 w-12 h-12"}),A.jsx("h3",{className:"text-2xl font-bold text-white",children:s}),A.jsx("p",{className:"text-gray-300 text-lg",children:e}),(l||c)&&A.jsxs("div",{className:"flex gap-4 justify-center items-center my-2",children:[l&&A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[0]||"Target Hand"}),A.jsx(ro,{type:l,small:!0})]}),c&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-bold text-xl text-gray-500",children:A.jsx(tI,{size:24})}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[1]||"Attacker"}),A.jsx(ro,{type:c,small:!0})]})]})]}),A.jsx("button",{onClick:i,className:`w-full py-3 rounded-lg font-bold text-white transition-colors ${a==="error"?"bg-red-600 hover:bg-red-500":a==="spy"?"bg-emerald-600 hover:bg-emerald-500":a==="round_end"?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:a==="round_end"?"Continue":"Okay"})]})})}),Cv=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500 uppercase tracking-widest",children:"GAME GUIDE"}),A.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"Deception, Deduction & Discovery"})]}),A.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors",children:A.jsx(nT,{size:24})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 md:space-y-10 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[A.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-900/30 p-4 md:p-6 rounded-2xl border border-red-700/30",children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[A.jsx(_g,{className:"text-yellow-400 fill-current",size:24})," The Objective"]}),A.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["The high seas are treacherous. Your goal is simple:"," ",A.jsx("strong",{children:"survive"}),". The game is played in multiple rounds. To win a round, you must be the ",A.jsx("strong",{children:"Last Player Standing"})," ","or hold the ",A.jsx("strong",{children:"Highest Value Card"})," when the deck runs out.",A.jsx("br",{}),A.jsx("br",{}),"Survivors earn"," ",A.jsx("span",{className:"text-yellow-400 font-bold",children:"1 Coin"}),". The first pirate to amass"," ",A.jsx("span",{className:"text-yellow-400 font-bold",children:"10 Coins"})," wins the game and the treasure!"]})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(Rm,{className:"text-red-400",size:24})," The Crew (Cards)"]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:Object.values(_t).sort((e,i)=>e.val-i.val).map(e=>{const i=e.icon;return A.jsxs("div",{className:"flex items-start gap-3 md:gap-4 bg-gray-800/50 p-3 md:p-4 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[A.jsx("div",{className:`p-3 md:p-4 rounded-xl ${e.bg} border border-gray-600 shadow-lg shrink-0`,children:A.jsx(i,{className:`${e.color}`,size:24})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex justify-between items-center w-full mb-1",children:[A.jsx("h4",{className:"font-bold text-white text-base md:text-lg",children:e.name}),A.jsxs("span",{className:"text-xs bg-black/60 px-2 py-1 rounded text-gray-300 font-mono border border-gray-600",children:["Val: ",e.val]})]}),A.jsx("p",{className:"text-xs md:text-sm text-gray-400 leading-snug",children:e.desc})]})]},e.name)})})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(lI,{className:"text-orange-400",size:24})," How It Works"]}),A.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-gray-700 ml-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"1"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Draw"}),A.jsxs("p",{className:"text-gray-400 text-sm md:text-base",children:["You start the round with ",A.jsx("strong",{children:"1 card"})," in hand. At the start of your turn, you draw a"," ",A.jsx("strong",{children:"second card"})," from the deck."]})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"2"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Play"}),A.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Choose one of your two cards to play face up. Its ability triggers immediately. The other card remains hidden in your hand."})]})]})]})]})]}),A.jsx("div",{className:"p-4 md:p-6 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:A.jsx("button",{onClick:s,className:"w-full md:w-auto bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white px-10 py-3 md:py-4 rounded-xl font-bold text-lg transition-all shadow-xl",children:"Got it, Let's Play!"})})]})}),ro=({type:s,onClick:e,disabled:i,highlight:a,small:l,tiny:c})=>{const d=_t[s];if(!d)return A.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-gray-700 rounded border border-gray-600"});if(c)return A.jsx("div",{className:`w-5 h-7 md:w-6 md:h-8 rounded border flex items-center justify-center ${d.bg} border-gray-600 shadow-sm`,title:d.name,children:A.jsx(d.icon,{className:`${d.color} w-3 h-3`})});const p=l?"w-12 h-16 md:w-16 md:h-24 p-0.5 md:p-1":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",_=l?"w-5 h-5 md:w-6 md:h-6":"w-10 h-10 md:w-12 md:h-12",y=l?"text-[8px] md:text-[10px]":"text-xs md:text-sm";return A.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between
        ${p}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":"border-gray-700"}
        ${d.bg} ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[A.jsxs("div",{className:`font-bold ${y} ${d.type==="PIRATE","text-white"} w-full flex justify-between`,children:[A.jsx("span",{children:d.val}),!l&&A.jsx("span",{children:d.name})]}),A.jsx(d.icon,{className:`${d.color} ${_}`}),!l&&A.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-300 text-center leading-tight bg-black/30 p-1 rounded w-full line-clamp-3 md:line-clamp-none",children:d.desc})]})},LI=({logs:s,onClose:e})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700",children:[A.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsx("h3",{className:"text-white font-bold text-lg",children:"Game Log"}),A.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:A.jsx(nT,{className:"text-gray-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>A.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function PI(){const[s,e]=st.useState(null),[i,a]=st.useState("menu"),[l,c]=st.useState(""),[d,p]=st.useState(""),[_,y]=st.useState(""),[E,S]=st.useState(null),[M,G]=st.useState(!1),[ee,ne]=st.useState(""),[W,ye]=st.useState(!1),[Ce,me]=st.useState(!1),[it,ct]=st.useState(!1),[ke,I]=st.useState(null),[w,x]=st.useState(""),[V,N]=st.useState(null),[U,R]=st.useState(null),[at,St]=st.useState([]),[H,se]=st.useState(null),de=st.useRef(null),qe=st.useRef(null);st.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await yw(Qd,__initial_auth_token):await fw(Qd)})();const ie=Ew(Qd,e);return()=>ie()},[]),st.useEffect(()=>{if(!d||!s)return;const K=Yx(cn(hn,"artifacts",fn,"public","data","rooms",d),ie=>{if(ie.exists()){const Z=ie.data();if(!Z.players.some(Ee=>Ee.id===s.uid)){p(""),a("menu"),ne("The Captain abandoned the ship! (Room Closed)");return}S(Z),Z.status==="playing"||Z.status==="finished"?a("game"):Z.status==="lobby"&&a("lobby")}else p(""),a("menu"),ne("The Captain abandoned the ship! (Room Closed)")});return()=>K()},[d,s]),st.useEffect(()=>{!H&&at.length>0&&(se(at[0]),St(K=>K.slice(1)))},[H,at]),st.useEffect(()=>{if(!(!E||!s)){if(E.lastAction){const K=E.lastAction;K.id!==de.current&&K.targetId===s.uid&&(de.current=K.id,St(ie=>[...ie,{title:"Action Alert!",text:K.message,type:K.type==="SWORDSMAN"?"sword":K.type==="SPY"?"spy":"warning",card:K.cardToShow,compareCard:K.compareCard,labels:K.labels}]))}if(E.lastRoundResult){const K=E.lastRoundResult;K.id!==qe.current&&(qe.current=K.id,St(ie=>[...ie,{title:`Round ${K.round} Complete!`,text:`${K.winnerName} won the round and earned a Coin!`,type:"round_end",card:null,compareCard:null}]))}}},[E,s]);const He=(K,ie,Z="error",ae=null)=>{St(Ee=>[...Ee,{title:K,text:ie,type:Z,card:ae}])},O=async()=>{if(!l)return ne("Name required");G(!0);const K=Math.random().toString(36).substring(2,7).toUpperCase(),ie={roomId:K,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}],deck:[],deckConfig:{guards:6,merchants:2},discardPile:[],logs:[],turnIndex:0,roundCount:1,burntCard:null,thiefActive:null,pendingAction:null,lastAction:null,lastRoundResult:null};await Gx(cn(hn,"artifacts",fn,"public","data","rooms",K),ie),p(K),y(K),a("lobby"),G(!1)},Q=async()=>{if(!_||!l)return ne("Room ID and Name required");G(!0);const K=cn(hn,"artifacts",fn,"public","data","rooms",_),ie=await vv(K);if(!ie.exists()){ne("Room not found"),G(!1);return}const Z=ie.data();if(Z.status!=="lobby"){ne("Game already started"),G(!1);return}if(Z.players.find(ae=>ae.id===s.uid))p(_);else if(Z.players.length<8){const ae=[...Z.players,{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}];await _n(K,{players:ae}),p(_)}else ne("Room full (Max 8)");G(!1)},re=async()=>{if(!(!d||!s)){try{const K=cn(hn,"artifacts",fn,"public","data","rooms",d),ie=await vv(K);if(ie.exists()){const Z=ie.data();if(Z.hostId===s.uid)Z.status==="lobby"?await Fx(K):await oe(K,Z);else if(Z.status==="lobby"){const Ee=Z.players.filter(Je=>Je.id!==s.uid);await _n(K,{players:Ee})}else await oe(K,Z)}}catch(K){console.error("Error leaving room:",K)}p(""),a("menu"),S(null),me(!1)}},oe=async(K,ie)=>{const Z=ie.players.filter(Ee=>Ee.id!==s.uid);let ae=null;Z.length>0&&(ae=Z[0].id),await _n(K,{status:"finished",winnerId:ae,players:ie.players.filter(Ee=>Ee.id!==s.uid),logs:Gi({id:Date.now().toString(),text:`${ie.players.find(Ee=>Ee.id===s.uid)?.name} left the game. Game Over.`,type:"danger"})})},Se=async K=>{if(!E||E.hostId!==s.uid)return;const ie=E.players.filter(Z=>Z.id!==K);await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{players:ie})},Re=async(K,ie)=>{E.hostId===s.uid&&await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{deckConfig:{guards:K,merchants:ie}})},Ue=async(K=null)=>{const ie=K||E,Z=ie.players.length;let ae=ie.deckConfig||{guards:6,merchants:2};Z>4&&(ae={guards:6,merchants:2});const Ee=[];Object.keys(_t).forEach(Le=>{let De=_t[Le].defaultCount;Le==="GUARD"&&(De=ae.guards??6),Le==="MERCHANT"&&(De=ae.merchants??2);for(let Xe=0;Xe<De;Xe++)Ee.push(Le)});const Je=Sv(Ee),_e=Je.pop(),Pe=ie.players.map(Le=>({...Le,hand:[Je.pop()],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1})),ge=Math.floor(Math.random()*Pe.length);Pe[ge].hand.push(Je.pop()),await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{status:"playing",deck:Je,burntCard:_e,players:Pe,discardPile:[],turnIndex:ge,thiefActive:null,lastAction:null,lastRoundResult:null,logs:Gi({id:Date.now()+Math.random().toString(),text:`--- Round ${ie.roundCount||E.roundCount} Started ---`,type:"neutral"})})},Ot=async()=>{const K=[...E.players],ie=K.findIndex(Z=>Z.id===s.uid);K[ie].readyForNext=!0,await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{players:K})},ht=async()=>{if(!E||E.hostId!==s.uid)return;const K=E.players.map(ie=>({...ie,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{status:"lobby",players:K,deck:[],logs:[],roundCount:1,winnerId:null,lastAction:null,lastRoundResult:null})},Ei=async(K,ie=[],Z=null)=>{let ae=[...K.players],Ee=[...K.deck],Je=K.turnIndex,_e=K.thiefActive;const Pe=ae.filter(Xe=>!Xe.eliminated),ge=ie.map(Xe=>({...Xe,id:Xe.id||Date.now()+Math.random().toString()}));let Le={players:ae,deck:Ee};if(Z&&(Le.lastAction=Z),Pe.length===1){const Xe=Pe[0];Xe.coins+=1,ge.push({id:Date.now()+Math.random().toString(),text:` Round Over! ${Xe.name} survives alone (+1 Coin).`,type:"success"});const ft={id:Date.now(),winnerName:Xe.name,round:K.roundCount||E.roundCount};if(Le.lastRoundResult=ft,Xe.coins>=10){await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{...Le,status:"finished",winnerId:Xe.id,logs:Gi(...ge)});return}await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{...Le,roundCount:Ev(1),logs:Gi(...ge)}),setTimeout(()=>Ue({...K,players:ae,roundCount:(K.roundCount||E.roundCount)+1}),3500);return}if(Ee.length===0&&ae[Je].hand.length===1){let Xe=-1,ft=[];Pe.forEach(Jt=>{const Lt=_t[Jt.hand[0]].val;Lt>Xe?(Xe=Lt,ft=[Jt]):Lt===Xe&&ft.push(Jt)}),ft.forEach(Jt=>{const Lt=ae.findIndex(Et=>Et.id===Jt.id);ae[Lt].coins+=1});const ri=ft.map(Jt=>Jt.name).join(", ");ge.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${ri} (Card Value: ${Xe}).`,type:"success"});const Ds={id:Date.now(),winnerName:ri,round:K.roundCount||E.roundCount};if(Le.lastRoundResult=Ds,ae.some(Jt=>Jt.coins>=10)){await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{...Le,status:"finished",winnerId:ae.find(Jt=>Jt.coins>=10).id,logs:Gi(...ge)});return}await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{...Le,roundCount:Ev(1),logs:Gi(...ge)}),setTimeout(()=>Ue({...K,players:ae,roundCount:(K.roundCount||E.roundCount)+1}),3500);return}let De=(Je+1)%ae.length;for(;ae[De].eliminated;)De=(De+1)%ae.length;_e&&_e.playerId===ae[De].id&&(ae[De].coins+=1,ge.push({id:Date.now()+Math.random().toString(),text:` ${ae[De].name} survived the round as Thief (+1 Coin)!`,type:"success"}),_e=null),ae[De].immune=!1,Ee.length>0&&ae[De].hand.push(Ee.pop()),Le={...Le,deck:Ee,turnIndex:De,thiefActive:_e,players:ae,logs:Gi(...ge)},await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),Le)},Is=K=>{if(ke){if(K===s.uid){He("Targeting Error","You cannot target yourself!","error");return}if(ke==="GUARD"){N(K),R(null);return}Ti(ke,K)}},Ti=async(K,ie=null,Z=null)=>{if(!s||E.players[E.turnIndex].id!==s.uid)return;const ae=["GUARD","SPY","SWORDSMAN","CANNONEER","SAILOR"],Ee=K==="GUARD",Je=Z||w;if(ae.includes(K)&&!ie){I(K);return}if(Ee&&!Je){I(K);return}const _e=JSON.parse(JSON.stringify(E.players)),Pe=_e.findIndex(ve=>ve.id===s.uid),ge=_e[Pe];let Le=[...E.deck],De=[],Xe=E.thiefActive,ft=null;const ri=ge.hand,Ds=ri.includes("CAPTAIN"),Jt=ri.includes("CANNONEER")||ri.includes("SAILOR");if(Ds&&Jt&&K!=="CAPTAIN"){He("Captain's Orders","You MUST play the Captain if you hold a Cannoneer or Sailor!","error");return}const Lt=ge.hand.indexOf(K);if(Lt===-1)return;ge.hand.splice(Lt,1),ge.playedCards||(ge.playedCards=[]),ge.playedCards.push(K);const Et=(ve,fe)=>{const je=_e.findIndex(Wt=>Wt.id===ve);_e[je].eliminated=!0,_e[je].hand.length>0&&(_e[je].playedCards||(_e[je].playedCards=[]),_e[je].playedCards.push(_e[je].hand[0])),_e[je].hand=[],De.push({text:` ${_e[je].name} was eliminated! (${fe})`,type:"danger"}),Xe&&Xe.playerId===ve&&(Xe=null)};if(K==="THIEF")De.push({text:` ${ge.name} plays Thief. (Gain coin if survived until next turn)`,type:"neutral"}),Xe&&De.push({text:` Previous Thief thwarted by ${ge.name}!`,type:"neutral"}),Xe={playerId:s.uid,turnSet:E.turnIndex};else if(K==="GUARD"){const ve=_e.find(fe=>fe.id===ie);if(De.push({text:` ${ge.name} used Guard on ${ve.name}, guessing ${_t[Je].name}.`,type:"neutral"}),ve.immune)De.push({text:` ${ve.name} is immune to the Guard!`,type:"warning"}),ft={id:Date.now(),targetId:ie,type:"GUARD",message:`${ge.name} tried to Guard you, but you were Immune!`};else{const fe=ve.hand[0];fe===Je?(Et(ie,`Guard caught a ${_t[Je].name}`),ft={id:Date.now(),targetId:ie,type:"GUARD",message:`${ge.name} guessed your card was a ${_t[Je].name}. They were CORRECT! You are out.`,cardToShow:fe,compareCard:Je,labels:["You Had","They Guessed"]}):(De.push({text:` Guard guess wrong. ${ve.name} does not have ${_t[Je].name}.`,type:"neutral"}),ft={id:Date.now(),targetId:ie,type:"GUARD",message:`${ge.name} guessed your card was a ${_t[Je].name}. They were WRONG. You are safe.`,cardToShow:fe,compareCard:Je,labels:["You Have","They Guessed"]})}}else if(K==="SPY"){const ve=_e.find(fe=>fe.id===ie);ve.immune?(De.push({text:` ${ge.name} tried to Spy, but ${ve.name} is immune!`,type:"warning"}),ft={id:Date.now(),targetId:ie,type:"SPY",message:`${ge.name} tried to Spy on you, but you were Immune!`}):(De.push({text:` ${ge.name} plays Spy and looks at ${ve.name}'s hand.`,type:"neutral"}),He("Spy Report",`${ve.name} is holding: ${_t[ve.hand[0]].name}`,"spy",ve.hand[0]),ft={id:Date.now(),targetId:ie,type:"SPY",message:`${ge.name} used a Spy to look at your hand.`})}else if(K==="SWORDSMAN"){const ve=_e.find(fe=>fe.id===ie);if(ve.immune)De.push({text:` ${ve.name} is immune to Sword Fight!`,type:"warning"}),ft={id:Date.now(),targetId:ie,type:"SWORDSMAN",message:`${ge.name} tried to fight you, but you were Immune!`};else{const fe=_e[Pe].hand[0],je=ve.hand[0],Wt=_t[fe].val,Ir=_t[je].val;De.push({text:` ${ge.name} challenged ${ve.name}.`,type:"neutral"}),Wt<Ir?(Et(s.uid,"Lost Sword Fight (Lower Card)"),De.push({text:`... ${ge.name} was defeated!`,type:"danger"}),ft={id:Date.now(),targetId:ie,type:"SWORDSMAN",message:`${ge.name} challenged you! Your ${_t[je].name} beat their ${_t[fe].name}. You Won!`,cardToShow:fe,compareCard:je,labels:["Your Hand","Attacker"]},ft.cardToShow=je,ft.compareCard=fe,He("Sword Fight Result",`You challenged ${ve.name}. Their ${_t[je].name} beat your ${_t[fe].name}. You Died.`,"sword",je)):Ir<Wt?(Et(ie,"Lost Sword Fight (Lower Card)"),De.push({text:`... ${ve.name} was defeated!`,type:"danger"}),ft={id:Date.now(),targetId:ie,type:"SWORDSMAN",message:`${ge.name} challenged you! Your ${_t[je].name} lost to their ${_t[fe].name}. You Died.`,cardToShow:je,compareCard:fe,labels:["Your Hand","Attacker"]},He("Sword Fight Result",`You challenged ${ve.name}. Your ${_t[fe].name} beat their ${_t[je].name}. You Won!`,"sword",je)):(De.push({text:" Sword Fight Tie! Both survive.",type:"neutral"}),ft={id:Date.now(),targetId:ie,type:"SWORDSMAN",message:`${ge.name} challenged you! Tie (${_t[je].name}). Both survive.`,cardToShow:je,compareCard:fe,labels:["Your Hand","Attacker"]},He("Sword Fight Result",`Tie! You both have ${_t[fe].name}.`,"sword",je))}}else if(K==="COOK")_e[Pe].immune=!0,De.push({text:` ${ge.name} plays Cook. Immune until next turn.`,type:"success"});else if(K==="CANNONEER"){const ve=_e.findIndex(je=>je.id===ie),fe=_e[ve];if(fe.immune)De.push({text:` ${fe.name} is immune to Cannoneer!`,type:"warning"}),ft={id:Date.now(),targetId:ie,type:"CANNONEER",message:`${ge.name} tried to Cannon you, but you were Immune!`};else if(fe.hand[0]==="PIRATE")De.push({text:` ${ge.name} fires Cannon at ${fe.name}... It's a Pirate!`,type:"danger"}),Et(ie,"Cannoneer hit a Pirate"),ft={id:Date.now(),targetId:ie,type:"CANNONEER",message:`${ge.name} fired a Cannon at you. You had a Pirate and were eliminated!`};else{const je=fe.hand.pop();_e[ve].playedCards||(_e[ve].playedCards=[]),_e[ve].playedCards.push(je);let Wt;Le.length>0?Wt=Le.pop():(Wt=E.burntCard,De.push({text:"Deck empty! Recycled Burnt Card.",type:"warning"})),_e[ve].hand.push(Wt),De.push({text:` ${ge.name} destroyed ${fe.name}'s card!`,type:"neutral"}),ft={id:Date.now(),targetId:ie,type:"CANNONEER",message:`${ge.name} destroyed your card! It was added to your history. You drew a new one.`,cardToShow:je,compareCard:Wt,labels:["Destroyed","New Card"]}}}else if(K==="MERCHANT"){let ve=[];Le.length>=2?ve=[Le.pop(),Le.pop()]:Le.length===1&&(ve=[Le.pop()]);const fe=[..._e[Pe].hand,...ve];_e[Pe].hand=[];const je=De.map(Wt=>({...Wt,id:Date.now()+Math.random().toString()}));await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{players:_e,deck:Le,thiefActive:Xe||null,logs:Gi(...je),discardPile:Gi(K),merchantState:{pool:fe,originalDeckCount:Le.length}}),I(null),x("");return}else if(K==="SAILOR"){const ve=_e.findIndex(fe=>fe.id===ie);if(_e[ve].immune)De.push({text:` ${_e[ve].name} is immune to Swap!`,type:"warning"}),ft={id:Date.now(),targetId:ie,type:"SAILOR",message:`${ge.name} tried to swap hands with you, but you were Immune!`};else{const fe=_e[Pe].hand.pop(),je=_e[ve].hand.pop();_e[Pe].hand.push(je),_e[ve].hand.push(fe),De.push({text:` ${ge.name} swapped hands with ${_e[ve].name}.`,type:"neutral"}),ft={id:Date.now(),targetId:ie,type:"SAILOR",message:`${ge.name} swapped hands with you.`,cardToShow:fe,compareCard:je,labels:["Taken Card","Current Hand"]}}}else K==="CAPTAIN"?De.push({text:` ${ge.name} plays Captain (No Effect).`,type:"neutral"}):K==="PIRATE"&&Et(s.uid,"Played Pirate (Suicide)");I(null),x(""),await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{discardPile:Gi(K)}),await Ei({players:_e,deck:Le,turnIndex:E.turnIndex,thiefActive:Xe||null,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},De,ft)},Ns=async K=>{const ie=E.merchantState.pool,Z=ie.filter((_e,Pe)=>Pe!==ie.indexOf(K));let ae=[...E.deck,...Z];ae=Sv(ae);const Ee=[...E.players],Je=Ee.findIndex(_e=>_e.id===s.uid);Ee[Je].hand=[K],await _n(cn(hn,"artifacts",fn,"public","data","rooms",d),{merchantState:null}),await Ei({players:Ee,deck:ae,turnIndex:E.turnIndex,thiefActive:E.thiefActive,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},[{text:` ${E.players.find(_e=>_e.id===s.uid).name} used Merchant to draw cards and kept one.`,type:"neutral"}])};E?.players.filter(K=>!K.eliminated&&K.id!==s?.uid);const Ct=E?.players.find(K=>K.id===s?.uid),bi=E?.players[E?.turnIndex]?.id===s?.uid,si=E?.players.filter(K=>K.id!==E.hostId).every(K=>K.readyForNext);if(!s)return A.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(Kd,{}),W&&A.jsx(Cv,{onClose:()=>ye(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(Sm,{size:64,className:"text-red-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-red-500 to-orange-600 font-serif tracking-widest drop-shadow-md",children:"PIRATES"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Adventure on the Sea"})]}),A.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-red-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),A.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-red-500 outline-none transition-colors",placeholder:"Pirate Name",value:l,onChange:K=>c(K.target.value)}),A.jsxs("button",{onClick:O,disabled:M,className:"w-full bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-red-500/30 shadow-[0_0_15px_rgba(220,38,38,0.2)] transition-all",children:[A.jsx(Sm,{size:20})," Create New Ship"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-red-500 outline-none",placeholder:"ROOM CODE",value:_,onChange:K=>y(K.target.value.toUpperCase())}),A.jsx("button",{onClick:Q,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),A.jsxs("button",{onClick:()=>ye(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(bv,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const K=E.hostId===s.uid,ie=E.deckConfig?.guards??6,Z=E.deckConfig?.merchants??2,ae=E.players.length;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(Kd,{}),Ce&&A.jsx(Rv,{onCancel:()=>me(!1),onConfirmLeave:re,onConfirmLobby:()=>{ht(),me(!1)},isHost:K,inGame:!1}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/50 shadow-2xl mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-red-500",children:["Cabin: ",A.jsx("span",{className:"text-white font-mono",children:d})]}),A.jsx("button",{onClick:()=>me(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:A.jsx(Am,{size:16})})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[A.jsx("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:A.jsxs("span",{children:["Crew (",E.players.length,"/8)"]})}),A.jsxs("div",{className:"space-y-2",children:[E.players.map(Ee=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${Ee.id===s.uid?"text-red-400":"text-gray-300"}`,children:[A.jsx(Rm,{size:14,className:Ee.id===s.uid?"text-red-400":"text-gray-500"}),Ee.name,Ee.id===E.hostId&&A.jsx(JE,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Av,{size:12})," Ready"]}),K&&Ee.id!==s.uid&&A.jsx("button",{onClick:()=>Se(Ee.id),className:"p-1 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:A.jsx(xI,{size:16})})]})]},Ee.id)),E.players.length<2&&A.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),K&&A.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-red-300 font-bold mb-2 uppercase text-xs tracking-wider flex items-center gap-2",children:[A.jsx(bI,{size:16})," Deck Config"]}),ae>4&&A.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Disabled (5+ Players)"})]}),A.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${ae>4?"opacity-50 pointer-events-none":""}`,children:[A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-blue-400",children:["Guards (",ie,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Re(ie-1,Z),disabled:ie<=4,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>Re(ie+1,Z),disabled:ie>=6,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]}),A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:["Merchants (",Z,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Re(ie,Z-1),disabled:Z<=0,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>Re(ie,Z+1),disabled:Z>=2,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]})]})]}),K?A.jsx("button",{onClick:()=>Ue(),disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:E.players.length<2?"Awaiting Agents...":"Commence Operation"}):A.jsx("div",{className:"text-center text-red-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),A.jsx(wv,{})]})}if(i==="game"&&E){const K=E.merchantState&&bi,ie=E.hostId===s.uid;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[A.jsx(Kd,{}),H&&A.jsx(UI,{title:H.title,text:H.text,type:H.type,card:H.card,compareCard:H.compareCard,labels:H.labels,onClose:()=>se(null)}),Ce&&A.jsx(Rv,{onCancel:()=>me(!1),onConfirmLeave:re,onConfirmLobby:()=>{ht(),me(!1)},isHost:ie,inGame:!0}),W&&A.jsx(Cv,{onClose:()=>ye(!1)}),A.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-red-500 font-bold tracking-wider hidden md:block",children:"PIRATES"}),A.jsxs("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:["Room ",E.roomId]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ye(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Guide",children:A.jsx(bv,{size:18})}),A.jsx("button",{onClick:()=>ct(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"History",children:A.jsx(dI,{size:18})}),A.jsx("button",{onClick:()=>me(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave",children:A.jsx(Am,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[A.jsxs("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 flex flex-col gap-2 items-center text-gray-500 hidden md:flex",children:[A.jsx("div",{className:"w-16 h-24 bg-gray-900/90 border-2 border-gray-700 rounded-lg flex items-center justify-center",children:A.jsx("span",{className:"font-bold text-xl",children:E.deck.length})}),A.jsx("span",{className:"text-xs uppercase",children:"Deck"})]}),A.jsxs("div",{className:"md:hidden bg-gray-800/80 px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-400 mb-2",children:["Deck:"," ",A.jsx("span",{className:"text-white font-bold",children:E.deck.length})]}),A.jsx("div",{className:"flex gap-2 md:gap-4 justify-center flex-wrap w-full",children:E.players.map((Z,ae)=>{if(Z.id===s.uid)return null;const Ee=E.turnIndex===ae,Je=bi&&ke&&!Z.eliminated,_e=Z.immune,Pe=E.thiefActive?.playerId===Z.id;return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:`
                    relative bg-gray-900/90 p-2 md:p-3 rounded-lg md:rounded-xl border-2 w-36 md:w-48 transition-all cursor-pointer
                    ${Ee?"border-red-500 shadow-red-500/20 shadow-lg scale-105":"border-gray-700"}
                    ${Z.eliminated?"opacity-50 grayscale":""}
                    ${Je?"ring-2 md:ring-4 ring-orange-500 hover:scale-110":""}
                    ${_e?"ring-2 md:ring-4 ring-green-400/50 shadow-[0_0_15px_rgba(74,222,128,0.5)] animate-pulse":""}
                    ${Pe?"ring-2 md:ring-4 ring-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse":""}
                  `,onClick:()=>Je?Is(Z.id):null,children:[A.jsx("div",{className:"flex justify-between items-start mb-1 md:mb-2",children:A.jsx("span",{className:`font-bold truncate text-xs md:text-sm w-full ${Ee?"text-red-300":"text-gray-300"}`,children:Z.name})}),A.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[Z.immune&&A.jsx(Yc,{size:10,className:"text-green-400"}),Pe&&A.jsx(bm,{size:10,className:"text-red-400"})]}),A.jsx("div",{className:"flex gap-0.5 md:gap-1 justify-center mb-1 md:mb-2",children:Z.hand.map((ge,Le)=>A.jsx("div",{className:"w-4 h-6 md:w-6 md:h-8 bg-blue-900 rounded border border-blue-500"},Le))}),A.jsxs("div",{className:"flex justify-between items-center text-[8px] md:text-xs text-gray-400 bg-gray-900/50 p-0.5 md:p-1 rounded",children:[A.jsxs("span",{className:"flex items-center gap-0.5",children:[A.jsx(Tm,{size:8,className:"text-yellow-400"})," ",Z.coins]}),Z.eliminated&&A.jsx(wm,{size:10,className:"text-red-500"})]}),Ee&&A.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap",children:"PLAYING"}),Je&&A.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-lg md:rounded-xl flex items-center justify-center font-bold text-[10px] md:text-sm text-orange-300 animate-pulse",children:"TARGET"}),_e&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"IMMUNE"}),Pe&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"THIEF"})]}),A.jsx("div",{className:"mt-1 md:mt-2 flex gap-0.5 justify-center flex-wrap max-w-[5rem] md:max-w-[8rem]",children:Z.playedCards&&Z.playedCards.map((ge,Le)=>A.jsx(ro,{type:ge,tiny:!0},Le))})]},Z.id)})}),A.jsx("div",{className:"pointer-events-none z-0 my-2 flex flex-col items-center space-y-2 opacity-80 w-full px-4",children:E.logs.slice(-2).reverse().map((Z,ae)=>A.jsx("div",{className:"bg-black/60 px-3 py-1 rounded text-xs md:text-sm text-white backdrop-blur-sm text-center truncate max-w-full",children:Z.text},ae))}),A.jsxs("div",{className:`w-full max-w-2xl bg-gray-900/95 p-3 md:p-6 rounded-t-2xl md:rounded-t-3xl border-t border-red-900/50 backdrop-blur-md transition-colors ${Ct?.eliminated?"grayscale opacity-75":""}`,children:[A.jsxs("div",{className:"flex justify-between items-start md:items-center mb-3 md:mb-4",children:[A.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3",children:[A.jsxs("div",{className:`bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2 
                    ${Ct.immune?"ring-2 ring-green-500 shadow-lg shadow-green-500/20":""}
                    ${E.thiefActive?.playerId===Ct.id?"ring-2 ring-red-500 shadow-lg shadow-red-500/20":""}
                 `,children:[A.jsx(Rm,{className:"text-gray-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-lg max-w-[80px] md:max-w-none truncate text-gray-300",children:Ct.name}),Ct.immune&&A.jsx(Yc,{className:"text-green-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"}),E.thiefActive?.playerId===Ct.id&&A.jsx(bm,{className:"text-red-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"})]}),A.jsxs("div",{className:"bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2",children:[A.jsx(Tm,{className:"text-yellow-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-xl text-yellow-400",children:Ct.coins}),A.jsx("span",{className:"text-[10px] md:text-xs text-gray-500 uppercase font-bold self-end mb-0.5 md:mb-1",children:"/ 10"})]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-1 max-w-[160px] md:max-w-xs",children:[bi&&!Ct.eliminated&&!K&&A.jsx("div",{className:"text-green-400 font-bold animate-pulse uppercase tracking-widest text-xs md:text-sm mb-1 bg-green-900/20 px-2 py-0.5 rounded border border-green-500/50",children:"PLAYING"}),A.jsxs("div",{className:"flex gap-0.5 items-center bg-gray-900/50 p-1 md:p-2 rounded-lg border border-gray-700 w-full overflow-x-auto",children:[A.jsx("span",{className:"text-[8px] md:text-[10px] text-gray-500 uppercase mr-1 hidden md:inline shrink-0",children:"History"}),Ct.playedCards&&Ct.playedCards.map((Z,ae)=>A.jsx("div",{className:"shrink-0",children:A.jsx(ro,{type:Z,tiny:!0})},ae))]})]})]}),Ct.eliminated?A.jsxs("div",{className:"text-center py-4 md:py-8 text-red-500 font-bold text-xl md:text-2xl uppercase tracking-widest border-2 border-red-900 bg-red-900/10 rounded-xl",children:[A.jsx(wm,{className:"inline-block mb-1 md:mb-2 w-8 h-8 md:w-12 md:h-12"}),A.jsx("br",{}),"Eliminated"]}):A.jsx(A.Fragment,{children:A.jsx("div",{className:"flex justify-center gap-2 md:gap-4 mb-2",children:K?E.merchantState.pool.map((Z,ae)=>A.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A.jsx(ro,{type:Z,onClick:()=>Ns(Z),highlight:!0}),A.jsx("span",{className:"text-xs text-green-400 font-bold",children:"Keep"})]},ae)):Ct.hand.map((Z,ae)=>{const Ee=bi,Je=ke===Z;return A.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[Je&&A.jsx("div",{className:"absolute -top-8 md:-top-10 bg-yellow-500 text-black px-2 py-1 rounded text-[10px] md:text-xs font-bold animate-bounce z-20 whitespace-nowrap",children:"Select Target!"}),A.jsx(ro,{type:Z,onClick:()=>Ee?Ti(Z):null,disabled:!Ee,highlight:Ee&&Je}),Ee&&Je&&A.jsx("div",{className:"flex flex-col gap-1 w-full animate-in fade-in slide-in-from-bottom-2",children:A.jsx("button",{onClick:()=>I(null),className:"bg-red-900/50 hover:bg-red-900 text-[8px] md:text-[10px] py-1 rounded text-red-300 w-full",children:"Cancel"})})]},ae)})})})]})]}),it&&A.jsx(LI,{logs:E.logs,onClose:()=>ct(!1)}),V&&A.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 border-2 border-blue-500 rounded-xl p-4 md:p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in",children:[A.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-4 flex items-center gap-2",children:[A.jsx(Yc,{className:"text-blue-400"}),"Guess a Card"]}),A.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.keys(_t).filter(Z=>{if(Z==="GUARD")return!1;const ae=E.deckConfig?.merchants??2;return!(Z==="MERCHANT"&&ae===0)}).map(Z=>A.jsxs("button",{onClick:()=>R(Z),className:`
                        p-2 rounded text-xs md:text-sm font-bold transition-colors flex items-center gap-1 md:gap-2 justify-center md:justify-start
                        ${U===Z?"bg-yellow-500 text-black ring-2 ring-yellow-300":"bg-gray-700 hover:bg-blue-600 text-white"}
                      `,children:[Pb.createElement(_t[Z].icon,{size:14}),_t[Z].name]},Z))}),A.jsx("button",{onClick:()=>{U?(Ti("GUARD",V,U),N(null),R(null),I(null)):(N(null),I(null))},className:`
                  w-full py-3 rounded font-bold transition-colors
                  ${U?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-red-900/50 hover:bg-red-900 text-red-200"}
                `,children:U?"Confirm Play":"Cancel"})]})}),E.status==="finished"&&!H&&at.length===0&&A.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex flex-col items-center justify-center p-4 text-center",children:[A.jsx(_g,{size:48,className:"text-yellow-400 mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Game Over!"}),A.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8",children:[E.players.find(Z=>Z.id===E.winnerId)?.name," ","wins the treasure!"]}),E.hostId===s.uid?A.jsxs("div",{className:"flex flex-col items-center gap-2 w-full max-w-xs",children:[!si&&A.jsxs("div",{className:"text-red-400 text-xs md:text-sm animate-pulse mb-2 flex items-center gap-2 justify-center",children:[A.jsx(tT,{size:16})," Waiting for crew..."]}),A.jsxs("button",{onClick:ht,disabled:!si,className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl 
                        ${si?"bg-green-600 hover:bg-green-500 shadow-green-900/20":"bg-gray-700 cursor-not-allowed text-gray-400"}
                      `,children:[A.jsx(EI,{})," Return to Lobby"]})]}):A.jsx("button",{onClick:Ot,disabled:E.players.find(Z=>Z.id===s.uid)?.readyForNext,className:`w-full max-w-xs py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${E.players.find(Z=>Z.id===s.uid)?.readyForNext?"bg-gray-700 text-green-400 border border-green-500 cursor-default":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:E.players.find(Z=>Z.id===s.uid)?.readyForNext?A.jsxs(A.Fragment,{children:[A.jsx(Av,{size:24})," Waiting for Host..."]}):"Ready for Next Game"})]}),A.jsx(wv,{})]})}return null}Fb.createRoot(document.getElementById("root")).render(A.jsx(st.StrictMode,{children:A.jsx(PI,{})}));
