(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Bb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},Ol={};var K0;function qb(){if(K0)return Ol;K0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Q0;function Hb(){return Q0||(Q0=1,Pd.exports=qb()),Pd.exports}var T=Hb(),jd={exports:{}},De={};var $0;function Gb(){if($0)return De;$0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ae={};function pe(O,Y,se){this.props=O,this.context=Y,this.refs=ae,this.updater=se||te}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ve(){}Ve.prototype=pe.prototype;function Ie(O,Y,se){this.props=O,this.context=Y,this.refs=ae,this.updater=se||te}var at=Ie.prototype=new Ve;at.constructor=Ie,re(at,pe.prototype),at.isPureReactComponent=!0;var Et=Array.isArray;function Pe(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,Y,se){var ee=se.ref;return{$$typeof:s,type:O,key:Y,ref:ee!==void 0?ee:null,props:se}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var x=/\/+/g;function lt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function wt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pe,Pe):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,se,ee,Se){var Me=typeof O;(Me==="undefined"||Me==="boolean")&&(O=null);var He=!1;if(O===null)He=!0;else switch(Me){case"bigint":case"string":case"number":He=!0;break;case"object":switch(O.$$typeof){case s:case e:He=!0;break;case S:return He=O._init,G(He(O._payload),Y,se,ee,Se)}}if(He)return Se=Se(O),He=ee===""?"."+lt(O,0):ee,Et(Se)?(se="",He!=null&&(se=He.replace(x,"$&/")+"/"),G(Se,Y,se,"",function(ns){return ns})):Se!=null&&(N(Se)&&(Se=V(Se,se+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(x,"$&/")+"/")+He)),Y.push(Se)),1;He=0;var Ot=ee===""?".":ee+":";if(Et(O))for(var _t=0;_t<O.length;_t++)ee=O[_t],Me=Ot+lt(ee,_t),He+=G(ee,Y,se,Me,Se);else if(_t=K(O),typeof _t=="function")for(O=_t.call(O),_t=0;!(ee=O.next()).done;)ee=ee.value,Me=Ot+lt(ee,_t++),He+=G(ee,Y,se,Me,Se);else if(Me==="object"){if(typeof O.then=="function")return G(wt(O),Y,se,ee,Se);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return He}function ie(O,Y,se){if(O==null)return O;var ee=[],Se=0;return G(O,ee,"","",function(Me){return Y.call(se,Me,Se++)}),ee}function me(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},et={map:ie,forEach:function(O,Y,se){ie(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ie(O,function(){Y++}),Y},toArray:function(O){return ie(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return De.Activity=A,De.Children=et,De.Component=pe,De.Fragment=i,De.Profiler=l,De.PureComponent=Ie,De.StrictMode=a,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},De.cache=function(O){return function(){return O.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ee=re({},O.props),Se=O.key;if(Y!=null)for(Me in Y.key!==void 0&&(Se=""+Y.key),Y)!w.call(Y,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&Y.ref===void 0||(ee[Me]=Y[Me]);var Me=arguments.length-2;if(Me===1)ee.children=se;else if(1<Me){for(var He=Array(Me),Ot=0;Ot<Me;Ot++)He[Ot]=arguments[Ot+2];ee.children=He}return I(O.type,Se,ee)},De.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},De.createElement=function(O,Y,se){var ee,Se={},Me=null;if(Y!=null)for(ee in Y.key!==void 0&&(Me=""+Y.key),Y)w.call(Y,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(Se[ee]=Y[ee]);var He=arguments.length-2;if(He===1)Se.children=se;else if(1<He){for(var Ot=Array(He),_t=0;_t<He;_t++)Ot[_t]=arguments[_t+2];Se.children=Ot}if(O&&O.defaultProps)for(ee in He=O.defaultProps,He)Se[ee]===void 0&&(Se[ee]=He[ee]);return I(O,Me,Se)},De.createRef=function(){return{current:null}},De.forwardRef=function(O){return{$$typeof:y,render:O}},De.isValidElement=N,De.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:me}},De.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},De.startTransition=function(O){var Y=C.T,se={};C.T=se;try{var ee=O(),Se=C.S;Se!==null&&Se(se,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Pe,qe)}catch(Me){qe(Me)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),C.T=Y}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(O){return C.H.use(O)},De.useActionState=function(O,Y,se){return C.H.useActionState(O,Y,se)},De.useCallback=function(O,Y){return C.H.useCallback(O,Y)},De.useContext=function(O){return C.H.useContext(O)},De.useDebugValue=function(){},De.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},De.useEffect=function(O,Y){return C.H.useEffect(O,Y)},De.useEffectEvent=function(O){return C.H.useEffectEvent(O)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(O,Y,se){return C.H.useImperativeHandle(O,Y,se)},De.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},De.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},De.useMemo=function(O,Y){return C.H.useMemo(O,Y)},De.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},De.useReducer=function(O,Y,se){return C.H.useReducer(O,Y,se)},De.useRef=function(O){return C.H.useRef(O)},De.useState=function(O){return C.H.useState(O)},De.useSyncExternalStore=function(O,Y,se){return C.H.useSyncExternalStore(O,Y,se)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.3",De}var X0;function Lm(){return X0||(X0=1,jd.exports=Gb()),jd.exports}var Ze=Lm();const Fb=Bb(Ze);var zd={exports:{}},Ml={},Bd={exports:{}},qd={};var J0;function Yb(){return J0||(J0=1,(function(s){function e(G,ie){var me=G.length;G.push(ie);e:for(;0<me;){var qe=me-1>>>1,et=G[qe];if(0<l(et,ie))G[qe]=ie,G[me]=et,me=qe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],me=G.pop();if(me!==ie){G[0]=me;e:for(var qe=0,et=G.length,O=et>>>1;qe<O;){var Y=2*(qe+1)-1,se=G[Y],ee=Y+1,Se=G[ee];if(0>l(se,me))ee<et&&0>l(Se,se)?(G[qe]=Se,G[ee]=me,qe=ee):(G[qe]=se,G[Y]=me,qe=Y);else if(ee<et&&0>l(Se,me))G[qe]=Se,G[ee]=me,qe=ee;else break e}}return ie}function l(G,ie){var me=G.sortIndex-ie.sortIndex;return me!==0?me:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,A=null,M=3,K=!1,te=!1,re=!1,ae=!1,pe=typeof setTimeout=="function"?setTimeout:null,Ve=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;function at(G){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=G)a(_),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=i(_)}}function Et(G){if(re=!1,at(G),!te)if(i(g)!==null)te=!0,Pe||(Pe=!0,L());else{var ie=i(_);ie!==null&&wt(Et,ie.startTime-G)}}var Pe=!1,C=-1,w=5,I=-1;function V(){return ae?!0:!(s.unstable_now()-I<w)}function N(){if(ae=!1,Pe){var G=s.unstable_now();I=G;var ie=!0;try{e:{te=!1,re&&(re=!1,Ve(C),C=-1),K=!0;var me=M;try{t:{for(at(G),A=i(g);A!==null&&!(A.expirationTime>G&&V());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,M=A.priorityLevel;var et=qe(A.expirationTime<=G);if(G=s.unstable_now(),typeof et=="function"){A.callback=et,at(G),ie=!0;break t}A===i(g)&&a(g),at(G)}else a(g);A=i(g)}if(A!==null)ie=!0;else{var O=i(_);O!==null&&wt(Et,O.startTime-G),ie=!1}}break e}finally{A=null,M=me,K=!1}ie=void 0}}finally{ie?L():Pe=!1}}}var L;if(typeof Ie=="function")L=function(){Ie(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,lt=x.port2;x.port1.onmessage=N,L=function(){lt.postMessage(null)}}else L=function(){pe(N,0)};function wt(G,ie){C=pe(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var ie=3;break;default:ie=M}var me=M;M=ie;try{return G()}finally{M=me}},s.unstable_requestPaint=function(){ae=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=M;M=G;try{return ie()}finally{M=me}},s.unstable_scheduleCallback=function(G,ie,me){var qe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,G){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=me+et,G={id:S++,callback:ie,priorityLevel:G,startTime:me,expirationTime:et,sortIndex:-1},me>qe?(G.sortIndex=me,e(_,G),i(g)===null&&G===i(_)&&(re?(Ve(C),C=-1):re=!0,wt(Et,me-qe))):(G.sortIndex=et,e(g,G),te||K||(te=!0,Pe||(Pe=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ie=M;return function(){var me=M;M=ie;try{return G.apply(this,arguments)}finally{M=me}}}})(qd)),qd}var Z0;function Kb(){return Z0||(Z0=1,Bd.exports=Yb()),Bd.exports}var Hd={exports:{}},vn={};var W0;function Qb(){if(W0)return vn;W0=1;var s=Lm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,S)},vn.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},vn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},vn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},vn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:K}):S==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},vn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},vn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},vn.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},vn.requestFormReset=function(g){a.d.r(g)},vn.unstable_batchedUpdates=function(g,_){return g(_)},vn.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var e_;function $b(){if(e_)return Hd.exports;e_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=Qb(),Hd.exports}var t_;function Xb(){if(t_)return Ml;t_=1;var s=Kb(),e=Lm(),i=$b();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ve=Symbol.for("react.consumer"),Ie=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case pe:return"Profiler";case ae:return"StrictMode";case Et:return"Suspense";case Pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case Ie:return t.displayName||"Context";case Ve:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var wt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],et=-1;function O(t){return{current:t}}function Y(t){0>et||(t.current=qe[et],qe[et]=null,et--)}function se(t,n){et++,qe[et]=t.current,t.current=n}var ee=O(null),Se=O(null),Me=O(null),He=O(null);function Ot(t,n){switch(se(Me,n),se(Se,t),se(ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?p0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=p0(n),t=y0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ee),se(ee,t)}function _t(){Y(ee),Y(Se),Y(Me)}function ns(t){t.memoizedState!==null&&se(He,t);var n=ee.current,r=y0(n,t.type);n!==r&&(se(Se,t),se(ee,r))}function Ls(t){Se.current===t&&(Y(ee),Y(Se)),He.current===t&&(Y(He),Rl._currentValue=me)}var hi,fi;function Xn(t){if(hi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",fi=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+t+fi}var is=!1;function ss(t,n){if(!t||is)return"";is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var F=`
`+R[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{is=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Xn(r):""}function Us(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return Xn("Activity");default:return""}}function Ur(t){try{var n="",r=null;do n+=Us(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var xt=Object.prototype.hasOwnProperty,Ut=s.unstable_scheduleCallback,Pt=s.unstable_cancelCallback,Ps=s.unstable_shouldYield,Ri=s.unstable_requestPaint,B=s.unstable_now,J=s.unstable_getCurrentPriorityLevel,W=s.unstable_ImmediatePriority,oe=s.unstable_UserBlockingPriority,ye=s.unstable_NormalPriority,Ge=s.unstable_LowPriority,le=s.unstable_IdlePriority,Xe=s.log,ce=s.unstable_setDisableYieldValue,_e=null,Ee=null;function je(t){if(typeof Xe=="function"&&ce(t),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(_e,t)}catch{}}var ve=Math.clz32?Math.clz32:js,An=Math.log,di=Math.LN2;function js(t){return t>>>=0,t===0?32:31-(An(t)/di|0)|0}var vt=256,Gt=262144,Tt=4194304;function fe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function be(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fe(o):(p&=E,p!==0?h=fe(p):r||(r=E&~t,r!==0&&(h=fe(r))))):(E=o&~f,E!==0?h=fe(E):p!==0?h=fe(p):r||(r=o&~t,r!==0&&(h=fe(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ce(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function It(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function Pn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function rs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nn(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(r=p&~r;0<r;){var F=31-ve(r),$=1<<F;E[F]=0,R[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&jn(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function jn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ve(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Pr(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-ve(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Vo(t,n){var r=n&-n;return r=(r&42)!==0?1:jr(r),(r&(t.suspendedLanes|n))!==0?0:r}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function as(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:z0(t.type))}function mi(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var gi=Math.random().toString(36).slice(2),Ft="__reactFiber$"+gi,on="__reactProps$"+gi,Ni="__reactContainer$"+gi,Ea="__reactEvents$"+gi,Hh="__reactListeners$"+gi,_u="__reactHandles$"+gi,vu="__reactResources$"+gi,Di="__reactMarker$"+gi;function Ta(t){delete t[Ft],delete t[on],delete t[Ea],delete t[Hh],delete t[_u]}function Oi(t){var n=t[Ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ni]||r[Ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=A0(t);t!==null;){if(r=t[Ft])return r;t=A0(t)}return n}t=r,r=t.parentNode}return null}function Jn(t){if(t=t[Ft]||t[Ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Mi(t){var n=t[vu];return n||(n=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Yt(t){t[Di]=!0}var ko=new Set,Lo={};function Vi(t,n){ki(t,n),ki(t+"Capture",n)}function ki(t,n){for(Lo[t]=n,t=0;t<n.length;t++)ko.add(n[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},jo={};function Eu(t){return xt.call(jo,t)?!0:xt.call(Po,t)?!1:Uo.test(t)?jo[t]=!0:(Po[t]=!0,!1)}function ba(t,n,r){if(Eu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Kt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=zs(t)?"checked":"value";t._valueTracker=zo(t,n,""+t[n])}}function zr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=zs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Br=/[\n"\\]/g;function In(t){return t.replace(Br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ln(n)):t.value!==""+ln(n)&&(t.value=""+ln(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Bo(t,p,ln(n)):r!=null?Bo(t,p,ln(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ln(E):t.removeAttribute("name")}function Tu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}r=r!=null?""+ln(r):"",n=n!=null?""+ln(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ut(t)}function Bo(t,n,r){n==="number"&&Li(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+ln(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function bu(t,n,r){if(n!=null&&(n=""+ln(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ln(r):""}function qs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ln(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ut(t)}function Nn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||Su.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ho(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&qo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&qo(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pi(){}var Go=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,Ui=null;function qr(t){var n=Jn(t);if(n&&(t=n.stateNode)){var r=t[on]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[on]||null;if(!h)throw Error(a(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&zr(o)}break e;case"textarea":bu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Bs(t,!!r.multiple,n,!1)}}}var xa=!1;function Fs(t,n,r){if(xa)return t(n,r);xa=!0;try{var o=t(n);return o}finally{if(xa=!1,(Gs!==null||Ui!==null)&&(yc(),Gs&&(n=Gs,t=Ui,Ui=Gs=null,qr(n),t)))for(n=0;n<t.length;n++)qr(t[n])}}function yi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[on]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Wn)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Hr=!1}var Pi=null,Fo=null,Gr=null;function Yo(){if(Gr)return Gr;var t,n=Fo,r=n.length,o,h="value"in Pi?Pi.value:Pi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Gr=h.slice(t,1<o?1-o:void 0)}function Fr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function os(){return!0}function _i(){return!1}function hn(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?os:_i,this.isPropagationStopped=_i,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),n}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=hn(ls),Ys=A({},ls,{view:0,detail:0}),Ko=hn(Ys),Ks,Ca,zi,Ra=A({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Ks=t.screenX-zi.screenX,Ca=t.screenY-zi.screenY):Ca=Ks=0,zi=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Qo=hn(Ra),Yr=A({},Ra,{dataTransfer:0}),wu=hn(Yr),xu=A({},Ys,{relatedTarget:0}),Kr=hn(xu),$o=A({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=hn($o),Ia=A({},ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=hn(Ia),Iu=A({},ls,{data:0}),Bi=hn(Iu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ou[t])?!!n[t]:!1}function Qs(){return Mu}var wn=A({},Ys,{key:function(t){if(t.key){var n=Nu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(t){return t.type==="keypress"?Fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vu=hn(wn),ku=A({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=hn(ku),u=A({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),m=hn(u),v=A({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=hn(v),U=A({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=hn(U),ne=A({},ls,{newState:0,oldState:0}),ke=hn(ne),jt=[9,13,27,32],it=Wn&&"CompositionEvent"in window,Ct=null;Wn&&"documentMode"in document&&(Ct=document.documentMode);var ei=Wn&&"TextEvent"in window&&!Ct,qi=Wn&&(!it||Ct&&8<Ct&&11>=Ct),vi=" ",Ei=!1;function Qr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function hT(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(Ei=!0,vi);case"textInput":return t=n.data,t===vi&&Ei?null:t;default:return null}}function fT(t,n){if(Da)return t==="compositionend"||!it&&Qr(t,n)?(t=Yo(),Gr=Fo=Pi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qi&&n.locale!=="ko"?null:n.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dT[t.type]:n==="textarea"}function Rg(t,n,r,o){Gs?Ui?Ui.push(o):Ui=[o]:Gs=o,n=Ac(n,"onChange"),0<n.length&&(r=new ji("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Xo=null,Jo=null;function mT(t){c0(t,0)}function Lu(t){var n=zn(t);if(zr(n))return t}function Ig(t,n){if(t==="change")return n}var Ng=!1;if(Wn){var Gh;if(Wn){var Fh="oninput"in document;if(!Fh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Fh=typeof Dg.oninput=="function"}Gh=Fh}else Gh=!1;Ng=Gh&&(!document.documentMode||9<document.documentMode)}function Og(){Xo&&(Xo.detachEvent("onpropertychange",Mg),Jo=Xo=null)}function Mg(t){if(t.propertyName==="value"&&Lu(Jo)){var n=[];Rg(n,Jo,t,Zn(t)),Fs(mT,n)}}function gT(t,n,r){t==="focusin"?(Og(),Xo=n,Jo=r,Xo.attachEvent("onpropertychange",Mg)):t==="focusout"&&Og()}function pT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Jo)}function yT(t,n){if(t==="click")return Lu(n)}function _T(t,n){if(t==="input"||t==="change")return Lu(n)}function vT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var qn=typeof Object.is=="function"?Object.is:vT;function Zo(t,n){if(qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!xt.call(n,h)||!qn(t[h],n[h]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,n){var r=Vg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function Lg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Li(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Li(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ET=Wn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Kh=null,Wo=null,Qh=!1;function Pg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qh||Oa==null||Oa!==Li(o)||(o=Oa,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Zo(Wo,o)||(Wo=o,o=Ac(Kh,"onSelect"),0<o.length&&(n=new ji("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Oa)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ma={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},$h={},jg={};Wn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Xr(t){if($h[t])return $h[t];if(!Ma[t])return t;var n=Ma[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jg)return $h[t]=n[r];return t}var zg=Xr("animationend"),Bg=Xr("animationiteration"),qg=Xr("animationstart"),TT=Xr("transitionrun"),bT=Xr("transitionstart"),ST=Xr("transitioncancel"),Hg=Xr("transitionend"),Gg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Ti(t,n){Gg.set(t,n),Vi(n,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ti=[],Va=0,Jh=0;function Pu(){for(var t=Va,n=Jh=Va=0;n<t;){var r=ti[n];ti[n++]=null;var o=ti[n];ti[n++]=null;var h=ti[n];ti[n++]=null;var f=ti[n];if(ti[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Fg(r,h,f)}}function ju(t,n,r,o){ti[Va++]=t,ti[Va++]=n,ti[Va++]=r,ti[Va++]=o,Jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Zh(t,n,r,o){return ju(t,n,r,o),zu(t)}function Jr(t,n){return ju(t,null,null,n),zu(t)}function Fg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ve(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<Tl)throw Tl=0,ld=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function AT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,n,r,o){return new AT(t,n,r,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cs(t,n){var r=t.alternate;return r===null?(r=Hn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Yg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Wh(t)&&(p=1);else if(typeof t=="string")p=Ib(t,r,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Hn(31,r,n,h),t.elementType=I,t.lanes=f,t;case re:return Zr(r.children,h,f,n);case ae:p=8,h|=24;break;case pe:return t=Hn(12,r,n,h|2),t.elementType=pe,t.lanes=f,t;case Et:return t=Hn(13,r,n,h),t.elementType=Et,t.lanes=f,t;case Pe:return t=Hn(19,r,n,h),t.elementType=Pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ie:p=10;break e;case Ve:p=9;break e;case at:p=11;break e;case C:p=14;break e;case w:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Hn(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Zr(t,n,r,o){return t=Hn(7,t,o,n),t.lanes=r,t}function ef(t,n,r){return t=Hn(6,t,null,n),t.lanes=r,t}function Kg(t){var n=Hn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,r){return n=Hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qg=new WeakMap;function ni(t,n){if(typeof t=="object"&&t!==null){var r=Qg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ur(n)},Qg.set(t,n),n)}return{value:t,source:n,stack:Ur(n)}}var La=[],Ua=0,qu=null,el=0,ii=[],si=0,$s=null,Hi=1,Gi="";function hs(t,n){La[Ua++]=el,La[Ua++]=qu,qu=t,el=n}function $g(t,n,r){ii[si++]=Hi,ii[si++]=Gi,ii[si++]=$s,$s=t;var o=Hi;t=Gi;var h=32-ve(o)-1;o&=~(1<<h),r+=1;var f=32-ve(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Hi=1<<32-ve(n)+h|r<<h|o,Gi=f+t}else Hi=1<<f|r<<h|o,Gi=t}function nf(t){t.return!==null&&(hs(t,1),$g(t,1,0))}function sf(t){for(;t===qu;)qu=La[--Ua],La[Ua]=null,el=La[--Ua],La[Ua]=null;for(;t===$s;)$s=ii[--si],ii[si]=null,Gi=ii[--si],ii[si]=null,Hi=ii[--si],ii[si]=null}function Xg(t,n){ii[si++]=Hi,ii[si++]=Gi,ii[si++]=$s,Hi=n.id,Gi=n.overflow,$s=t}var fn=null,bt=null,Je=!1,Xs=null,ri=!1,rf=Error(a(519));function Js(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(ni(n,t)),rf}function Jg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ft]=t,n[on]=o,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Be(Sl[r],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),Tu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),qs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||m0(n.textContent,r)?(o.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),o.onScroll!=null&&Be("scroll",n),o.onScrollEnd!=null&&Be("scrollend",n),o.onClick!=null&&(n.onclick=pi),n=!0):n=!1,n||Js(t,!0)}function Zg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:fn=fn.return}}function Pa(t){if(t!==fn)return!1;if(!Je)return Zg(t),Je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&bt&&Js(t),Zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=S0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=S0(t)}else n===27?(n=bt,hr(t.type)?(t=Rd,Rd=null,bt=t):bt=n):bt=fn?oi(t.stateNode.nextSibling):null;return!0}function Wr(){bt=fn=null,Je=!1}function af(){var t=Xs;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Xs=null),t}function tl(t){Xs===null?Xs=[t]:Xs.push(t)}var of=O(null),ea=null,fs=null;function Zs(t,n,r){se(of,n._currentValue),n._currentValue=r}function ds(t){t._currentValue=of.current,Y(of)}function lf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function uf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),lf(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),lf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;qn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===He.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&uf(n,t,r,o),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return Wg(ea,t)}function Gu(t,n){return ea===null&&ta(t),Wg(t,n)}function Wg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},fs===null){if(t===null)throw Error(a(308));fs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else fs=fs.next=n;return r}var wT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},xT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,Qt={$$typeof:Ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new wT,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&xT(CT,function(){t.controller.abort()})}var il=null,hf=0,za=0,Ba=null;function RT(t,n){if(il===null){var r=il=[];hf=0,za=md(),Ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return hf++,n.then(ep,ep),n}function ep(){if(--hf===0&&il!==null){Ba!==null&&(Ba.status="fulfilled");var t=il;il=null,za=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function IT(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var tp=G.S;G.S=function(t,n){Py=B(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(t,n),tp!==null&&tp(t,n)};var na=O(null);function ff(){var t=na.current;return t!==null?t:yt.pooledCache}function Fu(t,n){n===null?se(na,na.current):se(na,n.pool)}function np(){var t=ff();return t===null?null:{parent:Qt._currentValue,pool:t}}var qa=Error(a(460)),df=Error(a(474)),Yu=Error(a(542)),Ku={then:function(){}};function ip(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(pi,pi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ap(t),t;default:if(typeof n.status=="string")n.then(pi,pi);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ap(t),t}throw sa=n,qa}}function ia(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(sa=r,qa):r}}var sa=null;function rp(){if(sa===null)throw Error(a(459));var t=sa;return sa=null,t}function ap(t){if(t===qa||t===Yu)throw Error(a(483))}var Ha=null,sl=0;function Qu(t){var n=sl;return sl+=1,Ha===null&&(Ha=[]),sp(Ha,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function op(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=cs(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Q){return D===null||D.tag!==6?(D=ef(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,Q){var Te=P.type;return Te===re?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&ia(Te)===D.type)?(D=h(D,P.props),rl(D,P),D.return=k,D):(D=Bu(P.type,P.key,P.props,null,k.mode,Q),rl(D,P),D.return=k,D)}function j(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=tf(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,Te){return D===null||D.tag!==7?(D=Zr(P,k.mode,Q,Te),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return P=Bu(D.type,D.key,D.props,null,k.mode,P),rl(P,D),P.return=k,P;case te:return D=tf(D,k.mode,P),D.return=k,D;case w:return D=ia(D),$(k,D,P)}if(wt(D)||L(D))return D=Zr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Qu(D),P);if(D.$$typeof===Ie)return $(k,Gu(k,D),P);$u(k,D)}return null}function z(k,D,P,Q){var Te=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Te!==null?null:E(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===Te?R(k,D,P,Q):null;case te:return P.key===Te?j(k,D,P,Q):null;case w:return P=ia(P),z(k,D,P,Q)}if(wt(P)||L(P))return Te!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return z(k,D,Qu(P),Q);if(P.$$typeof===Ie)return z(k,D,Gu(k,P),Q);$u(k,P)}return null}function H(k,D,P,Q,Te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(D,k,""+Q,Te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?P:Q.key)||null,R(D,k,Q,Te);case te:return k=k.get(Q.key===null?P:Q.key)||null,j(D,k,Q,Te);case w:return Q=ia(Q),H(k,D,P,Q,Te)}if(wt(Q)||L(Q))return k=k.get(P)||null,F(D,k,Q,Te,null);if(typeof Q.then=="function")return H(k,D,P,Qu(Q),Te);if(Q.$$typeof===Ie)return H(k,D,P,Gu(D,Q),Te);$u(D,Q)}return null}function he(k,D,P,Q){for(var Te=null,tt=null,de=D,Ue=D=0,Ye=null;de!==null&&Ue<P.length;Ue++){de.index>Ue?(Ye=de,de=null):Ye=de.sibling;var nt=z(k,de,P[Ue],Q);if(nt===null){de===null&&(de=Ye);break}t&&de&&nt.alternate===null&&n(k,de),D=f(nt,D,Ue),tt===null?Te=nt:tt.sibling=nt,tt=nt,de=Ye}if(Ue===P.length)return r(k,de),Je&&hs(k,Ue),Te;if(de===null){for(;Ue<P.length;Ue++)de=$(k,P[Ue],Q),de!==null&&(D=f(de,D,Ue),tt===null?Te=de:tt.sibling=de,tt=de);return Je&&hs(k,Ue),Te}for(de=o(de);Ue<P.length;Ue++)Ye=H(de,k,Ue,P[Ue],Q),Ye!==null&&(t&&Ye.alternate!==null&&de.delete(Ye.key===null?Ue:Ye.key),D=f(Ye,D,Ue),tt===null?Te=Ye:tt.sibling=Ye,tt=Ye);return t&&de.forEach(function(pr){return n(k,pr)}),Je&&hs(k,Ue),Te}function we(k,D,P,Q){if(P==null)throw Error(a(151));for(var Te=null,tt=null,de=D,Ue=D=0,Ye=null,nt=P.next();de!==null&&!nt.done;Ue++,nt=P.next()){de.index>Ue?(Ye=de,de=null):Ye=de.sibling;var pr=z(k,de,nt.value,Q);if(pr===null){de===null&&(de=Ye);break}t&&de&&pr.alternate===null&&n(k,de),D=f(pr,D,Ue),tt===null?Te=pr:tt.sibling=pr,tt=pr,de=Ye}if(nt.done)return r(k,de),Je&&hs(k,Ue),Te;if(de===null){for(;!nt.done;Ue++,nt=P.next())nt=$(k,nt.value,Q),nt!==null&&(D=f(nt,D,Ue),tt===null?Te=nt:tt.sibling=nt,tt=nt);return Je&&hs(k,Ue),Te}for(de=o(de);!nt.done;Ue++,nt=P.next())nt=H(de,k,Ue,nt.value,Q),nt!==null&&(t&&nt.alternate!==null&&de.delete(nt.key===null?Ue:nt.key),D=f(nt,D,Ue),tt===null?Te=nt:tt.sibling=nt,tt=nt);return t&&de.forEach(function(zb){return n(k,zb)}),Je&&hs(k,Ue),Te}function pt(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var Te=P.key;D!==null;){if(D.key===Te){if(Te=P.type,Te===re){if(D.tag===7){r(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===w&&ia(Te)===D.type){r(k,D.sibling),Q=h(D,P.props),rl(Q,P),Q.return=k,k=Q;break e}r(k,D);break}else n(k,D);D=D.sibling}P.type===re?(Q=Zr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Bu(P.type,P.key,P.props,null,k.mode,Q),rl(Q,P),Q.return=k,k=Q)}return p(k);case te:e:{for(Te=P.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else n(k,D);D=D.sibling}Q=tf(P,k.mode,Q),Q.return=k,k=Q}return p(k);case w:return P=ia(P),pt(k,D,P,Q)}if(wt(P))return he(k,D,P,Q);if(L(P)){if(Te=L(P),typeof Te!="function")throw Error(a(150));return P=Te.call(P),we(k,D,P,Q)}if(typeof P.then=="function")return pt(k,D,Qu(P),Q);if(P.$$typeof===Ie)return pt(k,D,Gu(k,P),Q);$u(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(r(k,D),Q=ef(P,k.mode,Q),Q.return=k,k=Q),p(k)):r(k,D)}return function(k,D,P,Q){try{sl=0;var Te=pt(k,D,P,Q);return Ha=null,Te}catch(de){if(de===qa||de===Yu)throw de;var tt=Hn(29,de,null,k.mode);return tt.lanes=Q,tt.return=k,tt}}}var ra=op(!0),lp=op(!1),Ws=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(st&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=zu(t),Fg(t,null,r),n}return ju(t,o,n,r),zu(t)}function al(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Pr(t,r)}}function pf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var yf=!1;function ol(){if(yf){var t=Ba;if(t!==null)throw t}}function ll(t,n,r,o){yf=!1;var h=t.updateQueue;Ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,p===null?f=j:p.next=j,p=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;p=0,F=j=R=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Fe&z)===z:(o&z)===z){z!==0&&z===za&&(yf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,we=E;z=n;var pt=r;switch(we.tag){case 1:if(he=we.payload,typeof he=="function"){$=he.call(pt,$,z);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=we.payload,z=typeof he=="function"?he.call(pt,$,z):he,z==null)break e;$=A({},$,z);break e;case 2:Ws=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,R=$):F=F.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(R=$),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ar|=p,t.lanes=p,t.memoizedState=$}}function up(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function cp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)up(r[t],n)}var Ga=O(null),Xu=O(0);function hp(t,n){t=bs,se(Xu,t),se(Ga,n),bs=t|n.baseLanes}function _f(){se(Xu,bs),se(Ga,Ga.current)}function vf(){bs=Xu.current,Y(Ga),Y(Xu)}var Gn=O(null),ai=null;function nr(t){var n=t.alternate;se(zt,zt.current&1),se(Gn,t),ai===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(ai=t)}function Ef(t){se(zt,zt.current),se(Gn,t),ai===null&&(ai=t)}function fp(t){t.tag===22?(se(zt,zt.current),se(Gn,t),ai===null&&(ai=t)):ir()}function ir(){se(zt,zt.current),se(Gn,Gn.current)}function Fn(t){Y(Gn),ai===t&&(ai=null),Y(zt)}var zt=O(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||xd(r)||Cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ms=0,Le=null,mt=null,$t=null,Zu=!1,Fa=!1,aa=!1,Wu=0,ul=0,Ya=null,NT=0;function Mt(){throw Error(a(321))}function Tf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!qn(t[r],n[r]))return!1;return!0}function bf(t,n,r,o,h,f){return ms=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?$p:Uf,aa=!1,f=r(o,h),aa=!1,Fa&&(f=mp(n,r,o,h)),dp(t),f}function dp(t){G.H=fl;var n=mt!==null&&mt.next!==null;if(ms=0,$t=mt=Le=null,Zu=!1,ul=0,Ya=null,n)throw Error(a(300));t===null||Xt||(t=t.dependencies,t!==null&&Hu(t)&&(Xt=!0))}function mp(t,n,r,o){Le=t;var h=0;do{if(Fa&&(Ya=null),ul=0,Fa=!1,25<=h)throw Error(a(301));if(h+=1,$t=mt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Xp,f=n(r,o)}while(Fa);return f}function DT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Le.flags|=1024),n}function Sf(){var t=Wu!==0;return Wu=0,t}function Af(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wf(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}ms=0,$t=mt=Le=null,Fa=!1,ul=Wu=0,Ya=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Le.memoizedState=$t=t:$t=$t.next=t,$t}function Bt(){if(mt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var n=$t===null?Le.memoizedState:$t.next;if(n!==null)$t=n,mt=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},$t===null?Le.memoizedState=$t=t:$t=$t.next=t}return $t}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,Ya===null&&(Ya=[]),t=sp(Ya,t,n),n=Le,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?$p:Uf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===Ie)return dn(t)}throw Error(a(438,String(t)))}function xf(t){var n=null,r=Le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Le.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ec(),Le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function gs(t,n){return typeof n=="function"?n(t):n}function nc(t){var n=Bt();return Cf(n,mt,t)}function Cf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Fe&$)===$:(ms&$)===$){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===za&&(F=!0);else if((ms&z)===z){j=j.next,z===za&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=$,p=f):R=R.next=$,Le.lanes|=z,ar|=z;$=j.action,aa&&r(f,$),f=j.hasEagerState?j.eagerState:r(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,Le.lanes|=$,ar|=$;j=j.next}while(j!==null&&j!==n);if(R===null?p=f:R.next=E,!qn(f,t.memoizedState)&&(Xt=!0,F&&(r=Ba,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rf(t){var n=Bt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);qn(f,n.memoizedState)||(Xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function gp(t,n,r){var o=Le,h=Bt(),f=Je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!qn((mt||h).memoizedState,r);if(p&&(h.memoizedState=r,Xt=!0),h=h.queue,Df(_p.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},yp.bind(null,o,h,r,n),null),yt===null)throw Error(a(349));f||(ms&127)!==0||pp(o,n,r)}return r}function pp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Le.updateQueue,n===null?(n=ec(),Le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function yp(t,n,r,o){n.value=r,n.getSnapshot=o,vp(n)&&Ep(t)}function _p(t,n,r){return r(function(){vp(n)&&Ep(t)})}function vp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!qn(t,r)}catch{return!0}}function Ep(t){var n=Jr(t,2);n!==null&&kn(n,t,2)}function If(t){var n=xn();if(typeof t=="function"){var r=t;if(t=r(),aa){je(!0);try{r()}finally{je(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},n}function Tp(t,n,r,o){return t.baseState=r,Cf(t,mt,typeof o=="function"?o:gs)}function OT(t,n,r,o,h){if(rc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,bp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,o),R=G.S;R!==null&&R(p,E),Sp(t,n,E)}catch(j){Nf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),Sp(t,n,f)}catch(j){Nf(t,n,j)}}function Sp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ap(t,n,o)},function(o){return Nf(t,n,o)}):Ap(t,n,r)}function Ap(t,n,r){n.status="fulfilled",n.value=r,wp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bp(t,r)))}function Nf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,wp(n),n=n.next;while(n!==o)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xp(t,n){return n}function Cp(t,n){if(Je){var r=yt.formState;if(r!==null){e:{var o=Le;if(Je){if(bt){t:{for(var h=bt,f=ri;h.nodeType!==8;){if(!f){h=null;break t}if(h=oi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=oi(h.nextSibling),o=h.data==="F!";break e}}Js(o)}o=!1}o&&(n=r[0])}}return r=xn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:n},r.queue=o,r=Yp.bind(null,Le,o),o.dispatch=r,o=If(!1),f=Lf.bind(null,Le,!1,o.queue),o=xn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=OT.bind(null,Le,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Rp(t){var n=Bt();return Ip(n,mt,t)}function Ip(t,n,r){if(n=Cf(t,n,xp)[0],t=nc(gs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=cl(n)}catch(p){throw p===qa?Yu:p}else o=n;n=Bt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Le.flags|=2048,Ka(9,{destroy:void 0},MT.bind(null,h,r),null)),[o,f,t]}function MT(t,n){t.action=n}function Np(t){var n=Bt(),r=mt;if(r!==null)return Ip(n,r,t);Bt(),n=n.memoizedState,r=Bt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ka(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Le.updateQueue,n===null&&(n=ec(),Le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Dp(){return Bt().memoizedState}function ic(t,n,r,o){var h=xn();Le.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},r,o===void 0?null:o)}function sc(t,n,r,o){var h=Bt();o=o===void 0?null:o;var f=h.memoizedState.inst;mt!==null&&o!==null&&Tf(o,mt.memoizedState.deps)?h.memoizedState=Ka(n,f,r,o):(Le.flags|=t,h.memoizedState=Ka(1|n,f,r,o))}function Op(t,n){ic(8390656,8,t,n)}function Df(t,n){sc(2048,8,t,n)}function VT(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=ec(),Le.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Mp(t){var n=Bt().memoizedState;return VT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vp(t,n){return sc(4,2,t,n)}function kp(t,n){return sc(4,4,t,n)}function Lp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Up(t,n,r){r=r!=null?r.concat([t]):null,sc(4,4,Lp.bind(null,n,t),r)}function Of(){}function Pp(t,n){var r=Bt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Tf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function jp(t,n){var r=Bt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Tf(n,o[1]))return o[0];if(o=t(),aa){je(!0);try{t()}finally{je(!1)}}return r.memoizedState=[o,n],o}function Mf(t,n,r){return r===void 0||(ms&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=zy(),Le.lanes|=t,ar|=t,r)}function zp(t,n,r,o){return qn(r,n)?r:Ga.current!==null?(t=Mf(t,r,o),qn(t,n)||(Xt=!0),t):(ms&42)===0||(ms&1073741824)!==0&&(Fe&261930)===0?(Xt=!0,t.memoizedState=r):(t=zy(),Le.lanes|=t,ar|=t,n)}function Bp(t,n,r,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Lf(t,!1,n,r);try{var R=h(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=IT(R,o);hl(t,n,F,Qn(t))}else hl(t,n,o,Qn(t))}catch($){hl(t,n,{then:function(){},status:"rejected",reason:$},Qn())}finally{ie.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function kT(){}function Vf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=qp(t).queue;Bp(t,h,n,me,r===null?kT:function(){return Hp(t),r(o)})}function qp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hp(t){var n=qp(t);n.next===null&&(n=t.alternate.memoizedState),hl(t,n.next.queue,{},Qn())}function kf(){return dn(Rl)}function Gp(){return Bt().memoizedState}function Fp(){return Bt().memoizedState}function LT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Qn();t=er(r);var o=tr(n,t,r);o!==null&&(kn(o,n,r),al(o,n,r)),n={cache:cf()},t.payload=n;return}n=n.return}}function UT(t,n,r){var o=Qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},rc(t)?Kp(n,r):(r=Zh(t,n,r,o),r!==null&&(kn(r,t,o),Qp(r,n,o)))}function Yp(t,n,r){var o=Qn();hl(t,n,r,o)}function hl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(t))Kp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,qn(E,p))return ju(t,n,h,0),yt===null&&Pu(),!1}catch{}if(r=Zh(t,n,h,o),r!==null)return kn(r,t,o),Qp(r,n,o),!0}return!1}function Lf(t,n,r,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(n)throw Error(a(479))}else n=Zh(t,r,o,2),n!==null&&kn(n,t,2)}function rc(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Kp(t,n){Fa=Zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Pr(t,r)}}var fl={readContext:dn,use:tc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};fl.useEffectEvent=Mt;var $p={readContext:dn,use:tc,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:dn,useEffect:Op,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ic(4194308,4,Lp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ic(4194308,4,t,n)},useInsertionEffect:function(t,n){ic(4,2,t,n)},useMemo:function(t,n){var r=xn();n=n===void 0?null:n;var o=t();if(aa){je(!0);try{t()}finally{je(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=xn();if(r!==void 0){var h=r(n);if(aa){je(!0);try{r(n)}finally{je(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=UT.bind(null,Le,t),[o.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=Yp.bind(null,Le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Of,useDeferredValue:function(t,n){var r=xn();return Mf(r,t,n)},useTransition:function(){var t=If(!1);return t=Bp.bind(null,Le,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Le,h=xn();if(Je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),yt===null)throw Error(a(349));(Fe&127)!==0||pp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Op(_p.bind(null,o,f,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},yp.bind(null,o,f,r,n),null),r},useId:function(){var t=xn(),n=yt.identifierPrefix;if(Je){var r=Gi,o=Hi;r=(o&~(1<<32-ve(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Wu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,Le,!0,r),r.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return xn().memoizedState=LT.bind(null,Le)},useEffectEvent:function(t){var n=xn(),r={impl:t};return n.memoizedState=r,function(){if((st&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:dn,use:tc,useCallback:Pp,useContext:dn,useEffect:Df,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:jp,useReducer:nc,useRef:Dp,useState:function(){return nc(gs)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Bt();return zp(r,mt.memoizedState,t,n)},useTransition:function(){var t=nc(gs)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:kf,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=Bt();return Tp(r,mt,t,n)},useMemoCache:xf,useCacheRefresh:Fp};Uf.useEffectEvent=Mp;var Xp={readContext:dn,use:tc,useCallback:Pp,useContext:dn,useEffect:Df,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:kp,useMemo:jp,useReducer:Rf,useRef:Dp,useState:function(){return Rf(gs)},useDebugValue:Of,useDeferredValue:function(t,n){var r=Bt();return mt===null?Mf(r,t,n):zp(r,mt.memoizedState,t,n)},useTransition:function(){var t=Rf(gs)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:kf,useFormState:Np,useActionState:Np,useOptimistic:function(t,n){var r=Bt();return mt!==null?Tp(r,mt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:xf,useCacheRefresh:Fp};Xp.useEffectEvent=Mp;function Pf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Qn(),h=er(o);h.payload=n,r!=null&&(h.callback=r),n=tr(t,h,o),n!==null&&(kn(n,t,o),al(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Qn(),h=er(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tr(t,h,o),n!==null&&(kn(n,t,o),al(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Qn(),o=er(r);o.tag=2,n!=null&&(o.callback=n),n=tr(t,o,r),n!==null&&(kn(n,t,r),al(n,t,r))}};function Jp(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Zo(r,o)||!Zo(h,f):!0}function Zp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Wp(t){Uu(t)}function ey(t){console.error(t)}function ty(t){Uu(t)}function ac(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,r){return r=er(r),r.tag=3,r.payload={element:null},r.callback=function(){ac(t,n)},r}function iy(t){return t=er(t),t.tag=3,t}function sy(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ny(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ny(n,r,o),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ja(n,r,h,!0),r=Gn.current,r!==null){switch(r.tag){case 31:case 13:return ai===null?_c():r.alternate===null&&Vt===0&&(Vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return r.flags|=65536,o===Ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),hd(t,o,h)),!1}throw Error(a(435,r.tag))}return hd(t,o,h),_c(),!1}if(Je)return n=Gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(t=Error(a(422),{cause:o}),tl(ni(t,r)))):(o!==rf&&(n=Error(a(423),{cause:o}),tl(ni(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ni(o,r),h=zf(t.stateNode,o,h),pf(t,h),Vt!==4&&(Vt=2)),!1;var f=Error(a(520),{cause:o});if(f=ni(f,r),El===null?El=[f]:El.push(f),Vt!==4&&(Vt=2),n===null)return!0;o=ni(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=zf(r.stateNode,o,t),pf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=iy(h),sy(h,t,r,o),pf(r,h),!1}r=r.return}while(r!==null);return!1}var Bf=Error(a(461)),Xt=!1;function mn(t,n,r,o){n.child=t===null?lp(n,null,r,o):ra(n,t.child,r,o)}function ry(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return ta(n),o=bf(t,n,r,p,f,h),E=Sf(),t!==null&&!Xt?(Af(t,n,h),ps(t,n,h)):(Je&&E&&nf(n),n.flags|=1,mn(t,n,o,h),n.child)}function ay(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,oy(t,n,f,o,h)):(t=Bu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(p,o)&&t.ref===n.ref)return ps(t,n,h)}return n.flags|=1,t=cs(f,o),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(Xt=!1,n.pendingProps=o=f,$f(t,h))(t.flags&131072)!==0&&(Xt=!0);else return n.lanes=t.lanes,ps(t,n,h)}return qf(t,n,r,o,h)}function ly(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return uy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fu(n,f!==null?f.cachePool:null),f!==null?hp(n,f):_f(),fp(n);else return o=n.lanes=536870912,uy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Fu(n,f.cachePool),hp(n,f),ir(),n.memoizedState=null):(t!==null&&Fu(n,null),_f(),ir());return mn(t,n,h,r),n.child}function dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(t,n,r,o,h){var f=ff();return f=f===null?null:{parent:Qt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Fu(n,null),_f(),fp(n),t!==null&&ja(t,n,o,!0),n.childLanes=h,null}function oc(t,n){return n=uc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function cy(t,n,r){return ra(n,t.child,null,r),t=oc(n,n.pendingProps),t.flags|=2,Fn(n),n.memoizedState=null,t}function jT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=oc(n,o),n.lanes=536870912,dl(null,t);if(Ef(n),(t=bt)?(t=b0(t,ri),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},r=Kg(t),r.return=n,n.child=r,fn=n,bt=null)):t=null,t===null)throw Js(n);return n.lanes=536870912,null}return oc(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=cy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xt||ja(t,n,r,!1),h=(r&t.childLanes)!==0,Xt||h){if(o=yt,o!==null&&(p=Vo(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Jr(t,p),kn(o,t,p),Bf;_c(),n=cy(t,n,r)}else t=f.treeContext,bt=oi(p.nextSibling),fn=n,Je=!0,Xs=null,ri=!1,t!==null&&Xg(n,t),n=oc(n,o),n.flags|=4096;return n}return t=cs(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qf(t,n,r,o,h){return ta(n),r=bf(t,n,r,o,void 0,h),o=Sf(),t!==null&&!Xt?(Af(t,n,h),ps(t,n,h)):(Je&&o&&nf(n),n.flags|=1,mn(t,n,r,h),n.child)}function hy(t,n,r,o,h,f){return ta(n),n.updateQueue=null,r=mp(n,o,r,h),dp(t),o=Sf(),t!==null&&!Xt?(Af(t,n,f),ps(t,n,f)):(Je&&o&&nf(n),n.flags|=1,mn(t,n,r,f),n.child)}function fy(t,n,r,o,h){if(ta(n),n.stateNode===null){var f=ka,p=r.contextType;typeof p=="object"&&p!==null&&(f=dn(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=jf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?dn(p):ka,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Pf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&jf.enqueueReplaceState(f,f.state,null),ll(n,o,f,h),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=oa(r,E);f.props=R;var j=f.context,F=r.contextType;p=ka,typeof F=="object"&&F!==null&&(p=dn(F));var $=r.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Zp(n,f,o,p),Ws=!1;var z=n.memoizedState;f.state=z,ll(n,o,f,h),ol(),j=n.memoizedState,E||z!==j||Ws?(typeof $=="function"&&(Pf(n,r,$,o),j=n.memoizedState),(R=Ws||Jp(n,r,R,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(t,n),p=n.memoizedProps,F=oa(r,p),f.props=F,$=n.pendingProps,z=f.context,j=r.contextType,R=ka,typeof j=="object"&&j!==null&&(R=dn(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==R)&&Zp(n,f,o,R),Ws=!1,z=n.memoizedState,f.state=z,ll(n,o,f,h),ol();var H=n.memoizedState;p!==$||z!==H||Ws||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(Pf(n,r,E,o),H=n.memoizedState),(F=Ws||Jp(n,r,F,o,z,H,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,lc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ra(n,t.child,null,h),n.child=ra(n,null,r,h)):mn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ps(t,n,h),t}function dy(t,n,r,o){return Wr(),n.flags|=256,mn(t,n,r,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:np()}}function Ff(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Kn),t}function my(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?nr(n):ir(),(t=bt)?(t=b0(t,ri),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},r=Kg(t),r.return=n,n.child=r,fn=n,bt=null)):t=null,t===null)throw Js(n);return Cd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ir(),h=n.mode,E=uc({mode:"hidden",children:E},h),o=Zr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(r),o.childLanes=Ff(t,p,r),n.memoizedState=Hf,dl(null,o)):(nr(n),Yf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=Kf(t,n,r)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),E=o.fallback,h=n.mode,o=uc({mode:"visible",children:o.children},h),E=Zr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ra(n,t.child,null,r),o=n.child,o.memoizedState=Gf(r),o.childLanes=Ff(t,p,r),n.memoizedState=Hf,n=dl(null,o));else if(nr(n),Cd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,tl({value:o,source:null,stack:null}),n=Kf(t,n,r)}else if(Xt||ja(t,n,r,!1),p=(r&t.childLanes)!==0,Xt||p){if(p=yt,p!==null&&(o=Vo(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Jr(t,o),kn(p,t,o),Bf;xd(E)||_c(),n=Kf(t,n,r)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,bt=oi(E.nextSibling),fn=n,Je=!0,Xs=null,ri=!1,t!==null&&Xg(n,t),n=Yf(n,o.children),n.flags|=4096);return n}return h?(ir(),E=o.fallback,h=n.mode,R=t.child,j=R.sibling,o=cs(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=cs(j,E):(E=Zr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,dl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Gf(r):(h=E.cachePool,h!==null?(R=Qt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=np(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Ff(t,p,r),n.memoizedState=Hf,dl(t.child,o)):(nr(n),r=t.child,t=r.sibling,r=cs(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Yf(t,n){return n=uc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uc(t,n){return t=Hn(22,t,null,n),t.lanes=0,t}function Kf(t,n,r){return ra(n,t.child,null,r),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,r)}function Qf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function py(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=zt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,se(zt,p),mn(t,n,o,r),o=Je?el:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,n);else if(t.tag===19)gy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Ju(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qf(n,!0,r,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ps(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ar|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ja(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cs(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cs(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function zT(t,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Zs(n,Qt,t.memoizedState.cache),Wr();break;case 27:case 5:ns(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Zs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?my(t,n,r):(nr(n),t=ps(t,n,r),t!==null?t.sibling:null);nr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ja(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return py(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(zt,zt.current),o)break;return null;case 22:return n.lanes=0,ly(t,n,r,n.pendingProps);case 24:Zs(n,Qt,t.memoizedState.cache)}return ps(t,n,r)}function yy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Xt=!0;else{if(!$f(t,r)&&(n.flags&128)===0)return Xt=!1,zT(t,n,r);Xt=(t.flags&131072)!==0}else Xt=!1,Je&&(n.flags&1048576)!==0&&$g(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ia(n.elementType),n.type=t,typeof t=="function")Wh(t)?(o=oa(t,o),n.tag=1,n=fy(null,n,t,o,r)):(n.tag=0,n=qf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===at){n.tag=11,n=ry(null,n,t,o,r);break e}else if(h===C){n.tag=14,n=ay(null,n,t,o,r);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=oa(o,n.pendingProps),fy(t,n,o,h,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),ll(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Zs(n,Qt,o),o!==f.cache&&uf(n,[Qt],r,!0),ol(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(t,n,o,r);break e}else if(o!==h){h=ni(Error(a(424)),n),tl(h),n=dy(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,bt=oi(t.firstChild),fn=n,Je=!0,Xs=null,ri=!0,r=lp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),o===h){n=ps(t,n,r);break e}mn(t,n,o,r)}n=n.child}return n;case 26:return lc(t,n),t===null?(r=R0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Je||(r=n.type,t=n.pendingProps,o=wc(Me.current).createElement(r),o[Ft]=n,o[on]=t,gn(o,r,t),Yt(o),n.stateNode=o):n.memoizedState=R0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ns(n),t===null&&Je&&(o=n.stateNode=w0(n.type,n.pendingProps,Me.current),fn=n,ri=!0,h=bt,hr(n.type)?(Rd=h,bt=oi(o.firstChild)):bt=h),mn(t,n,n.pendingProps.children,r),lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=o=bt)&&(o=pb(o,n.type,n.pendingProps,ri),o!==null?(n.stateNode=o,fn=n,bt=oi(o.firstChild),ri=!1,h=!0):h=!1),h||Js(n)),ns(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Sd(h,f)?o=null:p!==null&&Sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,DT,null,null,r),Rl._currentValue=h),lc(t,n),mn(t,n,o,r),n.child;case 6:return t===null&&Je&&((t=r=bt)&&(r=yb(r,n.pendingProps,ri),r!==null?(n.stateNode=r,fn=n,bt=null,t=!0):t=!1),t||Js(n)),null;case 13:return my(t,n,r);case 4:return Ot(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ra(n,null,o,r):mn(t,n,o,r),n.child;case 11:return ry(t,n,n.type,n.pendingProps,r);case 7:return mn(t,n,n.pendingProps,r),n.child;case 8:return mn(t,n,n.pendingProps.children,r),n.child;case 12:return mn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Zs(n,n.type,o.value),mn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ta(n),h=dn(h),o=o(h),n.flags|=1,mn(t,n,o,r),n.child;case 14:return ay(t,n,n.type,n.pendingProps,r);case 15:return oy(t,n,n.type,n.pendingProps,r);case 19:return py(t,n,r);case 31:return jT(t,n,r);case 22:return ly(t,n,r,n.pendingProps);case 24:return ta(n),o=dn(Qt),t===null?(h=ff(),h===null&&(h=yt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},mf(n),Zs(n,Qt,h)):((t.lanes&r)!==0&&(gf(t,n),ll(n,null,null,r),ol()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zs(n,Qt,o)):(o=f.cache,Zs(n,Qt,o),o!==h.cache&&uf(n,[Qt],r,!0))),mn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ys(t){t.flags|=4}function Xf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw sa=Ku,df}else t.flags&=-16777217}function _y(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M0(n))if(Gy())t.flags|=8192;else throw sa=Ku,df}function cc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ii():536870912,t.lanes|=n,Ja|=n)}function ml(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function BT(t,n,r){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ds(Qt),_t(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pa(n)?ys(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),St(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ys(n),f!==null?(St(n),_y(n,f)):(St(n),Xf(n,h,null,o,r))):f?f!==t.memoizedState?(ys(n),St(n),_y(n,f)):(St(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ys(n),St(n),Xf(n,h,t,o,r)),null;case 27:if(Ls(n),r=Me.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}t=ee.current,Pa(n)?Jg(n):(t=w0(h,o,r),n.stateNode=t,ys(n))}return St(n),null;case 5:if(Ls(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}if(f=ee.current,Pa(n))Jg(n);else{var p=wc(Me.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ft]=n,f[on]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(gn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ys(n)}}return St(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ys(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Me.current,Pa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=fn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ft]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||m0(t.nodeValue,r)),t||Js(n,!0)}else t=wc(t).createTextNode(o),t[Ft]=n,n.stateNode=t}return St(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Pa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ft]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),t=!1}else r=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Fn(n),n):(Fn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return St(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ft]=n}else Wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Fn(n),n):(Fn(n),null)}return Fn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),cc(n,n.updateQueue),St(n),null);case 4:return _t(),t===null&&_d(n.stateNode.containerInfo),St(n),null;case 10:return ds(n.type),St(n),null;case 19:if(Y(zt),o=n.memoizedState,o===null)return St(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ml(o,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,ml(o,!1),t=f.updateQueue,n.updateQueue=t,cc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Yg(r,t),r=r.sibling;return se(zt,zt.current&1|2),Je&&hs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&B()>gc&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304)}else{if(!h)if(t=Ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,cc(n,t),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Je)return St(n),null}else 2*B()-o.renderingStartTime>gc&&r!==536870912&&(n.flags|=128,h=!0,ml(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=B(),t.sibling=null,r=zt.current,se(zt,h?r&1|2:r&1),Je&&hs(n,o.treeForkCount),t):(St(n),null);case 22:case 23:return Fn(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),r=n.updateQueue,r!==null&&cc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ds(Qt),St(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ds(Qt),_t(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ls(n),null;case 31:if(n.memoizedState!==null){if(Fn(n),n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Fn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Wr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(zt),null;case 4:return _t(),null;case 10:return ds(n.type),null;case 22:case 23:return Fn(n),vf(),t!==null&&Y(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ds(Qt),null;case 25:return null;default:return null}}function vy(t,n){switch(sf(n),n.tag){case 3:ds(Qt),_t();break;case 26:case 27:case 5:Ls(n);break;case 4:_t();break;case 31:n.memoizedState!==null&&Fn(n);break;case 13:Fn(n);break;case 19:Y(zt);break;case 10:ds(n.type);break;case 22:case 23:Fn(n),vf(),t!==null&&Y(na);break;case 24:ds(Qt)}}function gl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){ht(n,n.return,E)}}function sr(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,j=E;try{j()}catch(F){ht(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){ht(n,n.return,F)}}function Ey(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{cp(n,r)}catch(o){ht(t,t.return,o)}}}function Ty(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ht(t,n,o)}}function pl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){ht(t,n,h)}}function Fi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ht(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ht(t,n,h)}else r.current=null}function by(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ht(t,t.return,h)}}function Jf(t,n,r){try{var o=t.stateNode;cb(o,t.type,r,n),o[on]=n}catch(h){ht(t,t.return,h)}}function Sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=pi));else if(o!==4&&(o===27&&hr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,r),t=t.sibling;t!==null;)Wf(t,n,r),t=t.sibling}function hc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&hr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(hc(t,n,r),t=t.sibling;t!==null;)hc(t,n,r),t=t.sibling}function Ay(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);gn(n,o,r),n[Ft]=t,n[on]=r}catch(f){ht(t,t.return,f)}}var _s=!1,Jt=!1,ed=!1,wy=typeof WeakSet=="function"?WeakSet:Set,un=null;function HT(t,n){if(t=t.containerInfo,Td=Oc,t=Ug(t),Yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,R=-1,j=0,F=0,$=t,z=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=p+h),$!==f||o!==0&&$.nodeType!==3||(R=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===r&&++j===h&&(E=p),z===f&&++F===o&&(R=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(bd={focusedElem:t,selectionRange:r},Oc=!1,un=n;un!==null;)if(n=un,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,un=t;else for(;un!==null;){switch(n=un,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var he=oa(r.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){ht(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,un=t;break}un=n.return}}function xy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Es(t,r),o&4&&gl(5,r);break;case 1:if(Es(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ht(r,r.return,p)}else{var h=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ht(r,r.return,p)}}o&64&&Ey(r),o&512&&pl(r,r.return);break;case 3:if(Es(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{cp(t,n)}catch(p){ht(r,r.return,p)}}break;case 27:n===null&&o&4&&Ay(r);case 26:case 5:Es(t,r),n===null&&o&4&&by(r),o&512&&pl(r,r.return);break;case 12:Es(t,r);break;case 31:Es(t,r),o&4&&Iy(t,r);break;case 13:Es(t,r),o&4&&Ny(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZT.bind(null,r),_b(t,r))));break;case 22:if(o=r.memoizedState!==null||_s,!o){n=n!==null&&n.memoizedState!==null||Jt,h=_s;var f=Jt;_s=o,(Jt=n)&&!f?Ts(t,r,(r.subtreeFlags&8772)!==0):Es(t,r),_s=h,Jt=f}break;case 30:break;default:Es(t,r)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ta(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Dn=!1;function vs(t,n,r){for(r=r.child;r!==null;)Ry(t,n,r),r=r.sibling}function Ry(t,n,r){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(_e,r)}catch{}switch(r.tag){case 26:Jt||Fi(r,n),vs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Jt||Fi(r,n);var o=Rt,h=Dn;hr(r.type)&&(Rt=r.stateNode,Dn=!1),vs(t,n,r),wl(r.stateNode),Rt=o,Dn=h;break;case 5:Jt||Fi(r,n);case 6:if(o=Rt,h=Dn,Rt=null,vs(t,n,r),Rt=o,Dn=h,Rt!==null)if(Dn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(r.stateNode)}catch(f){ht(r,n,f)}else try{Rt.removeChild(r.stateNode)}catch(f){ht(r,n,f)}break;case 18:Rt!==null&&(Dn?(t=Rt,E0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ro(t)):E0(Rt,r.stateNode));break;case 4:o=Rt,h=Dn,Rt=r.stateNode.containerInfo,Dn=!0,vs(t,n,r),Rt=o,Dn=h;break;case 0:case 11:case 14:case 15:sr(2,r,n),Jt||sr(4,r,n),vs(t,n,r);break;case 1:Jt||(Fi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Ty(r,n,o)),vs(t,n,r);break;case 21:vs(t,n,r);break;case 22:Jt=(o=Jt)||r.memoizedState!==null,vs(t,n,r),Jt=o;break;default:vs(t,n,r)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ro(t)}catch(r){ht(n,n.return,r)}}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(r){ht(n,n.return,r)}}function GT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wy),n;default:throw Error(a(435,t.tag))}}function fc(t,n){var r=GT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=WT.bind(null,t,o);o.then(h,h)}})}function On(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(hr(E.type)){Rt=E.stateNode,Dn=!1;break e}break;case 5:Rt=E.stateNode,Dn=!1;break e;case 3:case 4:Rt=E.stateNode.containerInfo,Dn=!0;break e}E=E.return}if(Rt===null)throw Error(a(160));Ry(f,p,h),Rt=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,t),n=n.sibling}var bi=null;function Dy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(n,t),Mn(t),o&4&&(sr(3,t,t.return),gl(3,t),sr(5,t,t.return));break;case 1:On(n,t),Mn(t),o&512&&(Jt||r===null||Fi(r,r.return)),o&64&&_s&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=bi;if(On(n,t),Mn(t),o&512&&(Jt||r===null||Fi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Di]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),gn(f,o,r),f[Ft]=t,Yt(f),o=f;break e;case"link":var p=D0("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),gn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=D0("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),gn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ft]=t,Yt(f),o=f}t.stateNode=o}else O0(h,t.type,t.stateNode);else t.stateNode=N0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?O0(h,t.type,t.stateNode):N0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:On(n,t),Mn(t),o&512&&(Jt||r===null||Fi(r,r.return)),r!==null&&o&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(On(n,t),Mn(t),o&512&&(Jt||r===null||Fi(r,r.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(he){ht(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(On(n,t),Mn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(he){ht(t,t.return,he)}}break;case 3:if(Rc=null,h=bi,bi=xc(n.containerInfo),On(n,t),bi=h,Mn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(he){ht(t,t.return,he)}ed&&(ed=!1,Oy(t));break;case 4:o=bi,bi=xc(t.stateNode.containerInfo),On(n,t),Mn(t),bi=o;break;case 12:On(n,t),Mn(t);break;case 31:On(n,t),Mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:On(n,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mc=B()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,j=_s,F=Jt;if(_s=j||h,Jt=F||R,On(n,t),Jt=F,_s=j,Mn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||_s||Jt||la(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){ht(R,R.return,he)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(he){ht(R,R.return,he)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?T0(H,!0):T0(R.stateNode,!1)}catch(he){ht(R,R.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,fc(t,r))));break;case 19:On(n,t),Mn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:On(n,t),Mn(t)}}function Mn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Sy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Zf(t);hc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Nn(p,""),r.flags&=-33);var E=Zf(t);hc(t,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,j=Zf(t);Wf(t,j,R);break;default:throw Error(a(161))}}catch(F){ht(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Oy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function la(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),la(n);break;case 1:Fi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ty(n,n.return,r),la(n);break;case 27:wl(n.stateNode);case 26:case 5:Fi(n,n.return),la(n);break;case 22:n.memoizedState===null&&la(n);break;case 30:la(n);break;default:la(n)}t=t.sibling}}function Ts(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ts(h,f,r),gl(4,f);break;case 1:if(Ts(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ht(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)up(R[h],E)}catch(j){ht(o,o.return,j)}}r&&p&64&&Ey(f),pl(f,f.return);break;case 27:Ay(f);case 26:case 5:Ts(h,f,r),r&&o===null&&p&4&&by(f),pl(f,f.return);break;case 12:Ts(h,f,r);break;case 31:Ts(h,f,r),r&&p&4&&Iy(h,f);break;case 13:Ts(h,f,r),r&&p&4&&Ny(h,f);break;case 22:f.memoizedState===null&&Ts(h,f,r),pl(f,f.return);break;case 30:break;default:Ts(h,f,r)}n=n.sibling}}function td(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function Si(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(t,n,r,o),n=n.sibling}function My(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,r,o),h&2048&&gl(9,n);break;case 1:Si(t,n,r,o);break;case 3:Si(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Si(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ht(n,n.return,R)}}else Si(t,n,r,o);break;case 31:Si(t,n,r,o);break;case 13:Si(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Si(t,n,r,o):yl(t,n):f._visibility&2?Si(t,n,r,o):(f._visibility|=2,Qa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(p,n);break;case 24:Si(t,n,r,o),h&2048&&nd(n.alternate,n);break;default:Si(t,n,r,o)}}function Qa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,R=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,E,R,h),gl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Qa(f,p,E,R,h):yl(f,p):(F._visibility|=2,Qa(f,p,E,R,h)),h&&j&2048&&td(p.alternate,p);break;case 24:Qa(f,p,E,R,h),h&&j&2048&&nd(p.alternate,p);break;default:Qa(f,p,E,R,h)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:yl(r,o),h&2048&&td(o.alternate,o);break;case 24:yl(r,o),h&2048&&nd(o.alternate,o);break;default:yl(r,o)}n=n.sibling}}var _l=8192;function $a(t,n,r){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Vy(t,n,r),t=t.sibling}function Vy(t,n,r){switch(t.tag){case 26:$a(t,n,r),t.flags&_l&&t.memoizedState!==null&&Nb(r,bi,t.memoizedState,t.memoizedProps);break;case 5:$a(t,n,r);break;case 3:case 4:var o=bi;bi=xc(t.stateNode.containerInfo),$a(t,n,r),bi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=_l,_l=16777216,$a(t,n,r),_l=o):$a(t,n,r));break;default:$a(t,n,r)}}function ky(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];un=o,Uy(o,t)}ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,dc(t)):vl(t);break;default:vl(t)}}function dc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];un=o,Uy(o,t)}ky(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),dc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,dc(n));break;default:dc(n)}t=t.sibling}}function Uy(t,n){for(;un!==null;){var r=un;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,un=o;else e:for(r=t;un!==null;){o=un;var h=o.sibling,f=o.return;if(Cy(o),o===r){un=null;break e}if(h!==null){h.return=f,un=h;break e}un=f}}}var FT={getCacheForType:function(t){var n=dn(Qt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return dn(Qt).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,ze=null,Fe=0,ct=0,Yn=null,rr=!1,Xa=!1,id=!1,bs=0,Vt=0,ar=0,ua=0,sd=0,Kn=0,Ja=0,El=null,Vn=null,rd=!1,mc=0,Py=0,gc=1/0,pc=null,or=null,sn=0,lr=null,Za=null,Ss=0,ad=0,od=null,jy=null,Tl=0,ld=null;function Qn(){return(st&2)!==0&&Fe!==0?Fe&-Fe:G.T!==null?md():yu()}function zy(){if(Kn===0)if((Fe&536870912)===0||Je){var t=Gt;Gt<<=1,(Gt&3932160)===0&&(Gt=262144),Kn=t}else Kn=536870912;return t=Gn.current,t!==null&&(t.flags|=32),Kn}function kn(t,n,r){(t===yt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),ur(t,Fe,Kn,!1)),rs(t,r),((st&2)===0||t!==yt)&&(t===yt&&((st&2)===0&&(ua|=r),Vt===4&&ur(t,Fe,Kn,!1)),Yi(t))}function By(t,n,r){if((st&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Ce(t,n),h=o?$T(t,n):cd(t,n,!0),f=o;do{if(h===0){Xa&&!o&&ur(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!KT(r)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=El;var R=E.current.memoizedState.isDehydrated;if(R&&(Wa(E,p).flags|=256),p=cd(E,p,!1),p!==2){if(id&&!R){E.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break e}f=Vn,Vn=h,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),ur(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ur(o,n,Kn,!rr);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=mc+300-B(),10<h)){if(ur(o,n,Kn,!rr),be(o,0,!0)!==0)break e;Ss=n,o.timeoutHandle=_0(qy.bind(null,o,r,Vn,pc,rd,n,Kn,ua,Ja,rr,f,"Throttled",-0,0),h);break e}qy(o,r,Vn,pc,rd,n,Kn,ua,Ja,rr,f,null,-0,0)}}break}while(!0);Yi(t)}function qy(t,n,r,o,h,f,p,E,R,j,F,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Vy(n,f,$);var he=(f&62914560)===f?mc-B():(f&4194048)===f?Py-B():0;if(he=Db($,he),he!==null){Ss=f,t.cancelPendingCommit=he(Xy.bind(null,t,n,f,r,o,h,p,E,R,F,$,null,z,H)),ur(t,f,p,!j);return}}Xy(t,n,f,r,o,h,p,E,R)}function KT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!qn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ur(t,n,r,o){n&=~sd,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&jn(t,r,n)}function yc(){return(st&6)===0?(bl(0),!1):!0}function ud(){if(ze!==null){if(ct===0)var t=ze.return;else t=ze,fs=ea=null,wf(t),Ha=null,sl=0,t=ze;for(;t!==null;)vy(t.alternate,t),t=t.return;ze=null}}function Wa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,db(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ss=0,ud(),yt=t,ze=r=cs(t.current,null),Fe=n,ct=0,Yn=null,rr=!1,Xa=Ce(t,n),id=!1,Ja=Kn=sd=ua=ar=Vt=0,Vn=El=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=t[h],o&=~f}return bs=n,Pu(),r}function Hy(t,n){Le=null,G.H=fl,n===qa||n===Yu?(n=rp(),ct=3):n===df?(n=rp(),ct=4):ct=n===Bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yn=n,ze===null&&(Vt=1,ac(t,ni(n,t.current)))}function Gy(){var t=Gn.current;return t===null?!0:(Fe&4194048)===Fe?ai===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ai:!1}function Fy(){var t=G.H;return G.H=fl,t===null?fl:t}function Yy(){var t=G.A;return G.A=FT,t}function _c(){Vt=4,rr||(Fe&4194048)!==Fe&&Gn.current!==null||(Xa=!0),(ar&134217727)===0&&(ua&134217727)===0||yt===null||ur(yt,Fe,Kn,!1)}function cd(t,n,r){var o=st;st|=2;var h=Fy(),f=Yy();(yt!==t||Fe!==n)&&(pc=null,Wa(t,n)),n=!1;var p=Vt;e:do try{if(ct!==0&&ze!==null){var E=ze,R=Yn;switch(ct){case 8:ud(),p=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(n=!0);var j=ct;if(ct=0,Yn=null,eo(t,E,R,j),r&&Xa){p=0;break e}break;default:j=ct,ct=0,Yn=null,eo(t,E,R,j)}}QT(),p=Vt;break}catch(F){Hy(t,F)}while(!0);return n&&t.shellSuspendCounter++,fs=ea=null,st=o,G.H=h,G.A=f,ze===null&&(yt=null,Fe=0,Pu()),p}function QT(){for(;ze!==null;)Ky(ze)}function $T(t,n){var r=st;st|=2;var o=Fy(),h=Yy();yt!==t||Fe!==n?(pc=null,gc=B()+500,Wa(t,n)):Xa=Ce(t,n);e:do try{if(ct!==0&&ze!==null){n=ze;var f=Yn;t:switch(ct){case 1:ct=0,Yn=null,eo(t,n,f,1);break;case 2:case 9:if(ip(f)){ct=0,Yn=null,Qy(n);break}n=function(){ct!==2&&ct!==9||yt!==t||(ct=7),Yi(t)},f.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:ip(f)?(ct=0,Yn=null,Qy(n)):(ct=0,Yn=null,eo(t,n,f,7));break;case 5:var p=null;switch(ze.tag){case 26:p=ze.memoizedState;case 5:case 27:var E=ze;if(p?M0(p):E.stateNode.complete){ct=0,Yn=null;var R=E.sibling;if(R!==null)ze=R;else{var j=E.return;j!==null?(ze=j,vc(j)):ze=null}break t}}ct=0,Yn=null,eo(t,n,f,5);break;case 6:ct=0,Yn=null,eo(t,n,f,6);break;case 8:ud(),Vt=6;break e;default:throw Error(a(462))}}XT();break}catch(F){Hy(t,F)}while(!0);return fs=ea=null,G.H=o,G.A=h,st=r,ze!==null?0:(yt=null,Fe=0,Pu(),Vt)}function XT(){for(;ze!==null&&!Ps();)Ky(ze)}function Ky(t){var n=yy(t.alternate,t,bs);t.memoizedProps=t.pendingProps,n===null?vc(t):ze=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=hy(r,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=hy(r,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:wf(n);default:vy(r,n),n=ze=Yg(n,bs),n=yy(r,n,bs)}t.memoizedProps=t.pendingProps,n===null?vc(t):ze=n}function eo(t,n,r,o){fs=ea=null,wf(n),Ha=null,sl=0;var h=n.return;try{if(PT(t,h,n,r,Fe)){Vt=1,ac(t,ni(r,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Vt=1,ac(t,ni(r,t.current)),ze=null;return}n.flags&32768?(Je||o===1?t=!0:Xa||(Fe&536870912)!==0?t=!1:(rr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,t)):vc(n)}function vc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,rr);return}t=n.return;var r=BT(n.alternate,n,bs);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Vt===0&&(Vt=5)}function $y(t,n){do{var r=qT(t.alternate,t);if(r!==null){r.flags&=32767,ze=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=r}while(t!==null);Vt=6,ze=null}function Xy(t,n,r,o,h,f,p,E,R){t.cancelPendingCommit=null;do Ec();while(sn!==0);if((st&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,nn(t,r,f,p,E,R),t===yt&&(ze=yt=null,Fe=0),Za=n,lr=t,Ss=r,ad=f,od=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eb(ye,function(){return t0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,p=st,st|=4;try{HT(t,n,r)}finally{st=p,ie.p=h,G.T=o}}sn=1,Jy(),Zy(),Wy()}}function Jy(){if(sn===1){sn=0;var t=lr,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=ie.p;ie.p=2;var h=st;st|=4;try{Dy(n,t);var f=bd,p=Ug(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(R!==null&&Yh(E)){var j=R.start,F=R.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=E.textContent.length,we=Math.min(R.start,he),pt=R.end===void 0?we:Math.min(R.end,he);!H.extend&&we>pt&&(p=pt,pt=we,we=p);var k=kg(E,we),D=kg(E,pt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),we>pt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Oc=!!Td,bd=Td=null}finally{st=h,ie.p=o,G.T=r}}t.current=n,sn=2}}function Zy(){if(sn===2){sn=0;var t=lr,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=ie.p;ie.p=2;var h=st;st|=4;try{xy(t,n.alternate,n)}finally{st=h,ie.p=o,G.T=r}}sn=3}}function Wy(){if(sn===4||sn===3){sn=0,Ri();var t=lr,n=Za,r=Ss,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Za=lr=null,e0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(or=null),as(r),n=n.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(_e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ie.p=h}}(Ss&3)!==0&&Ec(),Yi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ld?Tl++:(Tl=0,ld=t):Tl=0,bl(0)}}function e0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function Ec(){return Jy(),Zy(),Wy(),t0()}function t0(){if(sn!==5)return!1;var t=lr,n=ad;ad=0;var r=as(Ss),o=G.T,h=ie.p;try{ie.p=32>r?32:r,G.T=null,r=od,od=null;var f=lr,p=Ss;if(sn=0,Za=lr=null,Ss=0,(st&6)!==0)throw Error(a(331));var E=st;if(st|=4,Ly(f.current),My(f,f.current,p,r),st=E,bl(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(_e,f)}catch{}return!0}finally{ie.p=h,G.T=o,e0(t,n)}}function n0(t,n,r){n=ni(r,n),n=zf(t.stateNode,n,2),t=tr(t,n,2),t!==null&&(rs(t,2),Yi(t))}function ht(t,n,r){if(t.tag===3)n0(t,t,r);else for(;n!==null;){if(n.tag===3){n0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(or===null||!or.has(o))){t=ni(r,t),r=iy(2),o=tr(n,r,2),o!==null&&(sy(r,o,n,t),rs(o,2),Yi(o));break}}n=n.return}}function hd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new YT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(id=!0,h.add(r),t=JT.bind(null,t,n,r),n.then(t,t))}function JT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,yt===t&&(Fe&r)===r&&(Vt===4||Vt===3&&(Fe&62914560)===Fe&&300>B()-mc?(st&2)===0&&Wa(t,0):sd|=r,Ja===Fe&&(Ja=0)),Yi(t)}function i0(t,n){n===0&&(n=Ii()),t=Jr(t,n),t!==null&&(rs(t,n),Yi(t))}function ZT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),i0(t,r)}function WT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),i0(t,r)}function eb(t,n){return Ut(t,n)}var Tc=null,to=null,fd=!1,bc=!1,dd=!1,cr=0;function Yi(t){t!==to&&t.next===null&&(to===null?Tc=to=t:to=to.next=t),bc=!0,fd||(fd=!0,nb())}function bl(t,n){if(!dd&&bc){dd=!0;do for(var r=!1,o=Tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ve(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,o0(o,f))}else f=Fe,f=be(o,o===yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ce(o,f)||(r=!0,o0(o,f));o=o.next}while(r);dd=!1}}function tb(){s0()}function s0(){bc=fd=!1;var t=0;cr!==0&&fb()&&(t=cr);for(var n=B(),r=null,o=Tc;o!==null;){var h=o.next,f=r0(o,n);f===0?(o.next=null,r===null?Tc=h:r.next=h,h===null&&(to=r)):(r=o,(t!==0||(f&3)!==0)&&(bc=!0)),o=h}sn!==0&&sn!==5||bl(t),cr!==0&&(cr=0)}function r0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-ve(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=It(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=yt,r=Fe,r=be(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Pt(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ce(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Pt(o),as(r)){case 2:case 8:r=oe;break;case 32:r=ye;break;case 268435456:r=le;break;default:r=ye}return o=a0.bind(null,t),r=Ut(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Pt(o),t.callbackPriority=2,t.callbackNode=null,2}function a0(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ec()&&t.callbackNode!==r)return null;var o=Fe;return o=be(t,t===yt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(By(t,o,n),r0(t,B()),t.callbackNode!=null&&t.callbackNode===r?a0.bind(null,t):null)}function o0(t,n){if(Ec())return null;By(t,n,!0)}function nb(){mb(function(){(st&6)!==0?Ut(W,tb):s0()})}function md(){if(cr===0){var t=za;t===0&&(t=vt,vt<<=1,(vt&261888)===0&&(vt=256)),cr=t}return cr}function l0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function u0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ib(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=l0((h[on]||null).action),p=o.submitter;p&&(n=(n=p[on]||null)?l0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ji("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cr!==0){var R=p?u0(h,p):new FormData(h);Vf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?u0(h,p):new FormData(h),Vf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var gd=0;gd<Xh.length;gd++){var pd=Xh[gd],sb=pd.toLowerCase(),rb=pd[0].toUpperCase()+pd.slice(1);Ti(sb,"on"+rb)}Ti(zg,"onAnimationEnd"),Ti(Bg,"onAnimationIteration"),Ti(qg,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(TT,"onTransitionRun"),Ti(bT,"onTransitionStart"),Ti(ST,"onTransitionCancel"),Ti(Hg,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function c0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){Uu(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(F){Uu(F)}h.currentTarget=null,f=R}}}}function Be(t,n){var r=n[Ea];r===void 0&&(r=n[Ea]=new Set);var o=t+"__bubble";r.has(o)||(h0(n,t,2,!1),r.add(o))}function yd(t,n,r){var o=0;n&&(o|=4),h0(r,t,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Sc]){t[Sc]=!0,ko.forEach(function(r){r!=="selectionchange"&&(ab.has(r)||yd(r,!1,t),yd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,yd("selectionchange",!1,n))}}function h0(t,n,r,o){switch(z0(n)){case 2:var h=Vb;break;case 8:h=kb;break;default:h=Md}r=h.bind(null,n,r,t),h=void 0,!Hr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function vd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Oi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Fs(function(){var j=f,F=Zn(r),$=[];e:{var z=Gg.get(t);if(z!==void 0){var H=ji,he=t;switch(t){case"keypress":if(Fr(r)===0)break e;case"keydown":case"keyup":H=Vu;break;case"focusin":he="focus",H=Kr;break;case"focusout":he="blur",H=Kr;break;case"beforeblur":case"afterblur":H=Kr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case zg:case Bg:case qg:H=Cu;break;case Hg:H=b;break;case"scroll":case"scrollend":H=Ko;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=us;break;case"toggle":case"beforetoggle":H=ke}var we=(n&4)!==0,pt=!we&&(t==="scroll"||t==="scrollend"),k=we?z!==null?z+"Capture":null:z;we=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=yi(D,k),Q!=null&&we.push(Al(D,Q,P))),pt)break;D=D.return}0<we.length&&(z=new H(z,he,null,r,F),$.push({event:z,listeners:we}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Go&&(he=r.relatedTarget||r.fromElement)&&(Oi(he)||he[Ni]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=r.relatedTarget||r.toElement,H=j,he=he?Oi(he):null,he!==null&&(pt=c(he),we=he.tag,he!==pt||we!==5&&we!==27&&we!==6)&&(he=null)):(H=null,he=j),H!==he)){if(we=Qo,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(we=us,Q="onPointerLeave",k="onPointerEnter",D="pointer"),pt=H==null?z:zn(H),P=he==null?z:zn(he),z=new we(Q,D+"leave",H,r,F),z.target=pt,z.relatedTarget=P,Q=null,Oi(F)===j&&(we=new we(k,D+"enter",he,r,F),we.target=P,we.relatedTarget=pt,Q=we),pt=Q,H&&he)t:{for(we=ob,k=H,D=he,P=0,Q=k;Q;Q=we(Q))P++;Q=0;for(var Te=D;Te;Te=we(Te))Q++;for(;0<P-Q;)k=we(k),P--;for(;0<Q-P;)D=we(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){we=k;break t}k=we(k),D=we(D)}we=null}else we=null;H!==null&&f0($,z,H,we,!1),he!==null&&pt!==null&&f0($,pt,he,we,!0)}}e:{if(z=j?zn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var tt=Ig;else if(Cg(z))if(Ng)tt=_T;else{tt=pT;var de=gT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Aa(j.elementType)&&(tt=Ig):tt=yT;if(tt&&(tt=tt(t,j))){Rg($,tt,r,F);break e}de&&de(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Bo(z,"number",z.value)}switch(de=j?zn(j):window,t){case"focusin":(Cg(de)||de.contentEditable==="true")&&(Oa=de,Kh=j,Wo=null);break;case"focusout":Wo=Kh=Oa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Pg($,r,F);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":Pg($,r,F)}var Ue;if(it)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Da?Qr(t,r)&&(Ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ye="onCompositionStart");Ye&&(qi&&r.locale!=="ko"&&(Da||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Da&&(Ue=Yo()):(Pi=F,Fo="value"in Pi?Pi.value:Pi.textContent,Da=!0)),de=Ac(j,Ye),0<de.length&&(Ye=new Bi(Ye,t,null,r,F),$.push({event:Ye,listeners:de}),Ue?Ye.data=Ue:(Ue=Na(r),Ue!==null&&(Ye.data=Ue)))),(Ue=ei?hT(t,r):fT(t,r))&&(Ye=Ac(j,"onBeforeInput"),0<Ye.length&&(de=new Bi("onBeforeInput","beforeinput",null,r,F),$.push({event:de,listeners:Ye}),de.data=Ue)),ib($,t,j,r,F)}c0($,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Ac(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=yi(t,r),h!=null&&o.unshift(Al(t,h,f)),h=yi(t,n),h!=null&&o.push(Al(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ob(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=yi(r,f),j!=null&&p.unshift(Al(r,j,R))):h||(j=yi(r,f),j!=null&&p.push(Al(r,j,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(ub,"")}function m0(t,n){return n=d0(n),d0(t)===n}function gt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Nn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Nn(t,""+o);break;case"className":Bn(t,"class",o);break;case"tabIndex":Bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,r,o);break;case"style":Ho(t,o,f);break;case"data":if(n!=="object"){Bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=pi);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Au.get(r)||r,ba(t,r,o))}}function Ed(t,n,r,o,h,f){switch(r){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Nn(t,o):(typeof o=="number"||typeof o=="bigint")&&Nn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[on]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ba(t,r,o)}}}function gn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,f,p,r,null)}}h&&gt(t,n,"srcSet",r.srcSet,r,null),o&&gt(t,n,"src",r.src,r,null);return;case"input":Be("invalid",t);var E=f=p=h=null,R=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:gt(t,n,o,F,r,null)}}Tu(t,f,E,R,j,p,h,!1);return;case"select":Be("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:gt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Bs(t,!!o,n,!1):r!=null&&Bs(t,!!o,r,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:gt(t,n,p,E,r,null)}qs(t,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":gt(t,n,R,o,r,null));return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<Sl.length;o++)Be(Sl[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,j,o,r,null)}return;default:if(Aa(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&Ed(t,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&gt(t,n,E,o,r,null))}function cb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,j=null,F=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=$;default:o.hasOwnProperty(H)||gt(t,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=r[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&gt(t,n,z,H,o,$)}}Sa(t,p,E,R,j,F,f,h);return;case"select":H=p=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||gt(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&gt(t,n,h,f,o,R)}n=E,r=p,o=H,z!=null?Bs(t,!!r,z,!1):!!o!=!!r&&(n!=null?Bs(t,!!r,n,!0):Bs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:gt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&gt(t,n,p,h,o,f)}bu(t,z,H);return;case"option":for(var he in r)z=r[he],r.hasOwnProperty(he)&&z!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:gt(t,n,he,null,o,z));for(R in o)z=o[R],H=r[R],o.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null)&&(R==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":gt(t,n,R,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)z=r[we],r.hasOwnProperty(we)&&z!=null&&!o.hasOwnProperty(we)&&gt(t,n,we,null,o,z);for(j in o)if(z=o[j],H=r[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:gt(t,n,j,z,o,H)}return;default:if(Aa(n)){for(var pt in r)z=r[pt],r.hasOwnProperty(pt)&&z!==void 0&&!o.hasOwnProperty(pt)&&Ed(t,n,pt,void 0,o,z);for(F in o)z=o[F],H=r[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||Ed(t,n,F,z,o,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&gt(t,n,k,null,o,z);for($ in o)z=o[$],H=r[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||gt(t,n,$,z,o,H)}function g0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&g0(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],j=R.startTime;if(j>E)break;var F=R.transferSize,$=R.initiatorType;F&&g0($)&&(R=R.responseEnd,p+=F*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,bd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function p0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function fb(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var _0=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(t){return v0.resolve(null).then(t).catch(gb)}:_0;function gb(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function E0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),ro(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")wl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,wl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&wl(t.ownerDocument.body);r=h}while(r);ro(n)}function T0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),Ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=oi(t.nextSibling),t===null)break}return null}function yb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=oi(t.nextSibling),t===null))return null;return t}function b0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=oi(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _b(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function oi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function S0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return oi(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function A0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function w0(t,n,r){switch(n=wc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ta(t)}var li=new Map,x0=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var As=ie.d;ie.d={f:vb,r:Eb,D:Tb,C:bb,L:Sb,m:Ab,X:xb,S:wb,M:Cb};function vb(){var t=As.f(),n=yc();return t||n}function Eb(t){var n=Jn(t);n!==null&&n.tag===5&&n.type==="form"?Hp(n):As.r(t)}var no=typeof document>"u"?null:document;function C0(t,n,r){var o=no;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),x0.has(h)||(x0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),gn(n,"link",t),Yt(n),o.head.appendChild(n)))}}function Tb(t){As.D(t),C0("dns-prefetch",t,null)}function bb(t,n){As.C(t,n),C0("preconnect",t,n)}function Sb(t,n,r){As.L(t,n,r);var o=no;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+In(r.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=io(t);break;case"script":f=so(t)}li.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),li.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(xl(f))||n==="script"&&o.querySelector(Cl(f))||(n=o.createElement("link"),gn(n,"link",t),Yt(n),o.head.appendChild(n)))}}function Ab(t,n){As.m(t,n);var r=no;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!li.has(f)&&(t=A({rel:"modulepreload",href:t},n),li.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Cl(f)))return}o=r.createElement("link"),gn(o,"link",t),Yt(o),r.head.appendChild(o)}}}function wb(t,n,r){As.S(t,n,r);var o=no;if(o&&t){var h=Mi(o).hoistableStyles,f=io(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=li.get(f))&&Id(t,r);var R=p=o.createElement("link");Yt(R),gn(R,"link",t),R._p=new Promise(function(j,F){R.onload=j,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function xb(t,n){As.X(t,n);var r=no;if(r&&t){var o=Mi(r).hoistableScripts,h=so(t),f=o.get(h);f||(f=r.querySelector(Cl(h)),f||(t=A({src:t,async:!0},n),(n=li.get(h))&&Nd(t,n),f=r.createElement("script"),Yt(f),gn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Cb(t,n){As.M(t,n);var r=no;if(r&&t){var o=Mi(r).hoistableScripts,h=so(t),f=o.get(h);f||(f=r.querySelector(Cl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=li.get(h))&&Nd(t,n),f=r.createElement("script"),Yt(f),gn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R0(t,n,r,o){var h=(h=Me.current)?xc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=io(r.href),r=Mi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=io(r.href);var f=Mi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(xl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),li.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},li.set(t,r),f||Rb(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(r),r=Mi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function io(t){return'href="'+In(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function I0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Rb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),gn(n,"link",r),Yt(n),t.head.appendChild(n))}function so(t){return'[src="'+In(t)+'"]'}function Cl(t){return"script[async]"+t}function N0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(r.href)+'"]');if(o)return n.instance=o,Yt(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Yt(o),gn(o,"style",h),Cc(o,r.precedence,t),n.instance=o;case"stylesheet":h=io(r.href);var f=t.querySelector(xl(h));if(f)return n.state.loading|=4,n.instance=f,Yt(f),f;o=I0(r),(h=li.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),Yt(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),gn(f,"link",o),n.state.loading|=4,Cc(f,r.precedence,t),n.instance=f;case"script":return f=so(r.src),(h=t.querySelector(Cl(f)))?(n.instance=h,Yt(h),h):(o=r,(h=li.get(f))&&(o=A({},r),Nd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Yt(h),gn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Cc(o,r.precedence,t));return n.instance}function Cc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function D0(t,n,r){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(r,o)}else h=Rc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Di]||f[Ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function O0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Ib(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Nb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=io(o.href),f=n.querySelector(xl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ic.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Yt(f);return}f=n.ownerDocument||n,o=I0(o),(h=li.get(h))&&Id(o,h),f=f.createElement("link"),Yt(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),gn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ic.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Dd=0;function Db(t,n){return t.stylesheets&&t.count===0&&Dc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*hb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Dc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Dc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,n.forEach(Ob,t),Nc=null,Ic.call(t))}function Ob(t,n){if(!(n.state.loading&4)){var r=Nc.get(t);if(r)var o=r.get(null);else{r=new Map,Nc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Ic.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:Ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Mb(t,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.hiddenUpdates=Pn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V0(t,n,r,o,h,f,p,E,R,j,F,$){return t=new Mb(t,n,r,p,R,j,F,$,E),n=1,f===!0&&(n|=24),f=Hn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},mf(f),t}function k0(t){return t?(t=ka,t):ka}function L0(t,n,r,o,h,f){h=k0(h),o.context===null?o.context=h:o.pendingContext=h,o=er(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=tr(t,o,n),r!==null&&(kn(r,t,n),al(r,t,n))}function U0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Od(t,n){U0(t,n),(t=t.alternate)&&U0(t,n)}function P0(t){if(t.tag===13||t.tag===31){var n=Jr(t,67108864);n!==null&&kn(n,t,67108864),Od(t,67108864)}}function j0(t){if(t.tag===13||t.tag===31){var n=Qn();n=jr(n);var r=Jr(t,n);r!==null&&kn(r,t,n),Od(t,n)}}var Oc=!0;function Vb(t,n,r,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Md(t,n,r,o)}finally{ie.p=f,G.T=h}}function kb(t,n,r,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Md(t,n,r,o)}finally{ie.p=f,G.T=h}}function Md(t,n,r,o){if(Oc){var h=Vd(o);if(h===null)vd(t,n,o,Mc,r),B0(t,o);else if(Ub(h,t,n,r,o))o.stopPropagation();else if(B0(t,o),n&4&&-1<Lb.indexOf(t)){for(;h!==null;){var f=Jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=fe(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-ve(p);E.entanglements[1]|=R,p&=~R}Yi(f),(st&6)===0&&(gc=B()+500,bl(0))}}break;case 31:case 13:E=Jr(f,2),E!==null&&kn(E,f,2),yc(),Od(f,2)}if(f=Vd(o),f===null&&vd(t,n,o,Mc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,n,o,null,r)}}function Vd(t){return t=Zn(t),kd(t)}var Mc=null;function kd(t){if(Mc=null,t=Oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mc=t,null}function z0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case W:return 2;case oe:return 8;case ye:case Ge:return 32;case le:return 268435456;default:return 32}default:return 32}}var Ld=!1,fr=null,dr=null,mr=null,Il=new Map,Nl=new Map,gr=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Dl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Jn(n),n!==null&&P0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ub(t,n,r,o,h){switch(n){case"focusin":return fr=Dl(fr,t,n,r,o,h),!0;case"dragenter":return dr=Dl(dr,t,n,r,o,h),!0;case"mouseover":return mr=Dl(mr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,Dl(Il.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Nl.set(f,Dl(Nl.get(f)||null,t,n,r,o,h)),!0}return!1}function q0(t){var n=Oi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,mi(t.priority,function(){j0(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,mi(t.priority,function(){j0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Vd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Go=o,r.target.dispatchEvent(o),Go=null}else return n=Jn(r),n!==null&&P0(n),t.blockedOn=r,!1;n.shift()}return!0}function H0(t,n,r){Vc(t)&&r.delete(n)}function Pb(){Ld=!1,fr!==null&&Vc(fr)&&(fr=null),dr!==null&&Vc(dr)&&(dr=null),mr!==null&&Vc(mr)&&(mr=null),Il.forEach(H0),Nl.forEach(H0)}function kc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pb)))}var Lc=null;function G0(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(kd(o||r)===null)continue;break}var f=Jn(r);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ro(t){function n(R){return kc(R,t)}fr!==null&&kc(fr,t),dr!==null&&kc(dr,t),mr!==null&&kc(mr,t),Il.forEach(n),Nl.forEach(n);for(var r=0;r<gr.length;r++){var o=gr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)q0(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[on]||null;if(typeof f=="function")p||G0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[on]||null)E=p.formAction;else if(kd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),G0(r)}}}function F0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Uc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Qn();L0(r,o,t,n,null,null)},Uc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L0(t.current,2,null,t,null,null),yc(),n[Ni]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=yu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&q0(t)}};var Y0=e.version;if(Y0!=="19.2.3")throw Error(a(527,Y0,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var jb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{_e=Pc.inject(jb),Ee=Pc}catch{}}return Ml.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Wp,f=ey,p=ty;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V0(t,1,!1,null,null,r,o,null,h,f,p,F0),t[Ni]=n.current,_d(t),new Ud(n)},Ml.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Wp,p=ey,E=ty,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=V0(t,1,!0,n,r??null,o,h,R,f,p,E,F0),n.context=k0(null),r=n.current,o=Qn(),o=jr(o),h=er(o),h.callback=null,tr(r,h,o),r=o,n.current.lanes=r,rs(n,r),Yi(n),t[Ni]=n.current,_d(t),new Uc(n)},Ml.version="19.2.3",Ml}var n_;function Jb(){if(n_)return zd.exports;n_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=Xb(),zd.exports}var Zb=Jb();const Wb=()=>{};var i_={};const kv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},eS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,K=_&63;g||(K=64,d||(M=64)),a.push(i[S],i[A],i[M],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):eS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new tS;const M=c<<2|y>>4;if(a.push(M),_!==64){const K=y<<4&240|_>>2;if(a.push(K),A!==64){const te=_<<6&192|A;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(s){const e=kv(s);return Lv.encodeByteArray(e,!0)},ih=function(s){return nS(s).replace(/\./g,"")},Uv=function(s){try{return Lv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sS=()=>iS().__FIREBASE_DEFAULTS__,rS=()=>{if(typeof process>"u"||typeof i_>"u")return;const s=i_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Uv(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return Wb()||sS()||rS()||aS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Pv=s=>Ah()?.emulatorHosts?.[s],oS=s=>{const e=Pv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},jv=()=>Ah()?.config,zv=s=>Ah()?.[`_${s}`];class lS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(s){return(await fetch(s,{credentials:"include"})).ok}function uS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ih(JSON.stringify(i)),ih(JSON.stringify(d)),""].join(".")}const zl={};function cS(){const s={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?s.emulator.push(e):s.prod.push(e);return s}function hS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let s_=!1;function qv(s,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||zl[s]===e||zl[s]||s_)return;zl[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=cS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{s_=!0,d()},M}function S(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=hS(a),K=i("text"),te=document.getElementById(K)||document.createElement("span"),re=i("learnmore"),ae=document.getElementById(re)||document.createElement("a"),pe=i("preprendIcon"),Ve=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ie=M.element;y(Ie),S(ae,re);const at=_();g(Ve,pe),Ie.append(Ve,te,ae,at),document.body.appendChild(Ie)}c?(te.innerText="Preview backend disconnected.",Ve.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ve.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function dS(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const s=Sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const TS="FirebaseError";class ks extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=TS,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?bS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new ks(l,y,a)}}function bS(s,e){return s.replace(SS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const SS=/\{\$([^}]+)}/g;function AS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Rr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(r_(c)&&r_(d)){if(!Rr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function r_(s){return s!==null&&typeof s=="object"}function su(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wS(s,e){const i=new xS(s,e);return i.subscribe.bind(i)}class xS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");CS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function Rn(s){return s&&s._delegate?s._delegate:s}let da=class{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};const ca="[DEFAULT]";class RS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new lS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(s){return s===ca?void 0:s}function NS(s){return s.instantiationMode==="EAGER"}class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const OS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},MS=Ke.INFO,VS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},kS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=VS[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const LS=(s,e)=>e.some(i=>s instanceof i);let a_,o_;function US(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,om=new WeakMap,Gv=new WeakMap,Fd=new WeakMap,Pm=new WeakMap;function jS(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Sr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Hv.set(i,s)}).catch(()=>{}),Pm.set(e,s),e}function zS(s){if(om.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Gv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function BS(s){lm=s(lm)}function qS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yd(this),e,...i);return Gv.set(a,e.sort?e.sort():[e]),Sr(a)}:PS().includes(s)?function(...e){return s.apply(Yd(this),e),Sr(Hv.get(this))}:function(...e){return Sr(s.apply(Yd(this),e))}}function HS(s){return typeof s=="function"?qS(s):(s instanceof IDBTransaction&&zS(s),LS(s,US())?new Proxy(s,lm):s)}function Sr(s){if(s instanceof IDBRequest)return jS(s);if(Fd.has(s))return Fd.get(s);const e=HS(s);return e!==s&&(Fd.set(s,e),Pm.set(e,s)),e}const Yd=s=>Pm.get(s);function GS(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=Sr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(Sr(d.result),g.oldVersion,g.newVersion,Sr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const FS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],Kd=new Map;function l_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=YS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||FS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Kd.set(e,c),c}BS(s=>({...s,get:(e,i,a)=>l_(e,i)||s.get(e,i,a),has:(e,i)=>!!l_(e,i)||s.has(e,i)}));class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QS(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",u_="0.14.7";const Is=new Um("@firebase/app"),$S="@firebase/app-compat",XS="@firebase/analytics-compat",JS="@firebase/analytics",ZS="@firebase/app-check-compat",WS="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",iA="@firebase/data-connect",sA="@firebase/database-compat",rA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",uA="@firebase/messaging",cA="@firebase/messaging-compat",hA="@firebase/performance",fA="@firebase/performance-compat",dA="@firebase/remote-config",mA="@firebase/remote-config-compat",gA="@firebase/storage",pA="@firebase/storage-compat",yA="@firebase/firestore",_A="@firebase/ai",vA="@firebase/firestore-compat",EA="firebase",TA="12.8.0";const cm="[DEFAULT]",bA={[um]:"fire-core",[$S]:"fire-core-compat",[JS]:"fire-analytics",[XS]:"fire-analytics-compat",[WS]:"fire-app-check",[ZS]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[iA]:"fire-data-connect",[sA]:"fire-rtdb-compat",[rA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[uA]:"fire-fcm",[cA]:"fire-fcm-compat",[hA]:"fire-perf",[fA]:"fire-perf-compat",[dA]:"fire-rc",[mA]:"fire-rc-compat",[gA]:"fire-gcs",[pA]:"fire-gcs-compat",[yA]:"fire-fst",[vA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};const sh=new Map,SA=new Map,hm=new Map;function c_(s,e){try{s.container.addComponent(e)}catch(i){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function vo(s){const e=s.name;if(hm.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of sh.values())c_(i,s);for(const i of SA.values())c_(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ui(s){return s==null?!1:s.settings!==void 0}const AA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new iu("app","Firebase",AA);class wA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Ro=TA;function Fv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:cm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ar.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw Ar.create("no-options");const c=sh.get(l);if(c){if(Rr(i,c.options)&&Rr(a,c.config))return c;throw Ar.create("duplicate-app",{appName:l})}const d=new DS(l);for(const g of hm.values())d.addComponent(g);const y=new wA(i,a,d);return sh.set(l,y),y}function Yv(s=cm){const e=sh.get(s);if(!e&&s===cm&&jv())return Fv();if(!e)throw Ar.create("no-app",{appName:s});return e}function wr(s,e,i){let a=bA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(d.join(" "));return}vo(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xA="firebase-heartbeat-database",CA=1,Kl="firebase-heartbeat-store";let Qd=null;function Kv(){return Qd||(Qd=GS(xA,CA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ar.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function RA(s){try{const i=(await Kv()).transaction(Kl),a=await i.objectStore(Kl).get(Qv(s));return await i.done,a}catch(e){if(e instanceof ks)Is.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e?.message});Is.warn(i.message)}}}async function h_(s,e){try{const a=(await Kv()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(e,Qv(s)),await a.done}catch(i){if(i instanceof ks)Is.warn(i.message);else{const a=Ar.create("idb-set",{originalErrorMessage:i?.message});Is.warn(a.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}const IA=1024,NA=30;class DA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new MA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NA){const l=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:i,unsentEntries:a}=OA(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Is.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function OA(s,e=IA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),d_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),d_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return h_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function d_(s){return ih(JSON.stringify({version:2,heartbeats:s})).length}function VA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function kA(s){vo(new da("platform-logger",e=>new KS(e),"PRIVATE")),vo(new da("heartbeat",e=>new DA(e),"PRIVATE")),wr(um,u_,s),wr(um,u_,"esm2020"),wr("fire-js","")}kA("");var LA="firebase",UA="12.8.0";wr(LA,UA,"app");function $v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PA=$v,Xv=new iu("auth","Firebase",$v());const rh=new Um("@firebase/auth");function jA(s,...e){rh.logLevel<=Ke.WARN&&rh.warn(`Auth (${Ro}): ${s}`,...e)}function Fc(s,...e){rh.logLevel<=Ke.ERROR&&rh.error(`Auth (${Ro}): ${s}`,...e)}function Ns(s,...e){throw zm(s,...e)}function $i(s,...e){return zm(s,...e)}function Jv(s,e,i){const a={...PA(),[e]:i};return new iu("auth","Firebase",a).create(e,{appName:s.name})}function Rs(s){return Jv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Xv.create(s,...e)}function Re(s,e,...i){if(!s)throw zm(e,...i)}function xs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fc(e),new Error(e)}function Ds(s,e){s||xs(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function zA(){return m_()==="http:"||m_()==="https:"}function m_(){return typeof self<"u"&&self.location?.protocol||null}function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zA()||gS()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ru{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ds(i>e,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bm(s,e){Ds(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Zv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FA=new ru(3e4,6e4);function au(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Io(s,e,i,a,l={}){return Wv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=su({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return mS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Co(s.emulatorConfig.host)&&(_.credentials="include"),Zv.fetch()(await e1(s,s.config.apiHost,i,y),_)})}async function Wv(s,e,i){s._canInitEmulator=!1;const a={...HA,...e};try{const l=new YA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw jc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Jv(s,S,_);Ns(s,S)}}catch(l){if(l instanceof ks)throw l;Ns(s,"network-request-failed",{message:String(l)})}}async function qm(s,e,i,a,l={}){const c=await Io(s,e,i,a,l);return"mfaPendingCredential"in c&&Ns(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function e1(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Bm(s.config,l):`${s.config.apiScheme}://${l}`;return GA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class YA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a($i(this.auth,"network-request-failed")),FA.get())})}}function jc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=$i(s,e,a);return l.customData._tokenResponse=i,l}async function KA(s,e){return Io(s,"POST","/v1/accounts:delete",e)}async function ah(s,e){return Io(s,"POST","/v1/accounts:lookup",e)}function Bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QA(s,e=!1){const i=Rn(s),a=await i.getIdToken(e),l=Hm(a);Re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Bl($d(l.auth_time)),issuedAtTime:Bl($d(l.iat)),expirationTime:Bl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Hm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Uv(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function g_(s){const e=Hm(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ks&&$A(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $A({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class XA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const e=s.auth,i=await s.getIdToken(),a=await Ql(s,ah(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?t1(l.providerUserInfo):[],d=ZA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function JA(s){const e=Rn(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZA(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function t1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function WA(s,e){const i=await Wv(s,{},async()=>{const a=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await e1(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&Co(s.emulatorConfig.host)&&(g.credentials="include"),Zv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ew(s,e){return Io(s,"POST","/v2/accounts:revokeToken",au(s,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=g_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await WA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new fo;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return xs("not implemented")}}function yr(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new XA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return QA(this,e)}reload(){return JA(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Ql(this,KA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:K,providerData:te,stsTokenManager:re}=i;Re(A&&re,e,"internal-error");const ae=fo.fromJSON(this.name,re);Re(typeof A=="string",e,"internal-error"),yr(a,e.name),yr(l,e.name),Re(typeof M=="boolean",e,"internal-error"),Re(typeof K=="boolean",e,"internal-error"),yr(c,e.name),yr(d,e.name),yr(y,e.name),yr(g,e.name),yr(_,e.name),yr(S,e.name);const pe=new Ai({uid:A,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ae,createdAt:_,lastLoginAt:S});return te&&Array.isArray(te)&&(pe.providerData=te.map(Ve=>({...Ve}))),g&&(pe._redirectEventId=g),pe}static async _fromIdTokenResponse(e,i,a=!1){const l=new fo;l.updateFromServerResponse(i);const c=new Ai({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Re(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?t1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new fo;y.updateFromIdToken(a);const g=new Ai({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const p_=new Map;function Cs(s){Ds(s instanceof Function,"Expected a class definition");let e=p_.get(s);return e?(Ds(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,p_.set(s,e),e)}class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}n1.type="NONE";const y_=n1;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class mo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ah(this.auth,{idToken:e}).catch(()=>{});return i?Ai._fromGetAccountInfoResponse(this.auth,i,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new mo(Cs(y_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Cs(y_);const d=Yc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await ah(e,{idToken:S}).catch(()=>{});if(!M)break;A=await Ai._fromGetAccountInfoResponse(e,M,S)}else A=Ai._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new mo(c,e,a))}}function __(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(u1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||r1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function i1(s=Sn()){return/firefox\//i.test(s)}function s1(s=Sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r1(s=Sn()){return/crios\//i.test(s)}function a1(s=Sn()){return/iemobile/i.test(s)}function o1(s=Sn()){return/android/i.test(s)}function l1(s=Sn()){return/blackberry/i.test(s)}function u1(s=Sn()){return/webos/i.test(s)}function Gm(s=Sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function tw(s=Sn()){return Gm(s)&&!!window.navigator?.standalone}function nw(){return yS()&&document.documentMode===10}function c1(s=Sn()){return Gm(s)||o1(s)||u1(s)||l1(s)||/windows phone/i.test(s)||a1(s)}function h1(s,e=[]){let i;switch(s){case"Browser":i=__(Sn());break;case"Worker":i=`${__(Sn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${a}`}class iw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function sw(s,e={}){return Io(s,"GET","/v2/passwordPolicy",au(s,e))}const rw=6;class aw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??rw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ow{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new iw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ah(this,{idToken:e}),a=await Ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Rs(this));const i=e?Rn(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sw(this),i=new aw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ew(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Cs(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ou(s){return Rn(s)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lw(s){Fm=s}function uw(s){return Fm.loadJS(s)}function cw(){return Fm.gapiScript}function hw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function fw(s,e){const i=jm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Rr(c,e??{}))return l;Ns(l,"already-initialized")}return i.initialize({options:e})}function dw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function mw(s,e,i){const a=ou(s);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=f1(e),{host:d,port:y}=gw(e),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Rr(_,a.config.emulator)&&Rr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Co(d)?(Bv(`${c}//${d}${g}`),qv("Auth",!0)):pw()}function f1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function gw(s){const e=f1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:E_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:E_(d)}}}function E_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class d1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,i){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function go(s,e){return qm(s,"POST","/v1/accounts:signInWithIdp",au(s,e))}const yw="http://localhost";class ma extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ma(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return go(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,go(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,go(e,i)}buildRequest(){const e={requestUri:yw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=su(i)}return e}}class m1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends m1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _r extends lu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";class vr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ma._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return vr.credential(i,a)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class Er extends lu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";class Tr extends lu{constructor(){super("twitter.com")}static credential(e,i){return ma._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Tr.credential(i,a)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";async function _w(s,e){return qm(s,"POST","/v1/accounts:signUp",au(s,e))}class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Ai._fromIdTokenResponse(e,a,l),d=T_(a);return new Os({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=T_(a);return new Os({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function T_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function vw(s){if(ui(s.app))return Promise.reject(Rs(s));const e=ou(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Os({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await _w(e,{returnSecureToken:!0}),a=await Os._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class lh extends ks{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new lh(e,i,a,l)}}function g1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,e,a):c})}async function Ew(s,e,i=!1){const a=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Os._forOperation(s,"link",a)}async function Tw(s,e,i=!1){const{auth:a}=s;if(ui(a.app))return Promise.reject(Rs(a));const l="reauthenticate";try{const c=await Ql(s,g1(a,l,e,s),i);Re(c.idToken,a,"internal-error");const d=Hm(c.idToken);Re(d,a,"internal-error");const{sub:y}=d;return Re(s.uid===y,a,"user-mismatch"),Os._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ns(a,"user-mismatch"),c}}async function bw(s,e,i=!1){if(ui(s.app))return Promise.reject(Rs(s));const a="signIn",l=await g1(s,a,e),c=await Os._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Sw(s,e){return qm(s,"POST","/v1/accounts:signInWithCustomToken",au(s,e))}async function Aw(s,e){if(ui(s.app))return Promise.reject(Rs(s));const i=ou(s),a=await Sw(i,{token:e,returnSecureToken:!0}),l=await Os._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function ww(s,e,i,a){return Rn(s).onIdTokenChanged(e,i,a)}function xw(s,e,i){return Rn(s).beforeAuthStateChanged(e,i)}function Cw(s,e,i,a){return Rn(s).onAuthStateChanged(e,i,a)}const uh="__sak";class p1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rw=1e3,Iw=10;class y1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);nw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Iw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const Nw=y1;class _1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}_1.type="SESSION";const v1=_1;function Dw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new wh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Dw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function Ym(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=Ym("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Xi(){return window}function Mw(s){Xi().location.href=s}function E1(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function Vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){return navigator?.serviceWorker?.controller||null}function Lw(){return E1()?self:null}const T1="firebaseLocalStorageDb",Uw=1,ch="firebaseLocalStorage",b1="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function Pw(){const s=indexedDB.deleteDatabase(T1);return new uu(s).toPromise()}function mm(){const s=indexedDB.open(T1,Uw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ch,{keyPath:b1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ch)?e(a):(a.close(),await Pw(),e(await mm()))})})}async function b_(s,e,i){const a=xh(s,!0).put({[b1]:e,value:i});return new uu(a).toPromise()}async function jw(s,e){const i=xh(s,!1).get(e),a=await new uu(i).toPromise();return a===void 0?null:a.value}function S_(s,e){const i=xh(s,!0).delete(e);return new uu(i).toPromise()}const zw=800,Bw=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Bw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vw(),!this.activeServiceWorker)return;this.sender=new Ow(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await b_(e,uh,"1"),await S_(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>b_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>jw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>S_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const qw=S1;new ru(3e4,6e4);function Hw(s,e){return e?Cs(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Km extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,i){return go(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Gw(s){return bw(s.auth,new Km(s),s.bypassAuthState)}function Fw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),Tw(i,new Km(s),s.bypassAuthState)}async function Yw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),Ew(i,new Km(s),s.bypassAuthState)}class A1{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Yw;case"reauthViaPopup":case"reauthViaRedirect":return Fw;default:Ns(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kw=new ru(2e3,1e4);class co extends A1{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kw.get())};e()}}co.currentPopupAction=null;const Qw="pendingRedirect",Kc=new Map;class $w extends A1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const a=await Xw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xw(s,e){const i=Ww(e),a=Zw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Jw(s,e){Kc.set(s._key(),e)}function Zw(s){return Cs(s._redirectPersistence)}function Ww(s){return Yc(Qw,s.config.apiKey,s.name)}async function e2(s,e,i=!1){if(ui(s.app))return Promise.reject(Rs(s));const a=ou(s),l=Hw(a,e),d=await new $w(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!w1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError($i(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(A_(e))}saveEventToCache(e){this.cachedEventUids.add(A_(e)),this.lastProcessedEventTime=Date.now()}}function A_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function w1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function i2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(s);default:return!1}}async function s2(s,e={}){return Io(s,"GET","/v1/projects",e)}const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function o2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await s2(s);for(const i of e)try{if(l2(i))return}catch{}Ns(s,"unauthorized-domain")}function l2(s){const e=fm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!a2.test(i))return!1;if(r2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const u2=new ru(3e4,6e4);function w_(){const s=Xi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function c2(s){return new Promise((e,i)=>{function a(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),i($i(s,"network-request-failed"))},timeout:u2.get()})}if(Xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xi().gapi?.load)a();else{const l=hw("iframefcb");return Xi()[l]=()=>{gapi.load?a():i($i(s,"network-request-failed"))},uw(`${cw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function h2(s){return Qc=Qc||c2(s),Qc}const f2=new ru(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",g2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Bm(e,m2):`https://${s.config.authDomain}/${d2}`,a={apiKey:e.apiKey,appName:s.name,v:Ro},l=p2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${su(a).slice(1)}`}async function _2(s){const e=await h2(s),i=Xi().gapi;return Re(i,s,"internal-error"),e.open({where:document.body,url:y2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=$i(s,"network-request-failed"),y=Xi().setTimeout(()=>{c(d)},f2.get());function g(){Xi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,b2="_blank",S2="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(s,e,i,a=E2,l=T2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...v2,width:a.toString(),height:l.toString(),top:c,left:d},_=Sn().toLowerCase();i&&(y=r1(_)?b2:i),i1(_)&&(e=e||S2,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[K,te])=>`${M}${K}=${te},`,"");if(tw(_)&&y!=="_self")return w2(e||"",y),new x_(null);const A=window.open(e||"",y,S);Re(A,s,"popup-blocked");try{A.focus()}catch{}return new x_(A)}function w2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const x2="__/auth/handler",C2="emulator/auth/handler",R2=encodeURIComponent("fac");async function C_(s,e,i,a,l,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ro,eventId:l};if(e instanceof m1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",AS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof lu){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await s._getAppCheckToken(),_=g?`#${R2}=${encodeURIComponent(g)}`:"";return`${I2(s)}?${su(y).slice(1)}${_}`}function I2({config:s}){return s.emulator?Bm(s,C2):`https://${s.authDomain}/${x2}`}const Xd="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=e2,this._overrideRedirectResult=Jw}async _openPopup(e,i,a,l){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,a,fm(),l);return A2(e,c,Ym())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await C_(e,i,a,fm(),l);return Mw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await _2(e),a=new n2(e);return i.register("authEvent",l=>(Re(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),Ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=o2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return c1()||s1()||Gm()}}const D2=N2;var R_="@firebase/auth",I_="1.12.0";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(s){vo(new da("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(s)},_=new ow(a,l,c,g);return dw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),vo(new da("auth-internal",e=>{const i=ou(e.getProvider("auth").getImmediate());return(a=>new O2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(R_,I_,M2(s)),wr(R_,I_,"esm2020")}const k2=300,L2=zv("authIdTokenMaxAge")||k2;let N_=null;const U2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>L2)return;const l=i?.token;N_!==l&&(N_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function P2(s=Yv()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=fw(s,{popupRedirectResolver:D2,persistence:[qw,Nw,v1]}),a=zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=U2(c.toString());xw(i,d,()=>d(i.currentUser)),ww(i,y=>d(y))}}const l=Pv("auth");return l&&mw(i,`http://${l}`),i}function j2(){return document.getElementsByTagName("head")?.[0]??document}lw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=$i("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",j2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V2("Browser");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xr,x1;(function(){var s;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,L){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return w.prototype[N].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],x;x=w+(L^I&(N^L))+V[0]+3614090360&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+V[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+V[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+V[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+V[4]+4118548399&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+V[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+V[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+V[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+V[8]+1770035416&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+V[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+V[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+V[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(L^I&(N^L))+V[12]+1804603682&4294967295,w=I+(x<<7&4294967295|x>>>25),x=L+(N^w&(I^N))+V[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=N+(I^L&(w^I))+V[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(w^N&(L^w))+V[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=w+(N^L&(I^N))+V[1]+4129170786&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+V[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+V[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+V[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+V[5]+3593408605&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+V[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+V[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+V[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+V[9]+568446438&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+V[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+V[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+V[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(N^L&(I^N))+V[13]+2850285829&4294967295,w=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(w^I))+V[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=N+(w^I&(L^w))+V[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^w&(N^L))+V[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=w+(I^N^L)+V[5]+4294588738&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+V[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+V[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+V[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+V[1]+2763975236&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+V[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+V[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+V[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+V[13]+681279174&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+V[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+V[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+V[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(I^N^L)+V[9]+3654602809&4294967295,w=I+(x<<4&4294967295|x>>>28),x=L+(w^I^N)+V[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=N+(L^w^I)+V[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^w)+V[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=w+(N^(I|~L))+V[0]+4096336452&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+V[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+V[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+V[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+V[12]+1700485571&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+V[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+V[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+V[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+V[8]+1873313359&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+V[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+V[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+V[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=w+(N^(I|~L))+V[4]+4149444226&4294967295,w=I+(x<<6&4294967295|x>>>26),x=L+(I^(w|~N))+V[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=N+(w^(L|~I))+V[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<w;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<w;)if(V[N++]=C[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==w||(I[N]=L,V=!1)}this.g=I}var y={};function g(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return ae(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return ae(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(x))):(V=V.j(I),V=V.add(_(x)))}return V}var A=g(0),M=g(1),K=g(16777216);s=d.prototype,s.m=function(){if(re(this))return-ae(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(te(this))return"0";if(re(this))return"-"+ae(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=at(I,w).g;I=pe(I,N.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,te(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function te(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function re(C){return C.h==-1}s.l=function(C){return C=pe(this,C),re(C)?-1:te(C)?0:1};function ae(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return re(this)?ae(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=w;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=x>>>16,L&=65535,x&=65535,I[N]=x<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pe(C,w){return C.add(ae(w))}s.j=function(C){if(te(this)||te(C))return A;if(re(this))return re(C)?ae(this).j(ae(C)):ae(ae(this).j(C));if(re(C))return ae(this.j(ae(C)));if(this.l(K)<0&&C.l(K)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,x=this.i(V)&65535,lt=C.i(N)>>>16,wt=C.i(N)&65535;I[2*V+2*N]+=x*wt,Ve(I,2*V+2*N),I[2*V+2*N+1]+=L*wt,Ve(I,2*V+2*N+1),I[2*V+2*N+1]+=x*lt,Ve(I,2*V+2*N+1),I[2*V+2*N+2]+=L*lt,Ve(I,2*V+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Ve(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Ie(C,w){this.g=C,this.h=w}function at(C,w){if(te(w))throw Error("division by zero");if(te(C))return new Ie(A,A);if(re(C))return w=at(ae(C),w),new Ie(ae(w.g),ae(w.h));if(re(w))return w=at(C,ae(w)),new Ie(ae(w.g),w.h);if(C.g.length>30){if(re(C)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(C)<=0;)I=Et(I),V=Et(V);var N=Pe(I,1),L=Pe(V,1);for(V=Pe(V,2),I=Pe(I,2);!te(V);){var x=L.add(V);x.l(C)<=0&&(N=N.add(I),L=x),V=Pe(V,1),I=Pe(I,1)}return w=pe(C,N.j(w)),new Ie(N,w)}for(N=A;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),x=L.j(w);re(x)||x.l(C)>0;)I-=V,L=_(I),x=L.j(w);te(L)&&(L=M),N=N.add(L),C=pe(C,x)}return new Ie(N,C)}s.B=function(C){return at(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Et(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Pe(C,w){const I=w>>5;w%=32;const V=C.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=w>0?C.i(L+I)>>>w|C.i(L+I+1)<<32-w:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,x1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,xr=d}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var C1,Ll,R1,$c,gm,I1,N1,D1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,q){for(var ne=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ne[ke-2]=arguments[ke];return m.prototype[U].apply(b,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=U[ne]}else u.push(U)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ae(u){d.setTimeout(()=>{throw u},0)}function pe(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,v){const b=Ie.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ie=new re(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,Pe=!1,C=new Ve,w=()=>{const u=Promise.resolve(void 0);Et=()=>{u.then(I)}};function I(){for(var u;u=pe();){try{u.h.call(u.g)}catch(v){ae(v)}var m=Ie;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function lt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(lt,N),lt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function et(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,m,v,b,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Me(u,m,b,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!b,U),m.fa=v,u.push(m)),m};function Se(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Me(u,m,v,b){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return U}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Ot={};function _t(u,m,v,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)_t(u,m[q],v,b,U);return null}return v=Ur(v),u&&u[wt]?u.J(m,v,y(b)?!!b.capture:!1,U):ns(u,m,v,!1,b,U)}function ns(u,m,v,b,U,q){if(!m)throw Error("Invalid event type");const ne=y(U)?!!U.capture:!!U;let ke=ss(u);if(ke||(u[He]=ke=new ee(u)),v=ke.add(m,v,b,ne,q),v.proxy)return v;if(b=Ls(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ls(){function u(v){return m.call(u.src,u.listener,v)}const m=is;return u}function hi(u,m,v,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)hi(u,m[q],v,b,U);else b=y(b)?!!b.capture:!!b,v=Ur(v),u&&u[wt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Me(m,v,b,U),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Me(m,v,b,U)),(v=u>-1?m[u]:null)&&fi(v))}function fi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[wt])Se(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Xn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ss(m))?(Se(v,u),v.h==0&&(v.src=null,m[He]=null)):me(u)}}}function Xn(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function is(u,m){if(u.da)u=!0;else{m=new lt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&fi(u),u=v.call(b,m)}return u}function ss(u){return u=u[He],u instanceof ee?u:null}var Us="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(m){return u.handleEvent(m)}),u[Us])}function xt(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}A(xt,V),xt.prototype[wt]=!0,xt.prototype.removeEventListener=function(u,m,v,b){hi(this,u,m,v,b)};function Ut(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),se(m,U)}U=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],U=Pt(q,b,!0,m)&&U;if(q=m.g=u,U=Pt(q,b,!0,m)&&U,U=Pt(q,b,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],U=Pt(q,b,!1,m)&&U}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)me(v[b]);delete u.g[m],u.h--}}this.G=null},xt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},xt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Pt(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const ke=ne.listener,jt=ne.ha||ne.src;ne.fa&&Se(u.i,ne),U=ke.call(jt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ps(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ri(u){u.g=Ps(()=>{u.g=null,u.i&&(u.i=!1,Ri(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class B extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J(u){V.call(this),this.h=u,this.g={}}A(J,V);var W=[];function oe(u){qe(u.g,function(m,v){this.g.hasOwnProperty(v)&&fi(m)},u),u.g={}}J.prototype.N=function(){J.Z.N.call(this),oe(this)},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=d.JSON.stringify,Ge=d.JSON.parse,le=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Xe(){}function ce(){}var _e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ee(){N.call(this,"d")}A(Ee,N);function je(){N.call(this,"c")}A(je,N);var ve={},An=null;function di(){return An=An||new xt}ve.Ia="serverreachability";function js(u){N.call(this,ve.Ia,u)}A(js,N);function vt(u){const m=di();Ut(m,new js(m))}ve.STAT_EVENT="statevent";function Gt(u,m){N.call(this,ve.STAT_EVENT,u),this.stat=m}A(Gt,N);function Tt(u){const m=di();Ut(m,new Gt(m,u))}ve.Ja="timingevent";function fe(u,m){N.call(this,ve.Ja,u),this.size=m}A(fe,N);function be(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.ua=function(){this.g=!1};function It(u,m,v,b,U,q){u.info(function(){if(u.g)if(q){var ne="",ke=q.split("&");for(let it=0;it<ke.length;it++){var jt=ke[it].split("=");if(jt.length>1){const Ct=jt[0];jt=jt[1];const ei=Ct.split("_");ne=ei.length>=2&&ei[1]=="type"?ne+(Ct+"="+jt+"&"):ne+(Ct+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function Ii(u,m,v,b,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ne})}function Pn(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nn(u,v)+(b?" "+b:"")})}function rs(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function nn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return ye(q)}catch{return m}}var jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function jr(){}A(jr,Xe),jr.prototype.g=function(){return new XMLHttpRequest},Vo=new jr;function as(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function mi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new J(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Ft={},on={};function Ni(u,m,v){u.M=1,u.A=zr(Kt(m)),u.u=v,u.R=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),Di(u),u.B=Kt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new gi,u.g=Ou(u.j,v?m:null,!u.u),u.P>0&&(u.O=new B(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(W[0]=U.toString()),U=W);for(let q=0;q<U.length;q++){const ne=_t(v,U[q],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vt(),It(u.i,u.v,u.B,u.l,u.S,u.u)}mi.prototype.ba=function(u){u=u.target;const m=this.O;m&&_i(u)==3?m.j():this.Y(u)},mi.prototype.Y=function(u){try{if(u==this.g)e:{const ke=_i(this.g),jt=this.g.ya(),it=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||ke!=4||jt==7||(jt==8||it<=0?vt(3):vt(2)),Oi(this);var m=this.g.ca();this.X=m;var v=Hh(this);if(this.o=m==200,Ii(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var q=b;break t}}q=null}if(u=q)Pn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,u);else{this.o=!1,this.m=3,Tt(12),zn(this),Jn(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<v.length;)if(Ct=vu(this,v),Ct==on){ke==4&&(this.m=4,Tt(14),u=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Ft){this.m=4,Tt(15),Pn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Pn(this.i,this.l,Ct,null),Mi(this,Ct);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)Pn(this.i,this.l,v,"[Invalid Chunked Response]"),zn(this),Jn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(ne),ne.P=!0,Tt(11))}}else Pn(this.i,this.l,v,null),Mi(this,v);ke==4&&zn(this),this.o&&!this.K&&(ke==4?Ru(this.j,this):(this.o=!1,Di(this)))}else ls(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),zn(this),Jn(this)}}}catch{}};function Hh(u){if(!_u(u))return u.g.la();const m=hn(u.g);if(m==="")return"";let v="";const b=m.length,U=_i(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return zn(u),Jn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?on:(v=Number(m.substring(v,b)),isNaN(v)?Ft:(b+=1,b+v>m.length?on:(m=m.slice(b,b+v),u.C=b+v,m)))}mi.prototype.cancel=function(){this.K=!0,zn(this)};function Di(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=be(_(u.aa,u),m)}function Oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}mi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(rs(this.i,this.B),this.M!=2&&(vt(),Tt(17)),zn(this),this.m=2,Jn(this)):Ta(this,this.T-u)};function Jn(u){u.j.I==0||u.K||Ru(u.j,u)}function zn(u){Oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ki(v.h,u))){if(!u.L&&ki(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),Ks(v);else break e;Kr(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=be(_(v.Va,v),6e3));Vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Bi(v,11)}else if((u.L||v.g==u)&&Ia(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let it=U[m];const Ct=it[0];if(!(Ct<=v.K))if(v.K=Ct,it=it[1],v.I==2)if(it[0]=="c"){v.M=it[1],v.ba=it[2];const ei=it[3];ei!=null&&(v.ka=ei,v.j.info("VER="+v.ka));const qi=it[4];qi!=null&&(v.za=qi,v.j.info("SVER="+v.za));const vi=it[5];vi!=null&&typeof vi=="number"&&vi>0&&(b=1.5*vi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ei=u.g;if(Ei){const Qr=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var q=b.h;q.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(b.G){const Na=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(b.wa=Na,ut(b.J,b.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=u;if(b.na=Du(b,b.L?b.ba:null,b.W),ne.L){Po(b.h,ne);var ke=ne,jt=b.O;jt&&(ke.H=jt),ke.D&&(Oi(ke),Di(ke)),b.g=ne}else xu(b);v.i.length>0&&zi(v)}else it[0]!="stop"&&it[0]!="close"||Bi(v,7);else v.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Bi(v,7):Ko(v):it[0]!="noop"&&v.l&&v.l.qa(it),v.A=0)}}vt(4)}catch{}}var Yt=class{constructor(u,m){this.g=u,this.map=m}};function ko(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vi(u){return u.h?1:u.g?u.g.size:0}function ki(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Uo(u,m){u.g?u.g.add(m):u.h=m}function Po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ko.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,q=null;b>=0?(U=u[v].substring(0,b),q=u[v].substring(b+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Bn?(this.l=u.l,ln(this,u.j),this.o=u.o,this.g=u.g,zs(this,u.u),this.h=u.h,zo(this,Au(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,ln(this,m[1]||"",!0),this.o=Li(m[2]||""),this.g=Li(m[3]||"",!0),zs(this,m[4]),this.h=Li(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=Li(m[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Br(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Br(m,Sa,!0),"@"),u.push(as(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Br(v,v.charAt(0)=="/"?Bo:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Br(v,bu)),u.join("")},Bn.prototype.resolve=function(u){const m=Kt(this);let v=!!u.j;v?ln(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)zs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const ke=U[ne++];ke=="."?b&&ne==U.length&&q.push(""):ke==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ne==U.length&&q.push("")):(q.push(ke),b=!0)}b=q.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?zo(m,Au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Kt(u){return new Bn(u)}function ln(u,m,v){u.j=v?Li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof qs?(u.i=m,wa(u.i,u.l)):(v||(m=Br(m,Bs)),u.i=new qs(m,u.l))}function ut(u,m,v){u.i.set(m,v)}function zr(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,In),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,Tu=/[#\?:]/g,Bo=/[#\?]/g,Bs=/[#\?@]/g,bu=/#/g;function qs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=qs.prototype,s.add=function(u,m){Nn(this),this.i=null,u=Hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Su(u,m){Nn(u),m=Hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qo(u,m){return Nn(u),m=Hs(u,m),u.g.has(m)}s.forEach=function(u,m){Nn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Ho(u,m){Nn(u);let v=[];if(typeof m=="string")qo(u,m)&&(v=v.concat(u.g.get(Hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Nn(this),this.i=null,u=Hs(this,u),qo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){Su(u,m),v.length>0&&(u.i=null,u.g.set(Hs(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=as(v);v=Ho(this,v);for(let q=0;q<v.length;q++){let ne=U;v[q]!==""&&(ne+="="+as(v[q])),u.push(ne)}}return this.i=u.join("&")};function Au(u){const m=new qs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(Nn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Su(this,b),Aa(this,U,v))},u)),u.j=m}function pi(u,m){const v=new Ce;if(d.Image){const b=new Image;b.onload=S(Zn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Zn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Zn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Zn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Go(u,m){const v=new Ce,b=new AbortController,U=setTimeout(()=>{b.abort(),Zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?Zn(v,"TestPingServer: ok",!0,m):Zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Zn(v,"TestPingServer: error",!1,m)})}function Zn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Gs(){this.g=new le}function Ui(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ui,Xe),Ui.prototype.g=function(){return new qr(this.i,this.h)};function qr(u,m){xt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(qr,xt),s=qr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fs(this):yi(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Fs(this))},s.Na=function(u){this.g&&(this.response=u,Fs(this))},s.ga=function(){this.g&&Fs(this)};function Fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let m="";return qe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Hr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Wn(v),typeof u=="string"?v!=null&&as(v):ut(u,m,v))}function dt(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(dt,xt);var Pi=/^https?$/i,Fo=["POST","PUT"];s=dt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Gr(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Gr(this,q)}};function Gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yo(u),os(u)}function Yo(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ut(this,"complete"),Ut(this,"abort"),os(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),dt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Fr(this):this.Xa())},s.Xa=function(){Fr(this)};function Fr(u){if(u.h&&typeof c<"u"){if(u.v&&_i(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ut(u,"readystatechange"),_i(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let ne=String(u.D).match(Eu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!Pi.test(ne?ne.toLowerCase():"")}v=b}if(v)Ut(u,"complete"),Ut(u,"success");else{u.o=6;try{var U=_i(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Yo(u)}}finally{os(u)}}}}function os(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ut(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function _i(u){return u.g?u.g.readyState:0}s.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ge(m)}};function hn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(u){const m={};u=(u.g&&_i(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=yu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}et(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ys(u){this.za=0,this.i=[],this.j=new Ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(u&&u.concurrentRequestLimit),this.Ba=new Gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ys.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Tt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Du(this,null,this.W),zi(this)};function Ko(u){if(Ca(u),u.I==3){var m=u.V++,v=Kt(u.J);if(ut(v,"SID",u.M),ut(v,"RID",m),ut(v,"TYPE","terminate"),Yr(u,v),m=new mi(u,u.j,m),m.M=2,m.A=zr(Kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Di(m)}Nu(u)}function Ks(u){u.g&&($o(u),u.g.cancel(),u.g=null)}function Ca(u){Ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Et||w(),Pe||(Et(),Pe=!0),C.add(m,u),u.D=0}}function Ra(u,m){return Vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=be(_(u.Ea,u,m),Iu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new mi(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=wu(this,U,m),v=Kt(this.J),ut(v,"RID",u),ut(v,"CVER",22),this.G&&ut(v,"X-HTTP-Session-Id",this.G),Yr(this,v),q&&(this.R?m="headers="+as(Wn(q))+"&"+m:this.u&&Hr(v,this.u,q)),Uo(this.h,U),this.Ra&&ut(v,"TYPE","init"),this.S?(ut(v,"$req",m),ut(v,"SID","null"),U.U=!0,Ni(U,v,null)):Ni(U,v,m),this.I=2}}else this.I==3&&(u?Qo(this,u):this.i.length==0||Lo(this.h)||Qo(this))};function Qo(u,m){var v;m?v=m.l:v=u.V++;const b=Kt(u.J);ut(b,"SID",u.M),ut(b,"RID",v),ut(b,"AID",u.K),Yr(u,b),u.u&&u.o&&Hr(b,u.u,u.o),v=new mi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Uo(u.h,v),Ni(v,b,m)}function Yr(u,m){u.H&&qe(u.H,function(v,b){ut(m,b,v)}),u.l&&qe({},function(v,b){ut(m,b,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let ke=-1;for(;;){const jt=["count="+v];ke==-1?v>0?(ke=U[0].g,jt.push("ofs="+ke)):ke=0:jt.push("ofs="+ke);let it=!0;for(let Ct=0;Ct<v;Ct++){var q=U[Ct].g;const ei=U[Ct].map;if(q-=ke,q<0)ke=Math.max(0,U[Ct].g-100),it=!1;else try{q="req"+q+"_"||"";try{var ne=ei instanceof Map?ei:Object.entries(ei);for(const[qi,vi]of ne){let Ei=vi;y(vi)&&(Ei=ye(vi)),jt.push(q+qi+"="+encodeURIComponent(Ei))}}catch(qi){throw jt.push(q+"type="+encodeURIComponent("_badmap")),qi}}catch{b&&b(ei)}}if(it){ne=jt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function xu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Et||w(),Pe||(Et(),Pe=!0),C.add(m,u),u.A=0}}function Kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=be(_(u.Da,u),Iu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=be(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ks(this),Cu(this))};function $o(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new mi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Kt(u.na);ut(m,"RID","rpc"),ut(m,"SID",u.M),ut(m,"AID",u.K),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(m,"TO",u.ia),ut(m,"TYPE","xmlhttp"),Yr(u,m),u.u&&u.o&&Hr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=zr(Kt(m)),v.u=null,v.R=!0,Ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ks(this),Kr(this),Tt(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ru(u,m){var v=null;if(u.g==m){Ia(u),$o(u),u.g=null;var b=2}else if(ki(u.h,m))v=m.G,Po(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=di(),Ut(b,new fe(b,v)),zi(u)}else xu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Kr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Iu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Bi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new Bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ln(b,"https"),zr(b),U?pi(b.toString(),v):Go(b.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(m),Nu(u),Ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Nu(u){if(u.I=0,u.ja=[],u.l){const m=jo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Du(u,m,v){var b=v instanceof Bn?Kt(v):new Bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),zs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Bn(null);b&&ln(q,b),m&&(q.g=m),U&&zs(q,U),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&ut(b,v,m),ut(b,"VER",u.ka),Yr(u,b),b}function Ou(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new dt(new Ui({ab:v})):new dt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){xt.call(this),this.g=new Ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new us(this)}A(wn,xt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ko(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ye(u),u=v);m.i.push(new Yt(m.Ya++,u)),m.I==3&&zi(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,wn.Z.N.call(this)};function Vu(u){Ee.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Vu,Ee);function ku(){je.call(this),this.status=1}A(ku,je);function us(u){this.g=u}A(us,Mu),us.prototype.ra=function(){Ut(this.g,"a")},us.prototype.qa=function(u){Ut(this.g,new Vu(u))},us.prototype.pa=function(u){Ut(this.g,new ku)},us.prototype.oa=function(){Ut(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,D1=function(){return new Qs},N1=function(){return di()},I1=ve,gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,$c=jn,Pr.COMPLETE="complete",R1=Pr,ce.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",xt.prototype.listen=xt.prototype.J,Ll=ce,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,C1=dt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let No="12.8.0";function z2(s){No=s}const ga=new Um("@firebase/firestore");function ao(){return ga.logLevel}function ue(s,...e){if(ga.logLevel<=Ke.DEBUG){const i=e.map(Qm);ga.debug(`Firestore (${No}): ${s}`,...i)}}function Ms(s,...e){if(ga.logLevel<=Ke.ERROR){const i=e.map(Qm);ga.error(`Firestore (${No}): ${s}`,...i)}}function Eo(s,...e){if(ga.logLevel<=Ke.WARN){const i=e.map(Qm);ga.warn(`Firestore (${No}): ${s}`,...i)}}function Qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function xe(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,O1(s,a,i)}function O1(s,e,i){let a=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ms(a),new Error(a)}function ot(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||O1(e,l,a)}function Oe(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class M1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Tn.UNAUTHENTICATED)))}shutdown(){}}class q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class H2{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string",31837,{l:a}),new M1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class G2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class F2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ot(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=K2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Qe(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Jd(l)===Jd(c)?Qe(l,c):Jd(l)?1:-1}return Qe(s.length,e.length)}const Q2=55296,$2=57343;function Jd(s){const e=s.charCodeAt(0);return e>=Q2&&e<=$2}function To(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const M_="__name__";class Qi{constructor(e,i,a){i===void 0?i=0:i>e.length&&xe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&xe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Qi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const a=Qi.isNumericId(e),l=Qi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Qi.extractNumericId(e).compare(Qi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class Nt extends Qi{construct(e,i,a){return new Nt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Nt(i)}static emptyPath(){return new Nt([])}}const X2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Qi{construct(e,i,a){return new yn(e,i,a)}static isValidIdentifier(e){return X2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new yn([M_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(i)}static emptyPath(){return new yn([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Nt.fromString(e))}static fromName(e){return new Ae(Nt.fromString(e).popFirst(5))}static empty(){return new Ae(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Nt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Nt(e.slice()))}}function J2(s,e,i){if(!i)throw new ge(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Z2(s,e,i,a){if(e===!0&&a===!0)throw new ge(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V_(s){if(!Ae.isDocumentKey(s))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function V1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function wi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xm(s);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function en(s,e){const i={typeString:s};return e&&(i.value=e),i}function cu(s,e){if(!V1(s))throw new ge(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(Z.INVALID_ARGUMENT,i);return!0}const k_=-62135596800,L_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new At(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k_)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:en("string",At._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new At(0,0))}static max(){return new Ne(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function W2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ne.fromTimestamp(a===1e9?new At(i+1,0):new At(i,a));return new Ir(l,Ae.empty(),e)}function ex(s){return new Ir(s.readTime,s.key,$l)}class Ir{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ir(Ne.min(),Ae.empty(),$l)}static max(){return new Ir(Ne.max(),Ae.empty(),$l)}}function tx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ae.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==nx)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(e[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function sx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oo(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Jm=-1;function Rh(s){return s==null}function hh(s){return s===0&&1/s==-1/0}function rx(s){return typeof s=="number"&&Number.isInteger(s)&&!hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const k1="";function ax(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=U_(e)),e=ox(s.get(i),e);return U_(e)}function ox(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case k1:i+="";break;default:i+=c}}return i}function U_(s){return s+k1+""}function P_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function kr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function L1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Dt{constructor(e,i){this.comparator=e,this.root=i||pn.EMPTY}insert(e,i){return new Dt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??pn.RED,this.left=l??pn.EMPTY,this.right=c??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new pn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return pn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new pn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new an(this.comparator);return i.data=e,i}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $n{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new $n([])}unionWith(e){let i=new an(yn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new $n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class U1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new U1("Invalid base64 string: "+c):c}})(e);return new _n(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new _n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(s){if(ot(!!s,39018),typeof s=="string"){let e=0;const i=lx.exec(s);if(ot(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(s.seconds),nanos:Ht(s.nanos)}}function Ht(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?_n.fromBase64String(s):_n.fromUint8Array(s)}const P1="server_timestamp",j1="__type__",z1="__previous_value__",B1="__local_write_time__";function Zm(s){return(s?.mapValue?.fields||{})[j1]?.stringValue===P1}function Ih(s){const e=s.mapValue.fields[z1];return Zm(e)?Ih(e):e}function Xl(s){const e=Nr(s.mapValue.fields[B1].timestampValue);return new At(e.seconds,e.nanos)}class ux{constructor(e,i,a,l,c,d,y,g,_,S,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const fh="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||fh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function cx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(s.options.projectId,e)}const q1="__type__",hx="__max__",qc={mapValue:{}},H1="__vector__",dh="value";function Or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Zm(s)?4:dx(s)?9007199254740991:fx(s)?10:11:xe(28295,{value:s})}function es(s,e){if(s===e)return!0;const i=Or(s);if(i!==Or(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Nr(l.timestampValue),y=Nr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Dr(l.bytesValue).isEqual(Dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ht(l.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(l.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ht(l.integerValue)===Ht(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ht(l.doubleValue),y=Ht(c.doubleValue);return d===y?hh(d)===hh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return To(s.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(P_(d)!==P_(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!es(d[g],y[g])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function Zl(s,e){return(s.values||[]).find((i=>es(i,e)))!==void 0}function bo(s,e){if(s===e)return 0;const i=Or(s),a=Or(e);if(i!==a)return Qe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ht(c.integerValue||c.doubleValue),g=Ht(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,e);case 3:return z_(s.timestampValue,e.timestampValue);case 4:return z_(Xl(s),Xl(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Dr(c),g=Dr(d);return y.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=Qe(y[_],g[_]);if(S!==0)return S}return Qe(y.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Qe(Ht(c.latitude),Ht(d.latitude));return y!==0?y:Qe(Ht(c.longitude),Ht(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return B_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[dh]?.arrayValue,S=g[dh]?.arrayValue,A=Qe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:B_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const M=pm(g[A],S[A]);if(M!==0)return M;const K=bo(y[g[A]],_[S[A]]);if(K!==0)return K}return Qe(g.length,S.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:i})}}function z_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=Nr(s),a=Nr(e),l=Qe(i.seconds,a.seconds);return l!==0?l:Qe(i.nanos,a.nanos)}function B_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=bo(i[l],a[l]);if(c)return c}return Qe(i.length,a.length)}function So(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Nr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ae.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=ym(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):xe(61005,{value:s})}function Xc(s){switch(Or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Xc(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Xc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return kr(a.fields,((c,d)=>{l+=c.length+Xc(d)})),l})(s.mapValue);default:throw xe(13486,{value:s})}}function _m(s){return!!s&&"integerValue"in s}function Wm(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function H_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function fx(s){return(s?.mapValue?.fields||{})[q1]?.stringValue===H1}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return kr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=ql(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(s.arrayValue.values[i]);return e}return{...s}}function dx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hx}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=yn.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=ql(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){kr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Un(ql(this.value))}}function G1(s){const e=[];return kr(s.fields,((i,a)=>{const l=new yn([i]);if(Jc(a)){const c=G1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new $n(e)}class bn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new bn(e,0,Ne.min(),Ne.min(),Ne.min(),Un.empty(),0)}static newFoundDocument(e,i,a,l){return new bn(e,1,i,Ne.min(),a,l,0)}static newNoDocument(e,i){return new bn(e,2,i,Ne.min(),Ne.min(),Un.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Ne.min(),Ne.min(),Un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mh{constructor(e,i){this.position=e,this.inclusive=i}}function G_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Ae.comparator(Ae.fromName(d.referenceValue),i.key):a=bo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function F_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!es(s.position[i],e.position[i]))return!1;return!0}class gh{constructor(e,i="asc"){this.field=e,this.dir=i}}function mx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class F1{}class rn extends F1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new px(e,i,a):i==="array-contains"?new vx(e,a):i==="in"?new Ex(e,a):i==="not-in"?new Tx(e,a):i==="array-contains-any"?new bx(e,a):new rn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new yx(e,a):new _x(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bo(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(bo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends F1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ts(e,i)}matches(e){return Y1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y1(s){return s.op==="and"}function K1(s){return gx(s)&&Y1(s)}function gx(s){for(const e of s.filters)if(e instanceof ts)return!1;return!0}function vm(s){if(s instanceof rn)return s.field.canonicalString()+s.op.toString()+So(s.value);if(K1(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function Q1(s,e){return s instanceof rn?(function(a,l){return l instanceof rn&&a.op===l.op&&a.field.isEqual(l.field)&&es(a.value,l.value)})(s,e):s instanceof ts?(function(a,l){return l instanceof ts&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&Q1(d,l.filters[y])),!0):!1})(s,e):void xe(19439)}function $1(s){return s instanceof rn?(function(i){return`${i.field.canonicalString()} ${i.op} ${So(i.value)}`})(s):s instanceof ts?(function(i){return i.op.toString()+" {"+i.getFilters().map($1).join(" ,")+"}"})(s):"Filter"}class px extends rn{constructor(e,i,a){super(e,i,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const i=Ae.comparator(e.key,this.key);return this.matchesComparison(i)}}class yx extends rn{constructor(e,i){super(e,"in",i),this.keys=X1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _x extends rn{constructor(e,i){super(e,"not-in",i),this.keys=X1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function X1(s,e){return(e.arrayValue?.values||[]).map((i=>Ae.fromName(i.referenceValue)))}class vx extends rn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&Zl(i.arrayValue,this.value)}}class Ex extends rn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class Tx extends rn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class bx extends rn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Zl(this.value.arrayValue,a)))}}class Sx{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Y_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Sx(s,e,i,a,l,c,d)}function eg(s){const e=Oe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Rh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>So(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>So(a))).join(",")),e.Te=i}return e.Te}function tg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!mx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Q1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!F_(s.startAt,e.startAt)&&F_(s.endAt,e.endAt)}function Em(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ax(s,e,i,a,l,c,d,y){return new Nh(s,e,i,a,l,c,d,y)}function Dh(s){return new Nh(s)}function K_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function wx(s){return Ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function xx(s){return s.collectionGroup!==null}function Hl(s){const e=Oe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new an(yn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gh(c,a))})),i.has(yn.keyField().canonicalString())||e.Ie.push(new gh(yn.keyField(),a))}return e.Ie}function Ji(s){const e=Oe(s);return e.Ee||(e.Ee=Cx(e,Hl(s))),e.Ee}function Cx(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new gh(l.field,c)}));const i=s.endAt?new mh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new mh(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Tm(s,e,i){return new Nh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Oh(s,e){return tg(Ji(s),Ji(e))&&s.limitType===e.limitType}function J1(s){return`${eg(Ji(s))}|lt:${s.limitType}`}function oo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>$1(l))).join(", ")}]`),Rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>So(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>So(l))).join(",")),`Target(${a})`})(Ji(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ae.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Hl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=G_(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Hl(a),l)||a.endAt&&!(function(d,y,g){const _=G_(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Hl(a),l))})(s,e)}function Rx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z1(s){return(e,i)=>{let a=!1;for(const l of Hl(s)){const c=Ix(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Ix(s,e,i){const a=s.field.isKeyField()?Ae.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?bo(g,_):xe(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return xe(19790,{direction:s.dir})}}class _a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return L1(this.inner)}size(){return this.innerSize}}const Nx=new Dt(Ae.comparator);function Vs(){return Nx}const W1=new Dt(Ae.comparator);function Ul(...s){let e=W1;for(const i of s)e=e.insert(i.key,i);return e}function eE(s){let e=W1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ha(){return Gl()}function tE(){return Gl()}function Gl(){return new _a((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Dx=new Dt(Ae.comparator),Ox=new an(Ae.comparator);function $e(...s){let e=Ox;for(const i of s)e=e.add(i);return e}const Mx=new an(Qe);function Vx(){return Mx}function ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function nE(s){return{integerValue:""+s}}function iE(s,e){return rx(e)?nE(e):ng(s,e)}class Vh{constructor(){this._=void 0}}function kx(s,e,i){return s instanceof ph?(function(l,c){const d={fields:{[j1]:{stringValue:P1},[B1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Zm(c)&&(c=Ih(c)),c&&(d.fields[z1]=c),{mapValue:d}})(i,e):s instanceof Ao?rE(s,e):s instanceof Wl?aE(s,e):(function(l,c){const d=sE(l,c),y=Q_(d)+Q_(l.Ae);return _m(d)&&_m(l.Ae)?nE(y):ng(l.serializer,y)})(s,e)}function Lx(s,e,i){return s instanceof Ao?rE(s,e):s instanceof Wl?aE(s,e):i}function sE(s,e){return s instanceof eu?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class ph extends Vh{}class Ao extends Vh{constructor(e){super(),this.elements=e}}function rE(s,e){const i=oE(e);for(const a of s.elements)i.some((l=>es(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Wl extends Vh{constructor(e){super(),this.elements=e}}function aE(s,e){let i=oE(e);for(const a of s.elements)i=i.filter((l=>!es(l,a)));return{arrayValue:{values:i}}}class eu extends Vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(s){return Ht(s.integerValue||s.doubleValue)}function oE(s){return Wm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class lE{constructor(e,i){this.field=e,this.transform=i}}function Ux(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Ao&&l instanceof Ao||a instanceof Wl&&l instanceof Wl?To(a.elements,l.elements,es):a instanceof eu&&l instanceof eu?es(a.Ae,l.Ae):a instanceof ph&&l instanceof ph})(s.transform,e.transform)}class Px{constructor(e,i){this.version=e,this.transformResults=i}}class xi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function uE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ig(s.key,xi.none()):new hu(s.key,s.data,xi.none());{const i=s.data,a=Un.empty();let l=new an(yn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Lr(s.key,a,new $n(l.toArray()),xi.none())}}function jx(s,e,i){s instanceof hu?(function(l,c,d){const y=l.value.clone(),g=X_(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Lr?(function(l,c,d){if(!Zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=X_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(cE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Fl(s,e,i,a){return s instanceof hu?(function(c,d,y,g){if(!Zc(c.precondition,d))return y;const _=c.value.clone(),S=J_(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Lr?(function(c,d,y,g){if(!Zc(c.precondition,d))return y;const _=J_(c.fieldTransforms,g,d),S=d.data;return S.setAll(cE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,d,y){return Zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function zx(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=sE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function $_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&To(a,l,((c,d)=>Ux(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hu extends kh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Lr extends kh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function X_(s,e,i){const a=new Map;ot(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,Lx(d,y,i[l]))}return a}function J_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,kx(c,d,e))}return a}class ig extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bx extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&jx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=tE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=uE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),$e())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((i,a)=>$_(i,a)))&&To(this.baseMutations,e.baseMutations,((i,a)=>$_(i,a)))}}class sg{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ot(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Dx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new sg(e,i,a,l)}}class Hx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gx{constructor(e,i){this.count=e,this.unchangedNames=i}}var Wt,We;function Fx(s){switch(s){case Z.OK:return xe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function hE(s){if(s===void 0)return Ms("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Wt.OK:return Z.OK;case Wt.CANCELLED:return Z.CANCELLED;case Wt.UNKNOWN:return Z.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return Z.INTERNAL;case Wt.UNAVAILABLE:return Z.UNAVAILABLE;case Wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Wt.NOT_FOUND:return Z.NOT_FOUND;case Wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Wt.ABORTED:return Z.ABORTED;case Wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Wt.DATA_LOSS:return Z.DATA_LOSS;default:return xe(39323,{code:s})}}(We=Wt||(Wt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function Yx(){return new TextEncoder}const Kx=new xr([4294967295,4294967295],0);function Z_(s){const e=Yx().encode(s),i=new x1;return i.update(e),new Uint8Array(i.digest())}function W_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xr([i,a],0),new xr([l,c],0)]}class rg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(a<0)throw new Pl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(xr.fromNumber(a)));return l.compare(Kx)===1&&(l=new xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z_(e),[a,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rg(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Z_(e),[a,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Lh(Ne.min(),l,new Dt(Qe),Vs(),$e())}}class fu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new fu(a,i,$e(),$e(),$e())}}class Wc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class fE{constructor(e,i){this.targetId=e,this.Ce=i}}class dE{constructor(e,i,a=_n.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),i=$e(),a=$e();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:xe(38017,{changeType:c})}})),new fu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=tv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vs(),this.He=Hc(),this.Je=Hc(),this.Ze=new Dt(Qe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Em(c))if(a===0){const d=new Ae(c.path);this.et(i,d,bn.newNoDocument(d,Ne.min()))}else ot(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Dr(a).toUint8Array()}catch(g){if(g instanceof U1)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new rg(d,l,c)}catch(g){return Eo(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&Em(y.target)){const g=new Ae(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,bn.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=$e();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Lh(e,i,this.Ze,this.je,a);return this.je=Vs(),this.He=Hc(),this.Je=Hc(),this.Ze=new Dt(Qe),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new an(Qe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new an(Qe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Hc(){return new Dt(Ae.comparator)}function tv(){return new Dt(Ae.comparator)}const $x={asc:"ASCENDING",desc:"DESCENDING"},Xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jx={and:"AND",or:"OR"};class Zx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||Rh(e)?e:{value:e}}function yh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Wx(s,e){return yh(s,e.toTimestamp())}function Zi(s){return ot(!!s,49232),Ne.fromTimestamp((function(i){const a=Nr(i);return new At(a.seconds,a.nanos)})(s))}function ag(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(l){return new Nt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function gE(s){const e=Nt.fromString(s);return ot(EE(e),10190,{key:e.toString()}),e}function Am(s,e){return ag(s.databaseId,e.path)}function Zd(s,e){const i=gE(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ae(yE(i))}function pE(s,e){return ag(s.databaseId,e)}function eC(s){const e=gE(s);return e.length===4?Nt.emptyPath():yE(e)}function wm(s){return new Nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yE(s){return ot(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function tC(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:xe(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(ot(S===void 0||typeof S=="string",58123),_n.fromBase64String(S||"")):(ot(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),_n.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:hE(_.code);return new ge(S,_.message||"")})(d);i=new dE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Zd(s,a.document.name),c=Zi(a.document.updateTime),d=a.document.createTime?Zi(a.document.createTime):Ne.min(),y=new Un({mapValue:{fields:a.document.fields}}),g=bn.newFoundDocument(l,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Wc(_,S,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Zd(s,a.document),c=a.readTime?Zi(a.readTime):Ne.min(),d=bn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Wc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Zd(s,a.document),c=a.removedTargetIds||[];i=new Wc([],c,l,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Gx(l,c),y=a.targetId;i=new fE(y,d)}}return i}function nC(s,e){let i;if(e instanceof hu)i={update:nv(s,e.key,e.value)};else if(e instanceof ig)i={delete:Am(s,e.key)};else if(e instanceof Lr)i={update:nv(s,e.key,e.data),updateMask:hC(e.fieldMask)};else{if(!(e instanceof Bx))return xe(16599,{dt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof ph)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw xe(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Wx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(s,e.precondition)),i}function iC(s,e){return s&&s.length>0?(ot(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Zi(l.updateTime):Zi(c);return d.isEqual(Ne.min())&&(d=Zi(c)),new Px(d,l.transformResults||[])})(i,e)))):[]}function sC(s,e){return{documents:[pE(s,e.path)]}}function rC(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pE(s,l);const c=(function(_){if(_.length!==0)return vE(ts.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:lo(M.field),direction:lC(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=bm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function aC(s){let e=eC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ot(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=_E(A);return M instanceof ts&&K1(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(te){return new gh(uo(te.field),(function(ae){switch(ae){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,Rh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,K=A.values||[];return new mh(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,K=A.values||[];return new mh(K,M)})(i.endAt)),Ax(e,l,d,c,y,"F",g,_)}function oC(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _E(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=uo(i.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=uo(i.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(i.unaryFilter.field);return rn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=uo(i.unaryFilter.field);return rn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return rn.create(uo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ts.create(i.compositeFilter.filters.map((a=>_E(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(i.compositeFilter.op))})(s):xe(30097,{filter:s})}function lC(s){return $x[s]}function uC(s){return Xx[s]}function cC(s){return Jx[s]}function lo(s){return{fieldPath:s.canonicalString()}}function uo(s){return yn.fromServerFormat(s.fieldPath)}function vE(s){return s instanceof rn?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(i.field),op:uC(i.op),value:i.value}}})(s):s instanceof ts?(function(i){const a=i.getFilters().map((l=>vE(l)));return a.length===1?a[0]:{compositeFilter:{op:cC(i.op),filters:a}}})(s):xe(54877,{filter:s})}function hC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function EE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function TE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class br{constructor(e,i,a,l,c=Ne.min(),d=Ne.min(),y=_n.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fC{constructor(e){this.yt=e}}function dC(s){const e=aC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class mC{constructor(){this.Sn=new gC}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ir.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class gC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new an(Nt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new an(Nt.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(bE,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const sv="LruGarbageCollector",pC=1048576;function rv([s,e],[i,a]){const l=Qe(s,i);return l===0?Qe(e,a):l}class yC{constructor(e){this.Pr=e,this.buffer=new an(rv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();rv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Oo(i)?ue(sv,"Ignoring IndexedDB error during garbage collection: ",i):await Do(i)}await this.Ar(3e5)}))}}class vC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ch.ce);const a=new yC(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(iv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),ao()<=Ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function EC(s,e){return new vC(s,e)}class TC{constructor(){this.changes=new _a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class SC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Fl(a.mutation,l,$n.empty(),At.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,$e()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=$e()){const l=ha();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Ul();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ha();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,$e())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Vs();const d=Gl(),y=(function(){return Gl()})();return i.forEach(((g,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Lr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Fl(S.mutation,_,S.mutation.getFieldMask(),At.now())):d.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new bC(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Gl();let l=new Dt(((d,y)=>d-y)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||$n.empty();S=y.applyToLocalView(_,S),a.set(g,S);const A=(l.get(y.batchId)||$e()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,A=tE();S.forEach((M=>{if(!c.has(M)){const K=uE(i.get(M),a.get(M));K!==null&&A.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return wx(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):X.resolve(ha());let y=$l,g=c;return d.next((_=>X.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,$e()))).next((S=>({batchId:y,changes:eE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ae(i)).next((a=>{let l=Ul();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Nh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,bn.newInvalidDocument(S)))}));let y=Ul();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Fl(S.mutation,_,$n.empty(),At.now()),Mh(i,_)&&(y=y.insert(g,_))})),y}))}}class AC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Zi(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:dC(l.bundledQuery),readTime:Zi(l.readTime)}})(i)),X.resolve()}}class wC{constructor(){this.overlays=new Dt(Ae.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ha();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const l=ha(),c=i.length+1,d=new Ae(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Dt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=ha(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=ha(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return X.resolve(y)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Hx(i,a));let c=this.Lr.get(i);c===void 0&&(c=$e(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class xC{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class og{constructor(){this.kr=new an(cn.Kr),this.qr=new an(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new cn(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new cn(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new Ae(new Nt([])),a=new cn(i,e),l=new cn(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new Ae(new Nt([])),a=new cn(i,e),l=new cn(i,e+1);let c=$e();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new cn(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class cn{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return Ae.comparator(e.key,i.key)||Qe(e.Hr,i.Hr)}static Ur(e,i){return Qe(e.Hr,i.Hr)||Ae.comparator(e.key,i.key)}}class CC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new an(cn.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qx(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new cn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Jm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new cn(i,0),l=new cn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new an(Qe);return i.forEach((l=>{const c=new cn(l,0),d=new cn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Ae.isDocumentKey(c)||(c=c.child(""));const d=new cn(new Ae(c),0);let y=new an(Qe);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ot(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new cn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new cn(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class RC{constructor(e){this.ti=e,this.docs=(function(){return new Dt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=Vs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():bn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Vs();const d=i.path,y=new Ae(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tx(ex(S),a)<=0||(l.has(S.key)||Mh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,l){xe(9500)}ni(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new IC(this)}getSize(e){return X.resolve(this.size)}}class IC extends TC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class NC{constructor(e){this.persistence=e,this.ri=new _a((i=>eg(i)),tg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new og,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new wo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}class SE{constructor(e,i){this._i={},this.overlays={},this.ai=new Ch(0),this.ui=!1,this.ui=!0,this.ci=new xC,this.referenceDelegate=e(this),this.li=new NC(this),this.indexManager=new mC,this.remoteDocumentCache=(function(l){return new RC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new fC(i),this.Pi=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new CC(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new DC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class DC extends ix{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=Ae.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Ne.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class _h{constructor(e,i){this.persistence=e,this.fi=new _a((a=>ax(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=EC(this,i)}static Vi(e,i){return new _h(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xc(e.data.value)),i}wr(e,i,a){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=$e(),l=$e();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ug(e,i.fromCache,a,l)}}class OC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _S()?8:sx(Sn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OC;return this.ys(e,i,d).next((y=>{if(c.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(ao()<=Ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ao()<=Ke.DEBUG&&ue("QueryEngine","Query:",oo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ao()<=Ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(i))):X.resolve())}gs(e,i){if(K_(i))return X.resolve(null);let a=Ji(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),a=Ji(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=$e(...c);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(e,Tm(i,null,"F")):this.Ds(e,_,i,g)}))))})))))}ps(e,i,a,l){return K_(i)||l.isEqual(Ne.min())?X.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(ao()<=Ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),oo(i)),this.Ds(e,d,i,W2(l,$l)).next((y=>y)))}))}bs(e,i){let a=new an(Z1(e));return i.forEach(((l,c)=>{Mh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return ao()<=Ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(i)),this.fs.getDocumentsMatchingQuery(e,i,Ir.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const cg="LocalStore",VC=3e8;class kC{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new Dt(Qe),this.Fs=new _a((c=>eg(c)),tg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function LC(s,e,i,a){return new kC(s,e,i,a)}async function AE(s,e){const i=Oe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=$e();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function UC(s,e){const i=Oe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const A=_.batch,M=A.keys();let K=X.resolve();return M.forEach((te=>{K=K.next((()=>S.getEntry(g,te))).next((re=>{const ae=_.docVersions.get(te);ot(ae!==null,48541),re.version.compareTo(ae)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=$e();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function wE(s){const e=Oe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function PC(s,e){const i=Oe(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let K=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?K=K.withResumeToken(_n.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),l=l.insert(A,K),(function(re,ae,pe){return re.resumeToken.approximateByteSize()===0||ae.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=VC?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(M,K,S)&&y.push(i.li.updateTargetData(c,K))}));let g=Vs(),_=$e();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(jC(c,d,e.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!a.isEqual(Ne.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function jC(s,e,i){let a=$e(),l=$e();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Vs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ue(cg,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function zC(s,e){const i=Oe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BC(s,e){const i=Oe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new br(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function xm(s,e,i){const a=Oe(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Oo(d))throw d;ue(cg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function av(s,e,i){const a=Oe(s);let l=Ne.min(),c=$e();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const A=Oe(g),M=A.Fs.get(S);return M!==void 0?X.resolve(A.vs.get(M)):A.li.getTargetData(_,S)})(a,d,Ji(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Ne.min(),i?c:$e()))).next((y=>(qC(a,Rx(e),y),{documents:y,ks:c})))))}function qC(s,e,i){let a=s.Ms.get(e)||Ne.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class ov{constructor(){this.activeTargetIds=Vx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HC{constructor(){this.vo=new ov,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ov,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GC{Mo(e){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(lv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function Cm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const Wd="RestConnection",FC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class YC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===fh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=Cm(),y=this.Qo(e,i.toUriEncodedString());ue(Wd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),S=Co(_);return this.zo(e,y,g,a,S).then((A=>(ue(Wd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Eo(Wd,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=FC[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class KC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const En="WebChannelConnection",Vl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class po extends YC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!po.c_){const e=N1();Vl(e,I1.STAT_EVENT,(i=>{i.stat===gm.PROXY?ue(En,"STAT_EVENT: detected buffering proxy"):i.stat===gm.NOPROXY&&ue(En,"STAT_EVENT: detected no buffering proxy")})),po.c_=!0}}zo(e,i,a,l,c){const d=Cm();return new Promise(((y,g)=>{const _=new C1;_.setWithCredentials(!0),_.listenOnce(R1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case $c.NO_ERROR:const A=_.getResponseJson();ue(En,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case $c.TIMEOUT:ue(En,`RPC '${e}' ${d} timed out`),g(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const M=_.getStatus();if(ue(En,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const te=K?.error;if(te&&te.status&&te.message){const re=(function(pe){const Ve=pe.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ve)>=0?Ve:Z.UNKNOWN})(te.status);g(new ge(re,te.message))}else g(new ge(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(En,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ue(En,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const l=Cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ue(En,`Creating RPC '${e}' stream ${l}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let A=!1,M=!1;const K=new KC({Ho:te=>{M?ue(En,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(A||(ue(En,`Opening RPC '${e}' stream ${l} transport.`),S.open(),A=!0),ue(En,`RPC '${e}' stream ${l} sending:`,te),S.send(te))},Jo:()=>S.close()});return Vl(S,Ll.EventType.OPEN,(()=>{M||(ue(En,`RPC '${e}' stream ${l} transport opened.`),K.i_())})),Vl(S,Ll.EventType.CLOSE,(()=>{M||(M=!0,ue(En,`RPC '${e}' stream ${l} transport closed`),K.o_(),this.E_(S))})),Vl(S,Ll.EventType.ERROR,(te=>{M||(M=!0,Eo(En,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),K.o_(new ge(Z.UNAVAILABLE,"The operation could not be completed")))})),Vl(S,Ll.EventType.MESSAGE,(te=>{if(!M){const re=te.data[0];ot(!!re,16349);const ae=re,pe=ae?.error||ae[0]?.error;if(pe){ue(En,`RPC '${e}' stream ${l} received error:`,pe);const Ve=pe.status;let Ie=(function(Pe){const C=Wt[Pe];if(C!==void 0)return hE(C)})(Ve),at=pe.message;Ie===void 0&&(Ie=Z.INTERNAL,at="Unknown error status: "+Ve+" with message "+pe.message),M=!0,K.o_(new ge(Ie,at)),S.close()}else ue(En,`RPC '${e}' stream ${l} received:`,re),K.__(re)}})),po.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return D1()}}function QC(s){return new po(s)}function em(){return typeof document<"u"?document:null}function Uh(s){return new Zx(s,!0)}po.c_=!1;class xE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cv="PersistentStream";class CE{constructor(e,i,a,l,c,d,y,g){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ms(i.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ge(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ue(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $C extends CE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tC(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Zi(d.readTime):Ne.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=Em(g)?{documents:sC(c,g)}:{query:rC(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=mE(c,d.resumeToken);const _=bm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ne.min())>0){y.readTime=yh(c,d.snapshotVersion.toTimestamp());const _=bm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=oC(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.K_(i)}}class XC extends CE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=iC(e.writeResults,e.commitTime),a=Zi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=wm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>nC(this.serializer,a)))};this.K_(i)}}class JC{}class ZC extends JC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Sm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Z.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,Sm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WC(s,e,i,a){return new ZC(s,e,i,a)}class eR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class tR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{va(this)&&(ue(pa,"Restarting streams for network reachability change."),await(async function(g){const _=Oe(g);_.Ea.add(4),await du(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ph(_)})(this))}))})),this.Va=new eR(a,l)}}async function Ph(s){if(va(s))for(const e of s.Ra)await e(!0)}async function du(s){for(const e of s.Ra)await e(!1)}function RE(s,e){const i=Oe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mg(i)?dg(i):Mo(i).O_()&&fg(i,e))}function hg(s,e){const i=Oe(s),a=Mo(i);i.Ia.delete(e),a.O_()&&IE(i,e),i.Ia.size===0&&(a.O_()?a.L_():va(i)&&i.Va.set("Unknown"))}function fg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mo(s).Z_(e)}function IE(s,e){s.da.$e(e),Mo(s).X_(e)}function dg(s){s.da=new Qx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Mo(s).start(),s.Va.ua()}function mg(s){return va(s)&&!Mo(s).x_()&&s.Ia.size>0}function va(s){return Oe(s).Ea.size===0}function NE(s){s.da=void 0}async function nR(s){s.Va.set("Online")}async function iR(s){s.Ia.forEach(((e,i)=>{fg(s,e)}))}async function sR(s,e){NE(s),mg(s)?(s.Va.ha(e),dg(s)):s.Va.set("Unknown")}async function rR(s,e,i){if(s.Va.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,e)}catch(a){ue(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await vh(s,a)}else if(e instanceof Wc?s.da.Xe(e):e instanceof fE?s.da.st(e):s.da.tt(e),!i.isEqual(Ne.min()))try{const a=await wE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(_n.EMPTY_BYTE_STRING,S.snapshotVersion)),IE(c,g);const A=new br(S.target,g,_,S.sequenceNumber);fg(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ue(pa,"Failed to raise snapshot:",a),await vh(s,a)}}async function vh(s,e,i){if(!Oo(e))throw e;s.Ea.add(1),await du(s),s.Va.set("Offline"),i||(i=()=>wE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(pa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ph(s)}))}function DE(s,e){return e().catch((i=>vh(s,i,e)))}async function jh(s){const e=Oe(s),i=Mr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;aR(e);)try{const l=await zC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,oR(e,l)}catch(l){await vh(e,l)}OE(e)&&ME(e)}function aR(s){return va(s)&&s.Ta.length<10}function oR(s,e){s.Ta.push(e);const i=Mr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function OE(s){return va(s)&&!Mr(s).x_()&&s.Ta.length>0}function ME(s){Mr(s).start()}async function lR(s){Mr(s).ra()}async function uR(s){const e=Mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function cR(s,e,i){const a=s.Ta.shift(),l=sg.from(a,e,i);await DE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await jh(s)}async function hR(s,e){e&&Mr(s).Y_&&await(async function(a,l){if((function(d){return Fx(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();Mr(a).B_(),await DE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await jh(a)}})(s,e),OE(s)&&ME(s)}async function hv(s,e){const i=Oe(s);i.asyncQueue.verifyOperationInProgress(),ue(pa,"RemoteStore received new credentials");const a=va(i);i.Ea.add(3),await du(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ph(i)}async function fR(s,e){const i=Oe(s);e?(i.Ea.delete(2),await Ph(i)):e||(i.Ea.add(2),await du(i),i.Va.set("Unknown"))}function Mo(s){return s.ma||(s.ma=(function(i,a,l){const c=Oe(i);return c.sa(),new $C(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:nR.bind(null,s),Yo:iR.bind(null,s),t_:sR.bind(null,s),J_:rR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),mg(s)?dg(s):s.Va.set("Unknown")):(await s.ma.stop(),NE(s))}))),s.ma}function Mr(s){return s.fa||(s.fa=(function(i,a,l){const c=Oe(i);return c.sa(),new XC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lR.bind(null,s),t_:hR.bind(null,s),ta:uR.bind(null,s),na:cR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(pa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new gg(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(s,e){if(Ms("AsyncQueue",`${e}: ${s}`),Oo(s))return new ge(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ae.comparator(i.key,a.key):(i,a)=>Ae.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fv{constructor(){this.ga=new Dt(Ae.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class xo{constructor(e,i,a,l,c,d,y,g,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new xo(e,i,yo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class dR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class mR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Oe(i),c=l.queries;l.queries=dv(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function dv(){return new _a((s=>J1(s)),Oh)}async function VE(s,e){const i=Oe(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new dR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=pg(d,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&yg(i)}async function kE(s,e){const i=Oe(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function gR(s,e){const i=Oe(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&yg(i)}function pR(s,e,i){const a=Oe(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function yg(s){s.Ca.forEach((e=>{e.next()}))}var Rm,mv;(mv=Rm||(Rm={})).Ma="default",mv.Cache="cache";class LE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new xo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class UE{constructor(e){this.key=e}}class PE{constructor(e){this.key=e}}class yR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=Z1(e),this.tu=new yo(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),K=Mh(this.query,A)?A:null,te=!!M&&this.mutatedKeys.has(M.key),re=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ae=!1;M&&K?M.data.isEqual(K.data)?te!==re&&(a.track({type:3,doc:K}),ae=!0):this.su(M,K)||(a.track({type:2,doc:K}),ae=!0,(g&&this.eu(K,g)>0||_&&this.eu(K,_)<0)&&(y=!0)):!M&&K?(a.track({type:0,doc:K}),ae=!0):M&&!K&&(a.track({type:1,doc:M}),ae=!0,(g||_)&&(y=!0)),ae&&(K?(d=d.add(K),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(K,te){const re=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:ae})}};return re(K)-re(te)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new xo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new PE(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new UE(a))})),i}cu(e){this.Za=e.ks,this.Ya=$e();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class _R{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vR{constructor(e){this.key=e,this.hu=!1}}class ER{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _a((y=>J1(y)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(Ae.comparator),this.Au=new Map,this.Vu=new og,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TR(s,e,i=!0){const a=GE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await jE(a,e,i,!0),l}async function bR(s,e){const i=GE(s);await jE(i,e,!0,!1)}async function jE(s,e,i,a){const l=await BC(s.localStore,Ji(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await SR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&RE(s.remoteStore,l),y}async function SR(s,e,i,a,l){s.pu=(A,M,K)=>(async function(re,ae,pe,Ve){let Ie=ae.view.ru(pe);Ie.Ss&&(Ie=await av(re.localStore,ae.query,!1).then((({documents:C})=>ae.view.ru(C,Ie))));const at=Ve&&Ve.targetChanges.get(ae.targetId),Et=Ve&&Ve.targetMismatches.get(ae.targetId)!=null,Pe=ae.view.applyChanges(Ie,re.isPrimaryClient,at,Et);return pv(re,ae.targetId,Pe.au),Pe.snapshot})(s,A,M,K);const c=await av(s.localStore,e,!0),d=new yR(e,c.ks),y=d.ru(c.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);pv(s,i,_.au);const S=new _R(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function AR(s,e,i){const a=Oe(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Oh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await xm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&hg(a.remoteStore,l.targetId),Im(a,l.targetId)})).catch(Do)):(Im(a,l.targetId),await xm(a.localStore,l.targetId,!0))}async function wR(s,e){const i=Oe(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hg(i.remoteStore,a.targetId))}async function xR(s,e,i){const a=MR(s);try{const l=await(function(d,y){const g=Oe(d),_=At.now(),S=y.reduce(((K,te)=>K.add(te.key)),$e());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let te=Vs(),re=$e();return g.xs.getEntries(K,S).next((ae=>{te=ae,te.forEach(((pe,Ve)=>{Ve.isValidDocument()||(re=re.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(K,te))).next((ae=>{A=ae;const pe=[];for(const Ve of y){const Ie=zx(Ve,A.get(Ve.key).overlayedDocument);Ie!=null&&pe.push(new Lr(Ve.key,Ie,G1(Ie.value.mapValue),xi.exists(!0)))}return g.mutationQueue.addMutationBatch(K,_,pe,y)})).next((ae=>{M=ae;const pe=ae.applyToLocalDocumentSet(A,re);return g.documentOverlayCache.saveOverlays(K,ae.batchId,pe)}))})).then((()=>({batchId:M.batchId,changes:eE(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new Dt(Qe)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await mu(a,l.changes),await jh(a.remoteStore)}catch(l){const c=pg(l,"Failed to persist write");i.reject(c)}}async function zE(s,e){const i=Oe(s);try{const a=await PC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ot(d.hu,14607):l.removedDocuments.size>0&&(ot(d.hu,42227),d.hu=!1))})),await mu(i,a,e)}catch(a){await Do(a)}}function gv(s,e,i){const a=Oe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Oe(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,A)=>{for(const M of A.ba)M.va(y)&&(_=!0)})),_&&yg(g)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CR(s,e,i){const a=Oe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Dt(Ae.comparator);d=d.insert(c,bn.newNoDocument(c,Ne.min()));const y=$e().add(c),g=new Lh(Ne.min(),new Map,new Dt(Qe),d,y);await zE(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(e),vg(a)}else await xm(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(Do)}async function RR(s,e){const i=Oe(s),a=e.batch.batchId;try{const l=await UC(i.localStore,e);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await mu(i,l)}catch(l){await Do(l)}}async function IR(s,e,i){const a=Oe(s);try{const l=await(function(d,y){const g=Oe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(ot(A!==null,37113),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);qE(a,e,i),BE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await mu(a,l)}catch(l){await Do(l)}}function BE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function qE(s,e,i){const a=Oe(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||HE(s,a)}))}function HE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(hg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),vg(s))}function pv(s,e,i){for(const a of i)a instanceof UE?(s.Vu.addReference(a.key,e),NR(s,a)):a instanceof PE?(ue(_g,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||HE(s,a.key)):xe(19791,{wu:a})}function NR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ue(_g,"New document in limbo: "+i),s.Eu.add(a),vg(s))}function vg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ae(Nt.fromString(e)),a=s.fu.next();s.Au.set(a,new vR(i)),s.Ru=s.Ru.insert(i,a),RE(s.remoteStore,new br(Ji(Dh(i.path)),a,"TargetPurposeLimboResolution",Ch.ce))}}async function mu(s,e,i){const a=Oe(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){l.push(_);const S=ug.Es(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const S=Oe(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Ts,(K=>S.persistence.referenceDelegate.addReference(A,M.targetId,K))).next((()=>X.forEach(M.Is,(K=>S.persistence.referenceDelegate.removeReference(A,M.targetId,K)))))))))}catch(A){if(!Oo(A))throw A;ue(cg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const K=S.vs.get(M),te=K.snapshotVersion,re=K.withLastLimboFreeSnapshotVersion(te);S.vs=S.vs.insert(M,re)}}})(a.localStore,c))}async function DR(s,e){const i=Oe(s);if(!i.currentUser.isEqual(e)){ue(_g,"User change. New user:",e.toKey());const a=await AE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ge(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await mu(i,a.Ns)}}function OR(s,e){const i=Oe(s),a=i.Au.get(e);if(a&&a.hu)return $e().add(a.key);{let l=$e();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function GE(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.Pu.J_=gR.bind(null,e.eventManager),e.Pu.yu=pR.bind(null,e.eventManager),e}function MR(s){const e=Oe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IR.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return LC(this.persistence,new MC,e.initialUser,this.serializer)}Cu(e){return new SE(lg.Vi,this.serializer)}Du(e){return new HC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class VR extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ot(this.persistence.referenceDelegate instanceof _h,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _C(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new SE((a=>_h.Vi(a,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await fR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mR})()}createDatastore(e){const i=Uh(e.databaseInfo.databaseId),a=QC(e.databaseInfo);return WC(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new tR(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new GC})())}createSyncEngine(e,i){return(function(l,c,d,y,g,_,S){const A=new ER(l,c,d,y,g,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Oe(i);ue(pa,"RemoteStore shutting down."),a.Ea.add(5),await du(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Vr="FirestoreClient";class kR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Tn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=pg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await AE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await LR(s);ue(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>hv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>hv(e.remoteStore,l))),s._onlineComponents=e}async function LR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Vr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Eo("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new Eh)}}else ue(Vr,"Using default OfflineComponentProvider"),await tm(s,new VR(void 0));return s._offlineComponents}async function YE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Vr,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(ue(Vr,"Using default OnlineComponentProvider"),await yv(s,new Nm))),s._onlineComponents}function UR(s){return YE(s).then((e=>e.syncEngine))}async function Dm(s){const e=await YE(s),i=e.eventManager;return i.onListen=TR.bind(null,e.syncEngine),i.onUnlisten=AR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=bR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wR.bind(null,e.syncEngine),i}function PR(s,e,i,a){const l=new FE(a),c=new LE(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>VE(await Dm(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>kE(await Dm(s),c)))}}function jR(s,e,i={}){const a=new Cr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new FE({next:M=>{S.Nu(),d.enqueueAndForget((()=>kE(c,A)));const K=M.docs.has(y);!K&&M.fromCache?_.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&M.fromCache&&g&&g.source==="server"?_.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new LE(Dh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return VE(c,A)})(await Dm(s),s.asyncQueue,e,i,a))),a.promise}function zR(s,e){const i=new Cr;return s.asyncQueue.enqueueAndForget((async()=>xR(await UR(s),e,i))),i.promise}function KE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const BR="ComponentProvider",_v=new Map;function qR(s,e,i,a,l){return new ux(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,KE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const QE="firestore.googleapis.com",vv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=vv}else this.host=e.host,this.ssl=e.ssl??vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pC)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new B2;switch(a.type){case"firstParty":return new F2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_v.get(i);a&&(ue(BR,"Removing Datastore"),_v.delete(i),a.terminate())})(this),Promise.resolve()}}function HR(s,e,i,a={}){s=wi(s,Eg);const l=Co(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(Bv(`https://${y}`),qv("Firestore",!0)),c.host!==QE&&c.host!==y&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!Rr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Tn.MOCK_USER;else{_=uS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Tn(A)}s._authCredentials=new q2(new M1(_,S))}}class zh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new zh(this.firestore,e,this._query)}}class tn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(cu(i,tn._jsonSchema))return new tn(e,a||null,new Ae(Nt.fromString(i.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:en("string",tn._jsonSchemaVersion),referencePath:en("string")};class tu extends zh{constructor(e,i,a){super(e,i,Dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Ae(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function kt(s,e,...i){if(s=Rn(s),arguments.length===1&&(e=$m.newId()),J2("doc","path",e),s instanceof Eg){const a=Nt.fromString(e,...i);return V_(a),new tn(s,null,new Ae(a))}{if(!(s instanceof tn||s instanceof tu))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Nt.fromString(e,...i));return V_(a),new tn(s.firestore,s instanceof tu?s.converter:null,new Ae(a))}}const Tv="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ue(Tv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;ue(Tv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",Sv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&xe(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ya extends Eg{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function GR(s,e){const i=typeof s=="object"?s:Yv(),a=typeof s=="string"?s:fh,l=jm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=oS("firestore");c&&HR(l,...c)}return l}function Tg(s){if(s._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FR(s),s._firestoreClient}function FR(s){const e=s._freezeSettings(),i=qR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(_n.fromBase64String(e))}catch(i){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:en("string",ci._jsonSchemaVersion),bytes:en("string")};class bg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class Wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:en("string",Wi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Ci{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ci(e.vectorValues);throw new ge(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:en("string",Ci._jsonSchemaVersion),vectorValues:en("object")};const YR=/^__.*__$/;class KR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}class $E{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Lr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function XE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:s})}}class Bh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Bh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XE(this.dataSource)&&YR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class QR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Uh(e)}createContext(e,i,a,l=!1){return new Bh({dataSource:e,methodName:i,targetDoc:a,path:yn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(s){const e=s._freezeSettings(),i=Uh(s._databaseId);return new QR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $R(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);wg("Data must be an object, but it was:",d,a);const y=ZE(a,d);let g,_;if(c.merge)g=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=nu(e,A,i);if(!d.contains(M))throw new ge(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);tT(S,M)||S.push(M)}g=new $n(S),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new KR(new Un(y),g,_)}class qh extends gu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function XR(s,e,i){return new Bh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:s._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sg extends gu{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=XR(this,e,!0),a=this.Ac.map((c=>pu(c,i))),l=new Ao(a);return new lE(e.path,l)}isEqual(e){return e instanceof Sg&&Rr(this.Ac,e.Ac)}}class Ag extends gu{constructor(e,i){super(e),this.Vc=i}_toFieldTransform(e){const i=new eu(e.serializer,iE(e.serializer,this.Vc));return new lE(e.path,i)}isEqual(e){return e instanceof Ag&&this.Vc===e.Vc}}function JR(s,e,i,a){const l=s.createContext(1,e,i);wg("Data must be an object, but it was:",l,a);const c=[],d=Un.empty();kr(a,((g,_)=>{const S=eT(e,g,i);_=Rn(_);const A=l.childContextForFieldPath(S);if(_ instanceof qh)c.push(S);else{const M=pu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new $n(c);return new $E(d,y,l.fieldTransforms)}function ZR(s,e,i,a,l,c){const d=s.createContext(1,e,i),y=[nu(e,a,i)],g=[l];if(c.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(nu(e,c[M])),g.push(c[M+1]);const _=[],S=Un.empty();for(let M=y.length-1;M>=0;--M)if(!tT(_,y[M])){const K=y[M];let te=g[M];te=Rn(te);const re=d.childContextForFieldPath(K);if(te instanceof qh)_.push(K);else{const ae=pu(te,re);ae!=null&&(_.push(K),S.set(K,ae))}}const A=new $n(_);return new $E(S,A,d.fieldTransforms)}function pu(s,e){if(WE(s=Rn(s)))return wg("Unsupported field value:",e,s),ZE(s,e);if(s instanceof gu)return(function(a,l){if(!XE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=pu(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=At.fromDate(a);return{timestampValue:yh(l.serializer,c)}}if(a instanceof At){const c=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:yh(l.serializer,c)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ci)return{bytesValue:mE(l.serializer,a._byteString)};if(a instanceof tn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,y){const g=d instanceof Ci?d.toArray():d;return{mapValue:{fields:{[q1]:{stringValue:H1},[dh]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return ng(y.serializer,S)}))}}}}}})(a,l);if(TE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Xm(a)}`)})(s,e)}function ZE(s,e){const i={};return L1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(s,((a,l)=>{const c=pu(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof At||s instanceof Wi||s instanceof ci||s instanceof tn||s instanceof gu||s instanceof Ci||TE(s))}function wg(s,e,i){if(!WE(i)||!V1(i)){const a=Xm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function nu(s,e,i){if((e=Rn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return eT(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,i)}const WR=new RegExp("[~\\*/\\[\\]]");function eT(s,e,i){if(e.search(WR)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bg(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Th(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ge(Z.INVALID_ARGUMENT,y+s+g)}function tT(s,e){return s.some((i=>i.isEqual(e)))}class eI{convertValue(e,i="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return kr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[dh].arrayValue?.values?.map((a=>Ht(a.doubleValue)));return new Ci(i)}convertGeoPoint(e){return new Wi(Ht(e.latitude),Ht(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ih(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new At(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Nt.fromString(e);ot(EE(a),9688,{name:e});const l=new Jl(a.get(1),a.get(3)),c=new Ae(a.popFirst(5));return l.isEqual(i)||Ms(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class nT extends eI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function Cn(...s){return new Sg("arrayUnion",s)}function nm(s){return new Ag("increment",s)}const Av="@firebase/firestore",wv="4.10.0";function xv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class iT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(nu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tI extends iT{data(){return super.data()}}function nI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class jl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fa extends iT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(nu("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=fa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",fa._jsonSchema={type:en("string",fa._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class eh extends fa{data(e={}){return super.data(e)}}class _o{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new jl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new eh(this._firestore,this._userDataWriter,a.key,a,new jl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new eh(l._firestore,l._userDataWriter,y.doc.key,y.doc,new jl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new eh(l._firestore,l._userDataWriter,y.doc.key,y.doc,new jl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:sI(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:en("string",_o._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function Cv(s){s=wi(s,tn);const e=wi(s.firestore,ya),i=Tg(e);return jR(i,s._key).then((a=>sT(e,s,a)))}function rI(s,e,i){s=wi(s,tn);const a=wi(s.firestore,ya),l=iI(s.converter,e),c=JE(a);return xg(a,[$R(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,xi.none())])}function Zt(s,e,i,...a){s=wi(s,tn);const l=wi(s.firestore,ya),c=JE(l);let d;return d=typeof(e=Rn(e))=="string"||e instanceof bg?ZR(c,"updateDoc",s._key,e,i,a):JR(c,"updateDoc",s._key,e),xg(l,[d.toMutation(s._key,xi.exists(!0))])}function aI(s){return xg(wi(s.firestore,ya),[new ig(s._key,xi.none())])}function Rv(s,...e){s=Rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(xv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof tn)d=wi(s.firestore,ya),y=Dh(s._key.path),c={next:_=>{e[a]&&e[a](sT(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=wi(s,zh);d=wi(_.firestore,ya),y=_._query;const S=new nT(d);c={next:A=>{e[a]&&e[a](new _o(d,S,_,A))},error:e[a+1],complete:e[a+2]},nI(s._query)}const g=Tg(d);return PR(g,y,l,c)}function xg(s,e){const i=Tg(s);return zR(i,e)}function sT(s,e,i){const a=i.docs.get(e._key),l=new nT(s);return new fa(s,l,e._key,a,new jl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){z2(Ro),vo(new da("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ya(new H2(a.getProvider("auth-internal")),new Y2(d,a.getProvider("app-check-internal")),cx(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),wr(Av,wv,e),wr(Av,wv,"esm2020")})();const rT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const oI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const lI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Iv=s=>{const e=lI(s);return e.charAt(0).toUpperCase()+e.slice(1)};var uI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const hI=Ze.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Ze.createElement("svg",{ref:g,...uI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:rT("lucide",l),...!c&&!cI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Ze.createElement(_,S)),...Array.isArray(c)?c:[c]]));const ft=(s,e)=>{const i=Ze.forwardRef(({className:a,...l},c)=>Ze.createElement(hI,{ref:c,iconNode:e,className:rT(`lucide-${oI(Iv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Iv(s),i};const fI=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],dI=ft("anchor",fI);const mI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Om=ft("bomb",mI);const gI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Nv=ft("book-open",gI);const pI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kl=ft("circle-check-big",pI);const yI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],th=ft("coins",yI);const _I=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vI=ft("compass",_I);const EI=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],TI=ft("component",EI);const bI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],SI=ft("copy",bI);const AI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],nh=ft("crown",AI);const wI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aT=ft("eye",wI);const xI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Mm=ft("footprints",xI);const CI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],RI=ft("hammer",CI);const II=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],NI=ft("history",II);const DI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],oT=ft("house",DI);const OI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],MI=ft("info",OI);const VI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vm=ft("log-out",VI);const kI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LI=ft("rotate-ccw",kI);const UI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PI=ft("settings",UI);const jI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ws=ft("shield",jI);const zI=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],bh=ft("ship",zI);const BI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ki=ft("skull",BI);const qI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Dv=ft("sparkles",qI);const HI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Sh=ft("sword",HI);const GI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],FI=ft("trash-2",GI);const YI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lT=ft("triangle-alert",YI);const KI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Yl=ft("trophy",KI);const QI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],km=ft("user",QI);const $I=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],XI=ft("utensils",$I);const JI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uT=ft("x",JI),ZI=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:4899548c3fd4da8c6aa637"},cT=Fv(ZI),im=P2(cT),Lt=GR(cT),qt=typeof __app_id<"u"?__app_id:"pirates-game",WI="5",rt={THIEF:{name:"Thief",val:0,defaultCount:2,icon:Mm,color:"text-gray-400",bg:"bg-gray-800",desc:"Gain 1 coin if you survive a round."},GUARD:{name:"Guard",val:1,defaultCount:6,icon:ws,color:"text-blue-400",bg:"bg-blue-900",desc:"Guess a player's card. If right, they die."},SPY:{name:"Spy",val:2,defaultCount:2,icon:aT,color:"text-emerald-400",bg:"bg-emerald-900",desc:"Look at another player's hand."},SWORDSMAN:{name:"Swordsman",val:3,defaultCount:2,icon:Sh,color:"text-red-400",bg:"bg-red-900",desc:"Fight another player. Lower card dies."},COOK:{name:"Cook",val:4,defaultCount:2,icon:XI,color:"text-orange-400",bg:"bg-orange-900",desc:"Immune to effects until your next turn."},CANNONEER:{name:"Cannoneer",val:5,defaultCount:2,icon:Om,color:"text-red-600",bg:"bg-red-950",desc:"Force discard & redraw. Kills Pirates. Gets killed if Captain."},MERCHANT:{name:"Merchant",val:6,defaultCount:2,icon:th,color:"text-yellow-400",bg:"bg-yellow-900",desc:"Draw 2 extra, keep best of 3."},SAILOR:{name:"Sailor",val:7,defaultCount:1,icon:dI,color:"text-cyan-400",bg:"bg-cyan-900",desc:"Swap hands with another player."},CAPTAIN:{name:"Captain",val:8,defaultCount:1,icon:nh,color:"text-purple-400",bg:"bg-purple-900",desc:"No action. Must play if holding Cannoneer/Sailor."},PIRATE:{name:"Pirate",val:9,defaultCount:1,icon:Ki,color:"text-white",bg:"bg-black",desc:"If played, you die. (Suicide)."}},sm=s=>s>=6?3:s===5?4:s===4?5:6,rm=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},eN=({type:s,message:e,subtext:i,icon:a})=>T.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none",children:T.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${s==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${s==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-blue-900/90 border-blue-500 text-blue-100":""}
    `,children:[a&&T.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:T.jsx(a,{size:64,className:"animate-bounce"})}),T.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&T.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),am=({isShaking:s})=>T.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((e,i)=>{const a=Object.keys(rt),l=rt[a[i%a.length]].icon;return T.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:T.jsx(l,{size:32})},i)})}),T.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Ov=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(bh,{size:12,className:"text-red-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-500 uppercase",children:"PIRATES"})]}),tN=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(bh,{size:22,className:"text-red-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-red-500 uppercase",children:"PIRATES"})]}),Mv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),T.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"Leaving will destroy the room for everyone!":l?"Leaving now will end the game for you!":"Leaving the lobby will disconnect you."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&T.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[T.jsx(oT,{size:18})," Return Crew to Lobby"]}),T.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[T.jsx(Vm,{size:18})," ",a?"Destroy Room":"Leave Game"]})]})]})}),nN=({title:s,text:e,onClose:i,type:a="info",card:l=null,compareCard:c=null,labels:d=[]})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-150 flex items-center justify-center p-4 animate-in fade-in",children:T.jsx("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:T.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?T.jsx(lT,{className:"text-red-500 w-12 h-12"}):a==="spy"?T.jsx(aT,{className:"text-emerald-400 w-12 h-12"}):a==="sword"?T.jsx(Sh,{className:"text-red-400 w-12 h-12"}):a==="round_end"?T.jsx(Yl,{className:"text-yellow-400 w-12 h-12 animate-bounce"}):T.jsx(MI,{className:"text-blue-400 w-12 h-12"}),T.jsx("h3",{className:"text-2xl font-bold text-white",children:s}),T.jsx("p",{className:"text-gray-300 text-lg",children:e}),(l||c)&&T.jsxs("div",{className:"flex gap-4 justify-center items-center my-2",children:[l&&T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[0]||"Target Hand"}),T.jsx(ho,{type:l,small:!0})]}),c&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"font-bold text-xl text-gray-500",children:T.jsx(TI,{size:24})}),T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[1]||"Attacker"}),T.jsx(ho,{type:c,small:!0})]})]})]}),T.jsx("button",{onClick:i,className:`w-full py-3 rounded-lg font-bold text-white transition-colors ${a==="error"?"bg-red-600 hover:bg-red-500":a==="spy"?"bg-emerald-600 hover:bg-emerald-500":a==="round_end"?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:a==="round_end"?"Continue":"Okay"})]})})}),Vv=({onClose:s})=>T.jsx("div",{className:"fixed inset-0 bg-black/95 z-170 flex items-center justify-center p-0 md:p-4",children:T.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[T.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-red-400 to-orange-500 uppercase tracking-widest",children:"Pirate's Secret Rules"}),T.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"Deception, Deduction & Discovery"})]}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors",children:T.jsx(uT,{size:24})})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 md:space-y-10 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[T.jsxs("div",{className:"bg-linear-to-r from-red-900/30 to-orange-900/30 p-4 md:p-6 rounded-2xl border border-red-700/30",children:[T.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[T.jsx(Yl,{className:"text-yellow-400 fill-current",size:24})," The Objective"]}),T.jsxs("p",{className:"text-sm md:text-lg leading-relaxed mb-4",children:["The high seas are treacherous. Your goal is simple:"," ",T.jsx("strong",{children:"survive"}),". The game is played in multiple rounds. To win a round, you must be the ",T.jsx("strong",{children:"Last Player Standing"})," ","or hold the ",T.jsx("strong",{children:"Highest Value Card"})," when the deck runs out.",T.jsx("br",{}),T.jsx("br",{}),"Survivors earn"," ",T.jsx("span",{className:"text-yellow-400 font-bold",children:"1 Coin"}),". The number of coins needed to win the game depends on the crew size:"]}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[T.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[T.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"2-3 Players"}),T.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"6 Coins"})]}),T.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[T.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"4 Players"}),T.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"5 Coins"})]}),T.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[T.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"5 Players"}),T.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"4 Coins"})]}),T.jsxs("div",{className:"bg-black/40 border border-yellow-500/20 rounded-lg p-3 text-center",children:[T.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"6-8 Players"}),T.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"3 Coins"})]})]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[T.jsx(km,{className:"text-red-400",size:24})," The Crew (Cards)"]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:Object.values(rt).sort((e,i)=>e.val-i.val).map(e=>{const i=e.icon;return T.jsxs("div",{className:"flex items-start gap-3 md:gap-4 bg-gray-800/50 p-3 md:p-4 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[T.jsx("div",{className:`p-3 md:p-4 rounded-xl ${e.bg} border border-gray-600 shadow-lg shrink-0`,children:T.jsx(i,{className:`${e.color}`,size:24})}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-center w-full mb-1",children:[T.jsx("h4",{className:"font-bold text-white text-base md:text-lg",children:e.name}),T.jsxs("span",{className:"text-xs bg-black/60 px-2 py-1 rounded text-gray-300 font-mono border border-gray-600",children:["Val: ",e.val]})]}),T.jsx("p",{className:"text-xs md:text-sm text-gray-400 leading-snug",children:e.desc})]})]},e.name)})})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[T.jsx(vI,{className:"text-orange-400",size:24})," How It Works"]}),T.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-gray-700 ml-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"1"}),T.jsxs("div",{className:"pl-6",children:[T.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Draw"}),T.jsxs("p",{className:"text-gray-400 text-sm md:text-base",children:["You start the round with ",T.jsx("strong",{children:"1 card"})," in hand. At the start of your turn, you draw a"," ",T.jsx("strong",{children:"second card"})," from the deck."]})]})]}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"2"}),T.jsxs("div",{className:"pl-6",children:[T.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Play"}),T.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Choose one of your two cards to play face up. Its ability triggers immediately. The other card remains hidden in your hand."})]})]})]})]})]}),T.jsx("div",{className:"p-4 md:p-6 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:T.jsx("button",{onClick:s,className:"w-full md:w-auto bg-linear-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white px-10 py-3 md:py-4 rounded-xl font-bold text-lg transition-all shadow-xl",children:"Got it, Let's Play!"})})]})}),ho=({type:s,onClick:e,disabled:i,highlight:a,small:l,tiny:c})=>{const d=rt[s];if(!d)return T.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-gray-700 rounded border border-gray-600"});if(c)return T.jsx("div",{className:`w-5 h-7 md:w-6 md:h-8 rounded border flex items-center justify-center ${d.bg} border-gray-600 shadow-sm`,title:d.name,children:T.jsx(d.icon,{className:`${d.color} w-3 h-3`})});const y=l?"w-12 h-16 md:w-16 md:h-24 p-0.5 md:p-1":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",g=l?"w-5 h-5 md:w-6 md:h-6":"w-10 h-10 md:w-12 md:h-12",_=l?"text-[8px] md:text-[10px]":"text-xs md:text-sm";return T.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between
        ${y}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":"border-gray-700"}
        ${d.bg} ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[T.jsxs("div",{className:`font-bold ${_} ${d.type==="PIRATE","text-white"} w-full flex justify-between`,children:[T.jsx("span",{children:d.val}),!l&&T.jsx("span",{children:d.name})]}),T.jsx(d.icon,{className:`${d.color} ${g}`}),!l&&T.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-300 text-center leading-tight bg-black/30 p-1 rounded w-full line-clamp-3 md:line-clamp-none",children:d.desc})]})},iN=({logs:s,onClose:e})=>T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700",children:[T.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[T.jsx("h3",{className:"text-white font-bold text-lg",children:"Game Log"}),T.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:T.jsx(uT,{className:"text-gray-400"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>T.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function sN(){const[s,e]=Ze.useState(null),[i,a]=Ze.useState("menu"),[l,c]=Ze.useState(""),[d,y]=Ze.useState(""),[g,_]=Ze.useState(null),[S,A]=Ze.useState(!1),[M,K]=Ze.useState(""),[te,re]=Ze.useState(!1),[ae,pe]=Ze.useState(!1),[Ve,Ie]=Ze.useState(!1),[at,Et]=Ze.useState(!1),[Pe,C]=Ze.useState(null),[w,I]=Ze.useState(""),[V,N]=Ze.useState(null),[L,x]=Ze.useState(null),[lt,wt]=Ze.useState([]),[G,ie]=Ze.useState(null),[me,qe]=Ze.useState(null),et=Ze.useRef(null),O=Ze.useRef(null),[Y,se]=Ze.useState(()=>localStorage.getItem("gameHub_playerName")||"");Ze.useEffect(()=>{Y&&localStorage.setItem("gameHub_playerName",Y)},[Y]),Ze.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Aw(im,__initial_auth_token):await vw(im))();const J=Cw(im,e);return()=>J()},[]),Ze.useEffect(()=>{if(s&&i==="menu"){const B=localStorage.getItem("pirates_room_id"),J=localStorage.getItem("pirates_player_name");B&&J&&(A(!0),se(J),c(B))}},[s,i]),Ze.useEffect(()=>{if(!l||!s)return;const B=Rv(kt(Lt,"artifacts",qt,"public","data","rooms",l),J=>{if(J.exists()){const W=J.data();if(!W.players.some(ye=>ye.id===s.uid)){c(""),a("menu"),K("The Captain abandoned the ship! (You were disconnected)"),localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),A(!1);return}_(W),W.status==="playing"||W.status==="finished"?a("game"):W.status==="lobby"&&a("lobby"),A(!1)}else c(""),a("menu"),K("The ship has sunk! (Room Closed)"),localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),A(!1)});return()=>B()},[l,s]),Ze.useEffect(()=>{!G&&lt.length>0&&(ie(lt[0]),wt(B=>B.slice(1)))},[G,lt]);const ee=(B,J,W="",oe=null)=>{qe({type:B,message:J,subtext:W,icon:oe}),setTimeout(()=>qe(null),2e3)};if(Ze.useEffect(()=>{if(!(!g||!s)){if(g.lastAction){const B=g.lastAction;B.id!==et.current&&B.targetId===s.uid&&(et.current=B.id,B.type==="CANNONEER"?B.message.includes("Reflected")?ee("success","DEFENDED","Captain Killed Attacker!",nh):B.message.includes("Pirate")?ee("failure","ELIMINATED","Cannon Hit Pirate!",Ki):ee("failure","UNDER ATTACK","Card Destroyed!",Om):B.type==="GUARD"&&B.message.includes("CORRECT")?ee("failure","ELIMINATED","Guard Caught You!",Ki):B.type==="GUARD"&&B.message.includes("WRONG")?ee("neutral","SAFE","Guard Guessed Wrong",kl):B.type==="SWORDSMAN"&&(B.message.includes("You Died")?ee("failure","DEFEAT","Lost Sword Fight",Ki):B.message.includes("You Won")?ee("success","VICTORY","Won Sword Fight",Yl):ee("neutral","TIED","Both Survived",Sh)),wt(J=>[...J,{title:"Action Alert!",text:B.message,type:B.type==="SWORDSMAN"?"sword":B.type==="SPY"?"spy":"warning",card:B.cardToShow,compareCard:B.compareCard,labels:B.labels}]))}if(g.lastRoundResult){const B=g.lastRoundResult;B.id!==O.current&&(O.current=B.id,wt(J=>[...J,{title:`Round ${B.round} Complete!`,text:`${B.winnerName} won the round and earned a Coin!`,type:"round_end",card:null,compareCard:null}]))}}},[g,s]),Ze.useEffect(()=>{const B=Rv(kt(Lt,"game_hub_settings","config"),J=>{J.exists()&&(J.data()[WI]?.maintenance?Ie(!0):Ie(!1))});return()=>B()},[]),Ve)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(RI,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The ship is in dry dock for repairs. The Captain says no sailing today!"})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(Dv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(Dv,{size:16})]})})})})]});const Se=(B,J,W="error",oe=null)=>{wt(ye=>[...ye,{title:B,text:J,type:W,card:oe}])},Me=async()=>{if(!Y)return K("Name required");A(!0);const B=Math.random().toString(36).substring(2,7).toUpperCase(),J={roomId:B,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:Y,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}],deck:[],deckConfig:{guards:6,merchants:2},discardPile:[],logs:[],turnIndex:0,roundCount:1,burntCard:null,thiefActive:null,pendingAction:null,lastAction:null,lastRoundResult:null};await rI(kt(Lt,"artifacts",qt,"public","data","rooms",B),J),localStorage.setItem("pirates_room_id",B),localStorage.setItem("pirates_player_name",Y),c(B),y(B),a("lobby"),A(!1)},He=async()=>{if(!d||!Y)return K("Room ID and Name required");A(!0);const B=kt(Lt,"artifacts",qt,"public","data","rooms",d),J=await Cv(B);if(!J.exists()){K("Room not found"),A(!1);return}const W=J.data();if(W.status!=="lobby"&&!W.players.find(ye=>ye.id===s.uid)){K("Game already started"),A(!1);return}if(!W.players.find(oe=>oe.id===s.uid))if(W.players.length<8){const oe=[...W.players,{id:s.uid,name:Y,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}];await Zt(B,{players:oe})}else{K("Room full (Max 8)"),A(!1);return}localStorage.setItem("pirates_room_id",d),localStorage.setItem("pirates_player_name",Y),c(d),A(!1)},Ot=async()=>{if(!(!l||!s)){try{const B=kt(Lt,"artifacts",qt,"public","data","rooms",l),J=await Cv(B);if(J.exists()){const W=J.data();if(W.hostId===s.uid)await aI(B);else if(W.status==="lobby"){const ye=W.players.filter(Ge=>Ge.id!==s.uid);await Zt(B,{players:ye})}else await _t(B,W)}}catch(B){console.error("Error leaving room:",B)}localStorage.removeItem("pirates_room_id"),localStorage.removeItem("pirates_player_name"),c(""),a("menu"),_(null),pe(!1)}},_t=async(B,J)=>{const W=J.players.filter(ye=>ye.id!==s.uid);let oe=null;W.length>0&&(oe=W[0].id),await Zt(B,{status:"finished",winnerId:oe,players:J.players.filter(ye=>ye.id!==s.uid),logs:Cn({id:Date.now().toString(),text:`${J.players.find(ye=>ye.id===s.uid)?.name} left the game. Game Over.`,type:"danger"})})},ns=async B=>{if(!g||g.hostId!==s.uid)return;const J=g.players.filter(W=>W.id!==B);await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:J})},Ls=()=>{try{navigator.clipboard.writeText(l),ee("neutral","COPIED!","",kl)}catch{const J=document.createElement("textarea");J.value=l,document.body.appendChild(J),J.select(),document.execCommand("copy"),document.body.removeChild(J),ee("neutral","COPIED!","",kl)}},hi=async(B,J)=>{g.hostId===s.uid&&await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{deckConfig:{guards:B,merchants:J}})},fi=async(B=null)=>{const J=B?{...g,...B}:g,W=J.players.length;console.log("=== STARTING ROUND DEBUG ==="),console.log("Round Number:",J.roundCount||g.roundCount),console.log("Previous Starter Index:",J.roundStarterIdx),console.log("Type of Starter:",typeof J.roundStarterIdx);let oe=J.deckConfig||{guards:6,merchants:2};W>4&&(oe={guards:6,merchants:2});const ye=[];Object.keys(rt).forEach(_e=>{let Ee=rt[_e].defaultCount;_e==="GUARD"&&(Ee=oe.guards??6),_e==="MERCHANT"&&(Ee=oe.merchants??2);for(let je=0;je<Ee;je++)ye.push(_e)});const Ge=rm(ye),le=Ge.pop(),Xe=J.players.map(_e=>({..._e,hand:[Ge.pop()],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}));let ce=0;if(J.roundStarterIdx!==void 0&&J.roundStarterIdx!==null){const _e=Number(J.roundStarterIdx);ce=(_e+1)%W,console.log(`Calculation: (${_e} + 1) % ${W} = ${ce}`)}else ce=Math.floor(Math.random()*Xe.length),console.log("First Round (or missing data) - Random Start:",ce);Xe[ce].hand.push(Ge.pop()),await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{status:"playing",deck:Ge,burntCard:le,players:Xe,discardPile:[],turnIndex:ce,roundStarterIdx:ce,thiefActive:null,lastAction:null,lastRoundResult:null,logs:Cn({id:Date.now()+Math.random().toString(),text:`--- Round ${J.roundCount||g.roundCount} Started (Player ${ce+1} begins) ---`,type:"neutral"})})},Xn=async()=>{const B=[...g.players],J=B.findIndex(W=>W.id===s.uid);B[J].readyForNext=!0,await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:B})},is=async()=>{if(!g||g.hostId!==s.uid)return;const B=g.players.map(J=>({...J,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{status:"lobby",players:B,deck:[],logs:[],roundCount:1,winnerId:null,lastAction:null,lastRoundResult:null})},ss=async()=>{if(!g||g.hostId!==s.uid)return;const B=g.players.map(Xe=>({...Xe,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));let J=g.deckConfig||{guards:6,merchants:2};B.length>4&&(J={guards:6,merchants:2});const W=[];Object.keys(rt).forEach(Xe=>{let ce=rt[Xe].defaultCount;Xe==="GUARD"&&(ce=J.guards??6),Xe==="MERCHANT"&&(ce=J.merchants??2);for(let _e=0;_e<ce;_e++)W.push(Xe)});const oe=rm(W),ye=oe.pop(),Ge=B.map(Xe=>({...Xe,hand:[oe.pop()]})),le=Math.floor(Math.random()*Ge.length);Ge[le].hand.push(oe.pop()),await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{status:"playing",deck:oe,burntCard:ye,players:Ge,discardPile:[],turnIndex:le,roundStarterIdx:le,thiefActive:null,lastAction:null,lastRoundResult:null,roundCount:1,winnerId:null,logs:[{id:Date.now().toString(),text:"--- NEW GAME STARTED ---",type:"neutral"}]})},Us=async(B,J=[],W=null)=>{let oe=[...B.players],ye=[...B.deck],Ge=B.turnIndex,le=B.thiefActive;const Xe=oe.filter(ve=>!ve.eliminated),ce=J.map(ve=>({...ve,id:ve.id||Date.now()+Math.random().toString()}));let _e={players:oe,deck:ye};const Ee=sm(oe.length);if(W&&(_e.lastAction=W),Xe.length===1){const ve=Xe[0];ve.coins+=1,ce.push({id:Date.now()+Math.random().toString(),text:` Round Over! ${ve.name} survives alone (+1 Coin).`,type:"success"});const An={id:Date.now(),winnerName:ve.name,round:B.roundCount||g.roundCount};if(ve.coins>=Ee){await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{..._e,status:"finished",winnerId:ve.id,logs:Cn(...ce)});return}_e.lastRoundResult=An,await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{..._e,roundCount:nm(1),logs:Cn(...ce)}),setTimeout(()=>fi({...B,players:oe,roundCount:(B.roundCount||g.roundCount)+1}),3500);return}if(ye.length===0){let ve=-1,An=[];Xe.forEach(vt=>{if(vt.hand.length>0){const Gt=rt[vt.hand[0]].val;Gt>ve?(ve=Gt,An=[vt]):Gt===ve&&An.push(vt)}}),An.forEach(vt=>{const Gt=oe.findIndex(Tt=>Tt.id===vt.id);oe[Gt].coins+=1});const di=An.map(vt=>vt.name).join(", ");ce.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${di} (Card Value: ${ve}).`,type:"success"});const js={id:Date.now(),winnerName:di,round:B.roundCount||g.roundCount};if(oe.some(vt=>vt.coins>=Ee)){await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{..._e,status:"finished",winnerId:oe.find(vt=>vt.coins>=Ee).id,logs:Cn(...ce)});return}_e.lastRoundResult=js,await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{..._e,roundCount:nm(1),logs:Cn(...ce)}),setTimeout(()=>fi({...B,players:oe,roundCount:(B.roundCount||g.roundCount)+1}),3500);return}let je=(Ge+1)%oe.length;for(;oe[je].eliminated;)je=(je+1)%oe.length;if(le&&le.playerId===oe[je].id&&(oe[je].id===s.uid&&ee("success","+1 COIN","Survived as Thief",th),oe[je].coins+=1,ce.push({id:Date.now()+Math.random().toString(),text:` ${oe[je].name} survived the round as Thief (+1 Coin)!`,type:"success"}),le=null,oe[je].coins>=Ee)){ce.push({id:Date.now()+Math.random().toString(),text:` ${oe[je].name} collected ${Ee} coins via Thief and WINS THE GAME!`,type:"success"}),await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:oe,status:"finished",winnerId:oe[je].id,logs:Cn(...ce)});return}oe[je].immune=!1,ye.length>0&&oe[je].hand.push(ye.pop()),_e={..._e,deck:ye,turnIndex:je,thiefActive:le,players:oe,logs:Cn(...ce)},await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),_e)},Ur=B=>{if(Pe){if(B===s.uid){Se("Targeting Error","You cannot target yourself!","error");return}if(Pe==="GUARD"){N(B),x(null);return}xt(Pe,B)}},xt=async(B,J=null,W=null)=>{if(!s||g.players[g.turnIndex].id!==s.uid)return;const oe=["GUARD","SPY","SWORDSMAN","CANNONEER","SAILOR"],ye=B==="GUARD",Ge=W||w;if(oe.includes(B)&&!J){C(B);return}if(ye&&!Ge){C(B);return}const le=JSON.parse(JSON.stringify(g.players)),Xe=le.findIndex(fe=>fe.id===s.uid),ce=le[Xe];let _e=[...g.deck],Ee=[],je=g.thiefActive,ve=null;const An=ce.hand,di=An.includes("CAPTAIN"),js=An.includes("CANNONEER")||An.includes("SAILOR");if(di&&js&&B!=="CAPTAIN"){Se("Captain's Orders","You MUST play the Captain if you hold a Cannoneer or Sailor!","error");return}const vt=ce.hand.indexOf(B);if(vt===-1)return;ce.hand.splice(vt,1),ce.playedCards||(ce.playedCards=[]),ce.playedCards.push(B);const Gt=(fe,be)=>{const Ce=le.findIndex(It=>It.id===fe);le[Ce].eliminated=!0,le[Ce].hand.length>0&&(le[Ce].playedCards||(le[Ce].playedCards=[]),le[Ce].playedCards.push(le[Ce].hand[0])),le[Ce].hand=[],Ee.push({text:` ${le[Ce].name} was eliminated! (${be})`,type:"danger"}),je&&je.playerId===fe&&(je=null)},Tt=async()=>{let fe=-1,be=[];const Ce=le.filter(nn=>!nn.eliminated),It=sm(le.length);Ce.forEach(nn=>{const jn=rt[nn.hand[0]].val;jn>fe?(fe=jn,be=[nn]):jn===fe&&be.push(nn)}),be.forEach(nn=>{const jn=le.findIndex(Pr=>Pr.id===nn.id);le[jn].coins+=1});const Ii=be.map(nn=>nn.name).join(", ");Ee.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${Ii} (Card Value: ${fe}).`,type:"success"});const Pn=Ee.map(nn=>({...nn,id:Date.now()+Math.random().toString()})),rs={id:Date.now(),winnerName:Ii,round:g.roundCount};le.some(nn=>nn.coins>=It)?await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:le,deck:_e,status:"finished",winnerId:le.find(nn=>nn.coins>=It).id,logs:Cn(...Pn),discardPile:Cn(B),lastAction:ve}):(await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:le,deck:_e,roundCount:nm(1),logs:Cn(...Pn),discardPile:Cn(B),lastAction:ve,lastRoundResult:rs}),setTimeout(()=>fi({...g,players:le,roundCount:g.roundCount+1}),3500))};if(B==="THIEF")Ee.push({text:` ${ce.name} plays Thief. (Gain coin if survived until next turn)`,type:"neutral"}),je&&Ee.push({text:` Previous Thief thwarted by ${ce.name}!`,type:"neutral"}),je={playerId:s.uid,turnSet:g.turnIndex};else if(B==="GUARD"){const fe=le.find(be=>be.id===J);if(Ee.push({text:` ${ce.name} used Guard on ${fe.name}, guessing ${rt[Ge].name}.`,type:"neutral"}),fe.immune)ee("failure","IMMUNE","Target Protected",ws),Ee.push({text:` ${fe.name} is immune to the Guard!`,type:"warning"}),ve={id:Date.now(),targetId:J,type:"GUARD",message:`${ce.name} tried to Guard you, but you were Immune!`};else{const be=fe.hand[0];be===Ge?(ee("success","KILLED","Guard Guess Correct!",Ki),Gt(J,`Guard caught a ${rt[Ge].name}`),ve={id:Date.now(),targetId:J,type:"GUARD",message:`${ce.name} guessed your card was a ${rt[Ge].name}. They were CORRECT! You are out.`,cardToShow:be,compareCard:Ge,labels:["You Had","They Guessed"]}):(ee("failure","MISSED","Guard Guess Wrong",ws),Ee.push({text:` Guard guess wrong. ${fe.name} does not have ${rt[Ge].name}.`,type:"neutral"}),ve={id:Date.now(),targetId:J,type:"GUARD",message:`${ce.name} guessed your card was a ${rt[Ge].name}. They were WRONG. You are safe.`,cardToShow:be,compareCard:Ge,labels:["You Have","They Guessed"]})}}else if(B==="SPY"){const fe=le.find(be=>be.id===J);fe.immune?(ee("failure","IMMUNE","Target Protected",ws),Ee.push({text:` ${ce.name} tried to Spy, but ${fe.name} is immune!`,type:"warning"}),ve={id:Date.now(),targetId:J,type:"SPY",message:`${ce.name} tried to Spy on you, but you were Immune!`}):(Ee.push({text:` ${ce.name} plays Spy and looks at ${fe.name}'s hand.`,type:"neutral"}),Se("Spy Report",`${fe.name} is holding: ${rt[fe.hand[0]].name}`,"spy",fe.hand[0]),ve={id:Date.now(),targetId:J,type:"SPY",message:`${ce.name} used a Spy to look at your hand.`})}else if(B==="SWORDSMAN"){const fe=le.find(be=>be.id===J);if(fe.immune)ee("failure","IMMUNE","Target Protected",ws),Ee.push({text:` ${fe.name} is immune to Sword Fight!`,type:"warning"}),ve={id:Date.now(),targetId:J,type:"SWORDSMAN",message:`${ce.name} tried to fight you, but you were Immune!`};else{const be=le[Xe].hand[0],Ce=fe.hand[0],It=rt[be].val,Ii=rt[Ce].val;Ee.push({text:` ${ce.name} challenged ${fe.name}.`,type:"neutral"}),It<Ii?(ee("failure","DEFEAT","You Died (Lower Card)",Ki),Gt(s.uid,"Lost Sword Fight (Lower Card)"),Ee.push({text:`... ${ce.name} was defeated!`,type:"danger"}),ve={id:Date.now(),targetId:J,type:"SWORDSMAN",message:`${ce.name} challenged you! Your ${rt[Ce].name} beat their ${rt[be].name}. You Won!`,cardToShow:Ce,compareCard:be,labels:["Your Hand","Attacker"]},Se("Sword Fight Result",`You challenged ${fe.name}. Their ${rt[Ce].name} beat your ${rt[be].name}. You Died.`,"sword",Ce)):Ii<It?(ee("success","VICTORY","Target Died (Lower Card)",Yl),Gt(J,"Lost Sword Fight (Lower Card)"),Ee.push({text:`... ${fe.name} was defeated!`,type:"danger"}),ve={id:Date.now(),targetId:J,type:"SWORDSMAN",message:`${ce.name} challenged you! Your ${rt[Ce].name} lost to their ${rt[be].name}. You Died.`,cardToShow:Ce,compareCard:be,labels:["Your Hand","Attacker"]},Se("Sword Fight Result",`You challenged ${fe.name}. Your ${rt[be].name} beat their ${rt[Ce].name}. You Won!`,"sword",Ce)):(ee("neutral","TIED","Both Survived",Sh),Ee.push({text:" Sword Fight Tie! Both survive.",type:"neutral"}),ve={id:Date.now(),targetId:J,type:"SWORDSMAN",message:`${ce.name} challenged you! Tie (${rt[Ce].name}). Both survive.`,cardToShow:Ce,compareCard:be,labels:["Your Hand","Attacker"]},Se("Sword Fight Result",`Tie! You both have ${rt[be].name}.`,"sword",Ce))}}else if(B==="COOK")le[Xe].immune=!0,Ee.push({text:` ${ce.name} plays Cook. Immune until next turn.`,type:"success"});else if(B==="CANNONEER"){const fe=le.findIndex(Ce=>Ce.id===J),be=le[fe];if(be.immune)ee("failure","IMMUNE","Target Protected",ws),Ee.push({text:` ${be.name} is immune to Cannoneer!`,type:"warning"}),ve={id:Date.now(),targetId:J,type:"CANNONEER",message:`${ce.name} tried to Cannon you, but you were Immune!`};else if(be.hand[0]==="PIRATE")ee("success","KILLED","Pirate Eliminated!",Ki),Ee.push({text:` ${ce.name} fires Cannon at ${be.name}... It's a Pirate! Target eliminated.`,type:"success"}),Gt(J,"Cannoneer hit a Pirate"),ve={id:Date.now(),targetId:J,type:"CANNONEER",message:`${ce.name} fired a Cannon at you. You had a Pirate and were eliminated!`};else if(be.hand[0]==="CAPTAIN"){ee("failure","BACKFIRE","Hit Captain (You Died)",nh),Ee.push({text:` ${ce.name} fires Cannon at ${be.name}... It's a Captain! ${ce.name} blows themselves up!`,type:"danger"}),Gt(s.uid,"Cannoneer hit a Captain");const Ce=be.hand.pop();le[fe].playedCards||(le[fe].playedCards=[]),le[fe].playedCards.push(Ce);let It;if(_e.length>0?It=_e.pop():(It=g.burntCard,Ee.push({text:"Deck empty! Recycled Burnt Card for Captain holder.",type:"warning"})),le[fe].hand.push(It),ve={id:Date.now(),targetId:J,type:"CANNONEER",message:`${ce.name} fired a Cannon at you. Your Captain Reflected the attack! They died. You drew a new card.`,cardToShow:Ce,compareCard:It,labels:["Reflected","New Card"]},_e.length===0){C(null),I(""),await Tt();return}}else{ee("success","DESTROYED","Card Removed",Om);const Ce=be.hand.pop();le[fe].playedCards||(le[fe].playedCards=[]),le[fe].playedCards.push(Ce);let It;if(_e.length>0?It=_e.pop():(It=g.burntCard,Ee.push({text:"Deck empty! Recycled Burnt Card.",type:"warning"})),le[fe].hand.push(It),Ee.push({text:` ${ce.name} destroyed ${be.name}'s card!`,type:"neutral"}),ve={id:Date.now(),targetId:J,type:"CANNONEER",message:`${ce.name} destroyed your card! It was added to your history. You drew a new one.`,cardToShow:Ce,compareCard:It,labels:["Destroyed","New Card"]},_e.length===0){C(null),I(""),await Tt();return}}}else if(B==="MERCHANT"){let fe=[];_e.length>=2?fe=[_e.pop(),_e.pop()]:_e.length===1&&(fe=[_e.pop()]);const be=[...le[Xe].hand,...fe];le[Xe].hand=[];const Ce=Ee.map(It=>({...It,id:Date.now()+Math.random().toString()}));await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{players:le,deck:_e,thiefActive:je||null,logs:Cn(...Ce),discardPile:Cn(B),merchantState:{pool:be,originalDeckCount:_e.length}}),C(null),I("");return}else if(B==="SAILOR"){const fe=le.findIndex(be=>be.id===J);if(le[fe].immune)Ee.push({text:` ${le[fe].name} is immune to Swap!`,type:"warning"}),ve={id:Date.now(),targetId:J,type:"SAILOR",message:`${ce.name} tried to swap hands with you, but you were Immune!`};else{const be=le[Xe].hand.pop(),Ce=le[fe].hand.pop();le[Xe].hand.push(Ce),le[fe].hand.push(be),Ee.push({text:` ${ce.name} swapped hands with ${le[fe].name}.`,type:"neutral"}),ve={id:Date.now(),targetId:J,type:"SAILOR",message:`${ce.name} swapped hands with you.`,cardToShow:be,compareCard:Ce,labels:["Taken Card","Current Hand"]}}}else B==="CAPTAIN"?Ee.push({text:` ${ce.name} plays Captain (No Effect).`,type:"neutral"}):B==="PIRATE"&&(ee("failure","SUICIDE","You Played Pirate!",Ki),Gt(s.uid,"Played Pirate (Suicide)"));C(null),I(""),await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{discardPile:Cn(B)}),await Us({players:le,deck:_e,turnIndex:g.turnIndex,thiefActive:je||null,burntCard:g.burntCard,deckConfig:g.deckConfig,roundCount:g.roundCount},Ee,ve)},Ut=async B=>{const J=g.merchantState.pool,W=J.filter((le,Xe)=>Xe!==J.indexOf(B));let oe=[...g.deck,...W];oe=rm(oe);const ye=[...g.players],Ge=ye.findIndex(le=>le.id===s.uid);ye[Ge].hand=[B],await Zt(kt(Lt,"artifacts",qt,"public","data","rooms",l),{merchantState:null}),await Us({players:ye,deck:oe,turnIndex:g.turnIndex,thiefActive:g.thiefActive,burntCard:g.burntCard,deckConfig:g.deckConfig,roundCount:g.roundCount},[{text:` ${g.players.find(le=>le.id===s.uid).name} used Merchant to draw cards and kept one.`,type:"neutral"}])};g?.players.filter(B=>!B.eliminated&&B.id!==s?.uid);const Pt=g?.players.find(B=>B.id===s?.uid),Ps=g?.players[g?.turnIndex]?.id===s?.uid,Ri=g?.players.filter(B=>B.id!==g.hostId).every(B=>B.readyForNext);if(!s)return T.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(am,{}),te&&T.jsx(Vv,{onClose:()=>re(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(bh,{size:64,className:"text-red-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-red-500 to-orange-600 font-serif tracking-widest drop-shadow-md",children:"PIRATES"}),T.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Adventure on the Sea"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-red-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-red-500 outline-none transition-colors",placeholder:"Pirate Name",value:Y,onChange:B=>se(B.target.value)}),T.jsxs("button",{onClick:Me,disabled:S,className:"w-full bg-linear-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-red-500/30 shadow-[0_0_15px_rgba(220,38,38,0.2)] transition-all",children:[T.jsx(bh,{size:20})," Create New Ship"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-red-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:B=>y(B.target.value.toUpperCase())}),T.jsx("button",{onClick:He,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Infiltrate Ship"})]}),T.jsxs("button",{onClick:()=>re(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(Nv,{size:16})," Read Pirate's Plan"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Love Letter. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-red-500 underline hover:text-red-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const B=g.hostId===s.uid,J=g.deckConfig?.guards??6,W=g.deckConfig?.merchants??2,oe=g.players.length;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(am,{}),T.jsx(tN,{}),ae&&T.jsx(Mv,{onCancel:()=>pe(!1),onConfirmLeave:Ot,onConfirmLobby:()=>{is(),pe(!1)},isHost:B,inGame:!1}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/50 shadow-2xl mb-4",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("h2",{className:"text-2xl font-serif text-red-500",children:["Cabin: ",T.jsx("span",{className:"text-white font-mono",children:l})]}),T.jsx("button",{onClick:Ls,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",title:"Copy Room ID",children:T.jsx(SI,{size:16})})]}),T.jsx("button",{onClick:()=>pe(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:T.jsx(Vm,{size:16})})]}),T.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[T.jsx("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:T.jsxs("span",{children:["Crew (",g.players.length,"/8)"]})}),T.jsxs("div",{className:"space-y-2",children:[g.players.map(ye=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[T.jsxs("span",{className:`font-bold flex items-center gap-2 ${ye.id===s.uid?"text-red-400":"text-gray-300"}`,children:[T.jsx(km,{size:14,className:ye.id===s.uid?"text-red-400":"text-gray-500"}),ye.name,ye.id===g.hostId&&T.jsx(nh,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(kl,{size:12})," Ready"]}),B&&ye.id!==s.uid&&T.jsx("button",{onClick:()=>ns(ye.id),className:"p-1 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:T.jsx(FI,{size:16})})]})]},ye.id)),g.players.length<2&&T.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),B&&T.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h3",{className:"text-red-300 font-bold mb-2 uppercase text-xs tracking-wider flex items-center gap-2",children:[T.jsx(PI,{size:16})," Deck Config"]}),oe>4&&T.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Disabled (5+ Players)"})]}),T.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${oe>4?"opacity-50 pointer-events-none":""}`,children:[T.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[T.jsxs("div",{className:"text-sm font-bold text-blue-400",children:["Guards (",J,")"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>hi(J-1,W),disabled:J<=4,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),T.jsx("button",{onClick:()=>hi(J+1,W),disabled:J>=6,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]}),T.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[T.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:["Merchants (",W,")"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>hi(J,W-1),disabled:W<=0,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),T.jsx("button",{onClick:()=>hi(J,W+1),disabled:W>=2,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]})]})]}),B?T.jsx("button",{onClick:()=>fi(),disabled:g.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${g.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:g.players.length<2?"Awaiting Agents...":"Commence Operation"}):T.jsx("div",{className:"text-center text-red-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),T.jsx(Ov,{})]})}if(i==="game"&&g){const B=g.merchantState&&Ps,J=g.hostId===s.uid;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[T.jsx(am,{}),me&&T.jsx(eN,{type:me.type,message:me.message,subtext:me.subtext,icon:me.icon}),G&&T.jsx(nN,{title:G.title,text:G.text,type:G.type,card:G.card,compareCard:G.compareCard,labels:G.labels,onClose:()=>ie(null)}),ae&&T.jsx(Mv,{onCancel:()=>pe(!1),onConfirmLeave:Ot,onConfirmLobby:()=>{is(),pe(!1)},isHost:J,inGame:!0}),te&&T.jsx(Vv,{onClose:()=>re(!1)}),T.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-serif text-red-500 font-bold tracking-wider hidden md:block",children:"PIRATES"}),T.jsx("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:"SHIP'S CABIN"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>re(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Guide",children:T.jsx(Nv,{size:18})}),T.jsx("button",{onClick:()=>Et(!at),className:`p-2 rounded-full ${at?"bg-red-900 text-red-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(NI,{size:18})}),T.jsx("button",{onClick:()=>pe(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave",children:T.jsx(Vm,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[T.jsxs("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 flex flex-col gap-2 items-center text-gray-500 hidden md:flex",children:[T.jsx("div",{className:"w-16 h-24 bg-gray-900/90 border-2 border-gray-700 rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"font-bold text-xl",children:g.deck.length})}),T.jsx("span",{className:"text-xs uppercase",children:"Deck"})]}),T.jsxs("div",{className:"md:hidden bg-gray-800/80 px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-400 mb-2",children:["Deck:"," ",T.jsx("span",{className:"text-white font-bold",children:g.deck.length})]}),T.jsx("div",{className:"flex gap-2 md:gap-4 justify-center flex-wrap w-full",children:g.players.map((W,oe)=>{if(W.id===s.uid)return null;const ye=g.turnIndex===oe,Ge=Ps&&Pe&&!W.eliminated,le=W.immune,Xe=g.thiefActive?.playerId===W.id;return T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsxs("div",{className:`
                    relative bg-gray-900/90 p-2 md:p-3 rounded-lg md:rounded-xl border-2 w-36 md:w-48 transition-all cursor-pointer
                    ${ye?"border-red-500 shadow-red-500/20 shadow-lg scale-105":"border-gray-700"}
                    ${W.eliminated?"opacity-50 grayscale":""}
                    ${Ge?"ring-2 md:ring-4 ring-orange-500 hover:scale-110":""}
                    ${le?"ring-2 md:ring-4 ring-green-400/50 shadow-[0_0_15px_rgba(74,222,128,0.5)] animate-pulse":""}
                    ${Xe?"ring-2 md:ring-4 ring-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse":""}
                  `,onClick:()=>Ge?Ur(W.id):null,children:[T.jsx("div",{className:"flex justify-between items-start mb-1 md:mb-2",children:T.jsx("span",{className:`font-bold truncate text-xs md:text-sm w-full ${ye?"text-red-300":"text-gray-300"}`,children:W.name})}),T.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[W.immune&&T.jsx(ws,{size:10,className:"text-green-400"}),Xe&&T.jsx(Mm,{size:10,className:"text-red-400"})]}),T.jsx("div",{className:"flex gap-0.5 md:gap-1 justify-center mb-1 md:mb-2",children:W.hand.map((ce,_e)=>T.jsx("div",{className:"w-4 h-6 md:w-6 md:h-8 bg-blue-900 rounded border border-blue-500"},_e))}),T.jsxs("div",{className:"flex justify-between items-center text-[8px] md:text-xs text-gray-400 bg-gray-900/50 p-0.5 md:p-1 rounded",children:[T.jsxs("span",{className:"flex items-center gap-0.5",children:[T.jsx(th,{size:8,className:"text-yellow-400"})," ",W.coins]}),W.eliminated&&T.jsx(Ki,{size:10,className:"text-red-500"})]}),ye&&T.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap",children:"PLAYING"}),Ge&&T.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-lg md:rounded-xl flex items-center justify-center font-bold text-[10px] md:text-sm text-orange-300 animate-pulse",children:"TARGET"}),le&&T.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"IMMUNE"}),Xe&&T.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"THIEF"})]}),T.jsx("div",{className:"mt-1 md:mt-2 flex gap-0.5 justify-center flex-wrap max-w-20 md:max-w-32",children:W.playedCards&&W.playedCards.map((ce,_e)=>T.jsx(ho,{type:ce,tiny:!0},_e))})]},W.id)})}),T.jsx("div",{className:"pointer-events-none z-0 my-2 flex flex-col items-center space-y-2 opacity-80 w-full px-4",children:g.logs.slice(-2).reverse().map((W,oe)=>T.jsx("div",{className:"bg-black/60 px-3 py-1 rounded text-xs md:text-sm text-white backdrop-blur-sm text-center truncate max-w-full",children:W.text},oe))}),T.jsxs("div",{className:`w-full max-w-2xl bg-gray-900/95 p-3 md:p-6 rounded-t-2xl md:rounded-t-3xl border-t border-red-900/50 backdrop-blur-md transition-colors ${Pt?.eliminated?"grayscale opacity-75":""}`,children:[T.jsxs("div",{className:"flex justify-between items-start md:items-center mb-3 md:mb-4",children:[T.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3",children:[T.jsxs("div",{className:`bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2 
                    ${Pt.immune?"ring-2 ring-green-500 shadow-lg shadow-green-500/20":""}
                    ${g.thiefActive?.playerId===Pt.id?"ring-2 ring-red-500 shadow-lg shadow-red-500/20":""}
                   `,children:[T.jsx(km,{className:"text-gray-400 w-4 h-4 md:w-5 md:h-5"}),T.jsx("span",{className:"font-bold text-sm md:text-lg max-w-[80px] md:max-w-none truncate text-gray-300",children:Pt.name}),Pt.immune&&T.jsx(ws,{className:"text-green-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"}),g.thiefActive?.playerId===Pt.id&&T.jsx(Mm,{className:"text-red-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"})]}),T.jsxs("div",{className:"bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2",children:[T.jsx(th,{className:"text-yellow-400 w-4 h-4 md:w-5 md:h-5"}),T.jsx("span",{className:"font-bold text-sm md:text-xl text-yellow-400",children:Pt.coins}),T.jsxs("span",{className:"text-[10px] md:text-xs text-gray-500 uppercase font-bold self-end mb-0.5 md:mb-1",children:["/ ",sm(g.players.length)]})]})]}),T.jsxs("div",{className:"flex flex-col items-end gap-1 max-w-[160px] md:max-w-xs",children:[Ps&&!Pt.eliminated&&!B&&T.jsx("div",{className:"text-green-400 font-bold animate-pulse uppercase tracking-widest text-xs md:text-sm mb-1 bg-green-900/20 px-2 py-0.5 rounded border border-green-500/50",children:"PLAYING"}),T.jsxs("div",{className:"flex gap-0.5 items-center bg-gray-900/50 p-1 md:p-2 rounded-lg border border-gray-700 w-full overflow-x-auto",children:[T.jsx("span",{className:"text-[8px] md:text-[10px] text-gray-500 uppercase mr-1 hidden md:inline shrink-0",children:"History"}),Pt.playedCards&&Pt.playedCards.map((W,oe)=>T.jsx("div",{className:"shrink-0",children:T.jsx(ho,{type:W,tiny:!0})},oe))]})]})]}),Pt.eliminated?T.jsxs("div",{className:"text-center py-4 md:py-8 text-red-500 font-bold text-xl md:text-2xl uppercase tracking-widest border-2 border-red-900 bg-red-900/10 rounded-xl",children:[T.jsx(Ki,{className:"inline-block mb-1 md:mb-2 w-8 h-8 md:w-12 md:h-12"}),T.jsx("br",{}),"Eliminated"]}):T.jsx(T.Fragment,{children:T.jsx("div",{className:"flex justify-center gap-2 md:gap-4 mb-2",children:B?g.merchantState.pool.map((W,oe)=>T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx(ho,{type:W,onClick:()=>Ut(W),highlight:!0}),T.jsx("span",{className:"text-xs text-green-400 font-bold",children:"Keep"})]},oe)):Pt.hand.map((W,oe)=>{const ye=Ps,Ge=Pe===W;return T.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[Ge&&T.jsx("div",{className:"absolute -top-8 md:-top-10 bg-yellow-500 text-black px-2 py-1 rounded text-[10px] md:text-xs font-bold animate-bounce z-20 whitespace-nowrap",children:"Select Target!"}),T.jsx(ho,{type:W,onClick:()=>ye?xt(W):null,disabled:!ye,highlight:ye&&Ge}),ye&&Ge&&T.jsx("div",{className:"flex flex-col gap-1 w-full animate-in fade-in slide-in-from-bottom-2",children:T.jsx("button",{onClick:()=>C(null),className:"bg-red-900/50 hover:bg-red-900 text-[8px] md:text-[10px] py-1 rounded text-red-300 w-full",children:"Cancel"})})]},oe)})})})]})]}),at&&T.jsx(iN,{logs:g.logs,onClose:()=>Et(!1)}),V&&T.jsx("div",{className:"fixed inset-0 bg-black/80 z-100 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-800 border-2 border-blue-500 rounded-xl p-4 md:p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in",children:[T.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-4 flex items-center gap-2",children:[T.jsx(ws,{className:"text-blue-400"}),"Guess a Card"]}),T.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.keys(rt).filter(W=>{if(W==="GUARD")return!1;const oe=g.deckConfig?.merchants??2;return!(W==="MERCHANT"&&oe===0)}).map(W=>T.jsxs("button",{onClick:()=>x(W),className:`
                        p-2 rounded text-xs md:text-sm font-bold transition-colors flex items-center gap-1 md:gap-2 justify-center md:justify-start
                        ${L===W?"bg-yellow-500 text-black ring-2 ring-yellow-300":"bg-gray-700 hover:bg-blue-600 text-white"}
                      `,children:[Fb.createElement(rt[W].icon,{size:14}),rt[W].name]},W))}),T.jsx("button",{onClick:()=>{L?(xt("GUARD",V,L),N(null),x(null),C(null)):(N(null),C(null))},className:`
                  w-full py-3 rounded font-bold transition-colors
                  ${L?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-red-900/50 hover:bg-red-900 text-red-200"}
                `,children:L?"Confirm Play":"Cancel"})]})}),g.status==="finished"&&!G&&lt.length===0&&T.jsxs("div",{className:"fixed inset-0 top-14 bg-black/95 z-150 flex flex-col items-center justify-center p-4 text-center",children:[T.jsx(Yl,{size:48,className:"text-yellow-400 mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Game Over!"}),T.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8",children:[g.players.find(W=>W.id===g.winnerId)?.name," ","wins the treasure!"]}),g.hostId===s.uid?T.jsxs("div",{className:"flex flex-col items-center gap-3 w-full max-w-xs",children:[!Ri&&T.jsxs("div",{className:"text-red-400 text-xs md:text-sm animate-pulse mb-1 flex items-center gap-2 justify-center",children:[T.jsx(lT,{size:16})," Waiting for crew..."]}),T.jsxs("button",{onClick:ss,disabled:!Ri,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all
                        ${Ri?"bg-blue-600 hover:bg-blue-500 shadow-blue-900/20 text-white":"bg-gray-700 cursor-not-allowed text-gray-400"}
                      `,children:[T.jsx(LI,{size:20})," Restart Game"]}),T.jsxs("button",{onClick:is,disabled:!Ri,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 border-2 transition-all
                        ${Ri?"border-green-600 text-green-500 hover:bg-green-600/10":"border-gray-700 text-gray-500 cursor-not-allowed"}
                      `,children:[T.jsx(oT,{size:20})," Return to Lobby"]})]}):T.jsx("button",{onClick:Xn,disabled:g.players.find(W=>W.id===s.uid)?.readyForNext,className:`w-full max-w-xs py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${g.players.find(W=>W.id===s.uid)?.readyForNext?"bg-gray-700 text-green-400 border border-green-500 cursor-default":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:g.players.find(W=>W.id===s.uid)?.readyForNext?T.jsxs(T.Fragment,{children:[T.jsx(kl,{size:24})," Waiting for Host..."]}):"Ready for Next Game"})]}),T.jsx(Ov,{})]})}return null}Zb.createRoot(document.getElementById("root")).render(T.jsx(Ze.StrictMode,{children:T.jsx(sN,{})}));
