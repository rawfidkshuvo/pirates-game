(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Ub(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},Nl={};var F_;function Lb(){if(F_)return Nl;F_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Y_;function Pb(){return Y_||(Y_=1,Vd.exports=Lb()),Vd.exports}var A=Pb(),kd={exports:{}},Oe={};var Q_;function jb(){if(Q_)return Oe;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,W={};function ve(O,H,ne){this.props=O,this.context=H,this.refs=W,this.updater=ne||ee}ve.prototype.isReactComponent={},ve.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},ve.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ie(){}Ie.prototype=ve.prototype;function ye(O,H,ne){this.props=O,this.context=H,this.refs=W,this.updater=ne||ee}var at=ye.prototype=new Ie;at.constructor=ye,re(at,ve.prototype),at.isPureReactComponent=!0;var gt=Array.isArray;function Le(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,H,ne){var le=ne.ref;return{$$typeof:s,type:O,key:H,ref:le!==void 0?le:null,props:ne}}function V(O,H){return C(O.type,H,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return H[ne]})}var R=/\/+/g;function ut(O,H){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):H.toString(36)}function Ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Le,Le):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,H,ne,le,Re){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(De){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case s:case e:ze=!0;break;case E:return ze=O._init,F(ze(O._payload),H,ne,le,Re)}}if(ze)return Re=Re(O),ze=le===""?"."+ut(O,0):le,gt(Re)?(ne="",ze!=null&&(ne=ze.replace(R,"$&/")+"/"),F(Re,H,ne,"",function(Jn){return Jn})):Re!=null&&(N(Re)&&(Re=V(Re,ne+(Re.key==null||O&&O.key===Re.key?"":(""+Re.key).replace(R,"$&/")+"/")+ze)),H.push(Re)),1;ze=0;var kt=le===""?".":le+":";if(gt(O))for(var ct=0;ct<O.length;ct++)le=O[ct],De=kt+ut(le,ct),ze+=F(le,H,ne,De,Re);else if(ct=Y(O),typeof ct=="function")for(O=ct.call(O),ct=0;!(le=O.next()).done;)le=le.value,De=kt+ut(le,ct++),ze+=F(le,H,ne,De,Re);else if(De==="object"){if(typeof O.then=="function")return F(Ct(O),H,ne,le,Re);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ae(O,H,ne){if(O==null)return O;var le=[],Re=0;return F(O,le,"","",function(De){return H.call(ne,De,Re++)}),le}function me(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var Ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},We={map:ae,forEach:function(O,H,ne){ae(O,function(){H.apply(this,arguments)},ne)},count:function(O){var H=0;return ae(O,function(){H++}),H},toArray:function(O){return ae(O,function(H){return H})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Oe.Activity=S,Oe.Children=We,Oe.Component=ve,Oe.Fragment=i,Oe.Profiler=l,Oe.PureComponent=ye,Oe.StrictMode=a,Oe.Suspense=_,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(O,H,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=re({},O.props),Re=O.key;if(H!=null)for(De in H.key!==void 0&&(Re=""+H.key),H)!w.call(H,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&H.ref===void 0||(le[De]=H[De]);var De=arguments.length-2;if(De===1)le.children=ne;else if(1<De){for(var ze=Array(De),kt=0;kt<De;kt++)ze[kt]=arguments[kt+2];le.children=ze}return C(O.type,Re,le)},Oe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Oe.createElement=function(O,H,ne){var le,Re={},De=null;if(H!=null)for(le in H.key!==void 0&&(De=""+H.key),H)w.call(H,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Re[le]=H[le]);var ze=arguments.length-2;if(ze===1)Re.children=ne;else if(1<ze){for(var kt=Array(ze),ct=0;ct<ze;ct++)kt[ct]=arguments[ct+2];Re.children=kt}if(O&&O.defaultProps)for(le in ze=O.defaultProps,ze)Re[le]===void 0&&(Re[le]=ze[le]);return C(O,De,Re)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:p,render:O}},Oe.isValidElement=N,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},Oe.memo=function(O,H){return{$$typeof:y,type:O,compare:H===void 0?null:H}},Oe.startTransition=function(O){var H=I.T,ne={};I.T=ne;try{var le=O(),Re=I.S;Re!==null&&Re(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Le,Ge)}catch(De){Ge(De)}finally{H!==null&&ne.types!==null&&(H.types=ne.types),I.T=H}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(O){return I.H.use(O)},Oe.useActionState=function(O,H,ne){return I.H.useActionState(O,H,ne)},Oe.useCallback=function(O,H){return I.H.useCallback(O,H)},Oe.useContext=function(O){return I.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,H){return I.H.useDeferredValue(O,H)},Oe.useEffect=function(O,H){return I.H.useEffect(O,H)},Oe.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(O,H,ne){return I.H.useImperativeHandle(O,H,ne)},Oe.useInsertionEffect=function(O,H){return I.H.useInsertionEffect(O,H)},Oe.useLayoutEffect=function(O,H){return I.H.useLayoutEffect(O,H)},Oe.useMemo=function(O,H){return I.H.useMemo(O,H)},Oe.useOptimistic=function(O,H){return I.H.useOptimistic(O,H)},Oe.useReducer=function(O,H,ne){return I.H.useReducer(O,H,ne)},Oe.useRef=function(O){return I.H.useRef(O)},Oe.useState=function(O){return I.H.useState(O)},Oe.useSyncExternalStore=function(O,H,ne){return I.H.useSyncExternalStore(O,H,ne)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.0",Oe}var K_;function Vm(){return K_||(K_=1,kd.exports=jb()),kd.exports}var rt=Vm();const zb=Ub(rt);var Ud={exports:{}},Dl={},Ld={exports:{}},Pd={};var X_;function Bb(){return X_||(X_=1,(function(s){function e(F,ae){var me=F.length;F.push(ae);e:for(;0<me;){var Ge=me-1>>>1,We=F[Ge];if(0<l(We,ae))F[Ge]=ae,F[me]=We,me=Ge;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ae=F[0],me=F.pop();if(me!==ae){F[0]=me;e:for(var Ge=0,We=F.length,O=We>>>1;Ge<O;){var H=2*(Ge+1)-1,ne=F[H],le=H+1,Re=F[le];if(0>l(ne,me))le<We&&0>l(Re,ne)?(F[Ge]=Re,F[le]=me,Ge=le):(F[Ge]=ne,F[H]=me,Ge=H);else if(le<We&&0>l(Re,me))F[Ge]=Re,F[le]=me,Ge=le;else break e}}return ae}function l(F,ae){var me=F.sortIndex-ae.sortIndex;return me!==0?me:F.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],E=1,S=null,M=3,Y=!1,ee=!1,re=!1,W=!1,ve=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function at(F){for(var ae=i(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=F)a(y),ae.sortIndex=ae.expirationTime,e(_,ae);else break;ae=i(y)}}function gt(F){if(re=!1,at(F),!ee)if(i(_)!==null)ee=!0,Le||(Le=!0,U());else{var ae=i(y);ae!==null&&Ct(gt,ae.startTime-F)}}var Le=!1,I=-1,w=5,C=-1;function V(){return W?!0:!(s.unstable_now()-C<w)}function N(){if(W=!1,Le){var F=s.unstable_now();C=F;var ae=!0;try{e:{ee=!1,re&&(re=!1,Ie(I),I=-1),Y=!0;var me=M;try{t:{for(at(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ge=S.callback;if(typeof Ge=="function"){S.callback=null,M=S.priorityLevel;var We=Ge(S.expirationTime<=F);if(F=s.unstable_now(),typeof We=="function"){S.callback=We,at(F),ae=!0;break t}S===i(_)&&a(_),at(F)}else a(_);S=i(_)}if(S!==null)ae=!0;else{var O=i(y);O!==null&&Ct(gt,O.startTime-F),ae=!1}}break e}finally{S=null,M=me,Y=!1}ae=void 0}}finally{ae?U():Le=!1}}}var U;if(typeof ye=="function")U=function(){ye(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ut=R.port2;R.port1.onmessage=N,U=function(){ut.postMessage(null)}}else U=function(){ve(N,0)};function Ct(F,ae){I=ve(function(){F(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var ae=3;break;default:ae=M}var me=M;M=ae;try{return F()}finally{M=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=M;M=F;try{return ae()}finally{M=me}},s.unstable_scheduleCallback=function(F,ae,me){var Ge=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,F){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=me+We,F={id:E++,callback:ae,priorityLevel:F,startTime:me,expirationTime:We,sortIndex:-1},me>Ge?(F.sortIndex=me,e(y,F),i(_)===null&&F===i(y)&&(re?(Ie(I),I=-1):re=!0,Ct(gt,me-Ge))):(F.sortIndex=We,e(_,F),ee||Y||(ee=!0,Le||(Le=!0,U()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ae=M;return function(){var me=M;M=ae;try{return F.apply(this,arguments)}finally{M=me}}}})(Pd)),Pd}var $_;function qb(){return $_||($_=1,Ld.exports=Bb()),Ld.exports}var jd={exports:{}},En={};var Z_;function Hb(){if(Z_)return En;Z_=1;var s=Vm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},En.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},En.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},En.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},En.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Y}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},En.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},En.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},En.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},En.requestFormReset=function(_){a.d.r(_)},En.unstable_batchedUpdates=function(_,y){return _(y)},En.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.2.0",En}var J_;function Gb(){if(J_)return jd.exports;J_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=Hb(),jd.exports}var W_;function Fb(){if(W_)return Dl;W_=1;var s=qb(),e=Vm(),i=Gb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case ve:return"Profiler";case W:return"StrictMode";case gt:return"Suspense";case Le:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ye:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ut(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ut(t(n))}catch{}}return null}var Ct=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ge=[],We=-1;function O(t){return{current:t}}function H(t){0>We||(t.current=Ge[We],Ge[We]=null,We--)}function ne(t,n){We++,Ge[We]=t.current,t.current=n}var le=O(null),Re=O(null),De=O(null),ze=O(null);function kt(t,n){switch(ne(De,n),ne(Re,t),ne(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m_(n),t=g_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(le),ne(le,t)}function ct(){H(le),H(Re),H(De)}function Jn(t){t.memoizedState!==null&&ne(ze,t);var n=le.current,r=g_(n,t.type);n!==r&&(ne(Re,t),ne(le,r))}function Ms(t){Re.current===t&&(H(le),H(Re)),ze.current===t&&(H(ze),Rl._currentValue=me)}var xi,Vs;function jn(t){if(xi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);xi=n&&n[1]||"",Vs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+t+Vs}var Or=!1;function mi(t,n){if(!t||Or)return"";Or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){z=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var x=g.split(`
`),j=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Q=`
`+x[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?jn(r):""}function Mr(t,n){switch(t.tag){case 26:case 27:case 5:return jn(t.type);case 16:return jn("Lazy");case 13:return t.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return mi(t.type,!1);case 11:return mi(t.type.render,!1);case 1:return mi(t.type,!0);case 31:return jn("Activity");default:return""}}function rn(t){try{var n="",r=null;do n+=Mr(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,At=s.unstable_scheduleCallback,G=s.unstable_cancelCallback,te=s.unstable_shouldYield,J=s.unstable_requestPaint,se=s.unstable_now,Ee=s.unstable_getCurrentPriorityLevel,Pe=s.unstable_ImmediatePriority,oe=s.unstable_UserBlockingPriority,je=s.unstable_NormalPriority,de=s.unstable_LowPriority,xe=s.unstable_IdlePriority,Se=s.log,nt=s.unstable_setDisableYieldValue,Be=null,xt=null;function _n(t){if(typeof Se=="function"&&nt(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Be,t)}catch{}}var $e=Math.clz32?Math.clz32:Vr,zn=Math.log,wn=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(zn(t)/wn|0)|0}var he=256,be=262144,pe=4194304;function ot(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vn(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ot(o):(g&=T,g!==0?h=ot(g):r||(r=T&~t,r!==0&&(h=ot(r))))):(T=o&~f,T!==0?h=ot(T):g!==0?h=ot(g):r||(r=o&~t,r!==0&&(h=ot(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function en(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Wn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function kr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-$e(r),X=1<<Q;T[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var q=z[Q];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&Ur(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ur(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-$e(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Do(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-$e(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Oo(t,n){var r=n&-n;return r=(r&42)!==0?1:Lr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function gi(t,n){var r=ae.p;try{return ae.p=t,n()}finally{ae.p=r}}var pi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+pi,an="__reactProps$"+pi,Ni="__reactContainer$"+pi,_a="__reactEvents$"+pi,jh="__reactListeners$"+pi,du="__reactHandles$"+pi,mu="__reactResources$"+pi,Di="__reactMarker$"+pi;function va(t){delete t[Ht],delete t[an],delete t[_a],delete t[jh],delete t[du]}function Oi(t){var n=t[Ht];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ni]||r[Ht]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=b_(t);t!==null;){if(r=t[Ht])return r;t=b_(t)}return n}t=r,r=t.parentNode}return null}function ei(t){if(t=t[Ht]||t[Ni]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Mi(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Gt(t){t[Di]=!0}var Mo=new Set,Vo={};function Vi(t,n){ki(t,n),ki(t+"Capture",n)}function ki(t,n){for(Vo[t]=n,t=0;t<n.length;t++)Mo.add(n[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function gu(t){return bt.call(Lo,t)?!0:bt.call(Uo,t)?!1:ko.test(t)?Lo[t]=!0:(Uo[t]=!0,!1)}function Ea(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Hn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ft(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function Pr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=ks(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function Nn(t){return t.replace(jr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+on(n)):t.value!==""+on(n)&&(t.value=""+on(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?jo(t,g,on(n)):r!=null?jo(t,g,on(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function pu(t,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ht(t);return}r=r!=null?""+on(r):"",n=n!=null?""+on(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ht(t)}function jo(t,n,r){n==="number"&&Ui(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Us(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+on(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function yu(t,n,r){if(n!=null&&(n=""+on(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+on(r):""}function Ls(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ct(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=on(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ht(t)}function Dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Bo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&zo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yi(){}var qo=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Li=null;function zr(t){var n=ei(t);if(n&&(t=n.stateNode)){var r=t[an]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[an]||null;if(!h)throw Error(a(90));Ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Pr(o)}break e;case"textarea":yu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Us(t,!!r.multiple,n,!1)}}}var Sa=!1;function zs(t,n,r){if(Sa)return t(n,r);Sa=!0;try{var o=t(n);return o}finally{if(Sa=!1,(js!==null||Li!==null)&&(fc(),js&&(n=js,t=Li,Li=js=null,zr(n),t)))for(n=0;n<t.length;n++)zr(t[n])}}function _i(t,n){var r=t.stateNode;if(r===null)return null;var o=r[an]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(ni)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Br=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Br=!1}var Pi=null,Ho=null,qr=null;function Go(){if(qr)return qr;var t,n=Ho,r=n.length,o,h="value"in Pi?Pi.value:Pi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return qr=h.slice(t,1<o?1-o:void 0)}function Hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function vi(){return!1}function cn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:vi,this.isPropagationStopped=vi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=cn(rs),Bs=S({},rs,{view:0,detail:0}),Fo=cn(Bs),qs,wa,zi,Ra=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(qs=t.screenX-zi.screenX,wa=t.screenY-zi.screenY):wa=qs=0,zi=t),qs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Yo=cn(Ra),Gr=S({},Ra,{dataTransfer:0}),Eu=cn(Gr),Tu=S({},Bs,{relatedTarget:0}),Fr=cn(Tu),Qo=S({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=cn(Qo),Ca=S({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=cn(Ca),Su=S({},rs,{data:0}),Bi=cn(Su),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Hs(){return xu}var Rn=S({},Bs,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=cn(Rn),Nu=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=cn(Nu),u=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=cn(u),v=S({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=cn(v),L=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=cn(L),ie=S({},rs,{newState:0,oldState:0}),Ve=cn(ie),Ut=[9,13,27,32],it=ni&&"CompositionEvent"in window,It=null;ni&&"documentMode"in document&&(It=document.documentMode);var ii=ni&&"TextEvent"in window&&!It,qi=ni&&(!it||It&&8<It&&11>=It),Ei=" ",Ti=!1;function Yr(t,n){switch(t){case"keyup":return Ut.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function aT(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(Ti=!0,Ei);case"textInput":return t=n.data,t===Ei&&Ti?null:t;default:return null}}function oT(t,n){if(Ia)return t==="compositionend"||!it&&Yr(t,n)?(t=Go(),qr=Ho=Pi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qi&&n.locale!=="ko"?null:n.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lT[t.type]:n==="textarea"}function Rg(t,n,r,o){js?Li?Li.push(o):Li=[o]:js=o,n=vc(n,"onChange"),0<n.length&&(r=new ji("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ko=null,Xo=null;function uT(t){l_(t,0)}function Du(t){var n=qn(t);if(Pr(n))return t}function Cg(t,n){if(t==="change")return n}var xg=!1;if(ni){var zh;if(ni){var Bh="oninput"in document;if(!Bh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Bh=typeof Ig.oninput=="function"}zh=Bh}else zh=!1;xg=zh&&(!document.documentMode||9<document.documentMode)}function Ng(){Ko&&(Ko.detachEvent("onpropertychange",Dg),Xo=Ko=null)}function Dg(t){if(t.propertyName==="value"&&Du(Xo)){var n=[];Rg(n,Xo,t,ti(t)),zs(uT,n)}}function cT(t,n,r){t==="focusin"?(Ng(),Ko=n,Xo=r,Ko.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function hT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(Xo)}function fT(t,n){if(t==="click")return Du(n)}function dT(t,n){if(t==="input"||t==="change")return Du(n)}function mT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Gn=typeof Object.is=="function"?Object.is:mT;function $o(t,n){if(Gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!bt.call(n,h)||!Gn(t[h],n[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,n){var r=Og(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Og(r)}}function Vg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ui(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ui(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var gT=ni&&"documentMode"in document&&11>=document.documentMode,Na=null,Hh=null,Zo=null,Gh=!1;function Ug(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Na==null||Na!==Ui(o)||(o=Na,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zo&&$o(Zo,o)||(Zo=o,o=vc(Hh,"onSelect"),0<o.length&&(n=new ji("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Na)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Da={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Fh={},Lg={};ni&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Kr(t){if(Fh[t])return Fh[t];if(!Da[t])return t;var n=Da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lg)return Fh[t]=n[r];return t}var Pg=Kr("animationend"),jg=Kr("animationiteration"),zg=Kr("animationstart"),pT=Kr("transitionrun"),yT=Kr("transitionstart"),_T=Kr("transitioncancel"),Bg=Kr("transitionend"),qg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function bi(t,n){qg.set(t,n),Vi(n,[t])}var Ou=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Oa=0,Qh=0;function Mu(){for(var t=Oa,n=Qh=Oa=0;n<t;){var r=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Hg(r,h,f)}}function Vu(t,n,r,o){si[Oa++]=t,si[Oa++]=n,si[Oa++]=r,si[Oa++]=o,Qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Kh(t,n,r,o){return Vu(t,n,r,o),ku(t)}function Xr(t,n){return Vu(t,null,null,n),ku(t)}function Hg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-$e(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ku(t){if(50<vl)throw vl=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function vT(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,n,r,o){return new vT(t,n,r,o)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,n){var r=t.alternate;return r===null?(r=Fn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Gg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")Xh(t)&&(g=1);else if(typeof t=="string")g=Sb(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Fn(31,r,n,h),t.elementType=C,t.lanes=f,t;case re:return $r(r.children,h,f,n);case W:g=8,h|=24;break;case ve:return t=Fn(12,r,n,h|2),t.elementType=ve,t.lanes=f,t;case gt:return t=Fn(13,r,n,h),t.elementType=gt,t.lanes=f,t;case Le:return t=Fn(19,r,n,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ye:g=10;break e;case Ie:g=9;break e;case at:g=11;break e;case I:g=14;break e;case w:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Fn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function $r(t,n,r,o){return t=Fn(7,t,o,n),t.lanes=r,t}function $h(t,n,r){return t=Fn(6,t,null,n),t.lanes=r,t}function Fg(t){var n=Fn(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=Fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yg=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var r=Yg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:rn(n)},Yg.set(t,n),n)}return{value:t,source:n,stack:rn(n)}}var Va=[],ka=0,Lu=null,Jo=0,ai=[],oi=0,Gs=null,Hi=1,Gi="";function ls(t,n){Va[ka++]=Jo,Va[ka++]=Lu,Lu=t,Jo=n}function Qg(t,n,r){ai[oi++]=Hi,ai[oi++]=Gi,ai[oi++]=Gs,Gs=t;var o=Hi;t=Gi;var h=32-$e(o)-1;o&=~(1<<h),r+=1;var f=32-$e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Hi=1<<32-$e(n)+h|r<<h|o,Gi=f+t}else Hi=1<<f|r<<h|o,Gi=t}function Jh(t){t.return!==null&&(ls(t,1),Qg(t,1,0))}function Wh(t){for(;t===Lu;)Lu=Va[--ka],Va[ka]=null,Jo=Va[--ka],Va[ka]=null;for(;t===Gs;)Gs=ai[--oi],ai[oi]=null,Gi=ai[--oi],ai[oi]=null,Hi=ai[--oi],ai[oi]=null}function Kg(t,n){ai[oi++]=Hi,ai[oi++]=Gi,ai[oi++]=Gs,Hi=n.id,Gi=n.overflow,Gs=t}var hn=null,St=null,Ze=!1,Fs=null,li=!1,ef=Error(a(519));function Ys(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(ri(n,t)),ef}function Xg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ht]=t,n[an]=o,r){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)He(Tl[r],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Ls(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||f_(n.textContent,r)?(o.popover!=null&&(He("beforetoggle",n),He("toggle",n)),o.onScroll!=null&&He("scroll",n),o.onScrollEnd!=null&&He("scrollend",n),o.onClick!=null&&(n.onclick=yi),n=!0):n=!1,n||Ys(t,!0)}function $g(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:hn=hn.return}}function Ua(t){if(t!==hn)return!1;if(!Ze)return $g(t),Ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&St&&Ys(t),$g(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=T_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=T_(t)}else n===27?(n=St,ar(t.type)?(t=Sd,Sd=null,St=t):St=n):St=hn?ci(t.stateNode.nextSibling):null;return!0}function Zr(){St=hn=null,Ze=!1}function tf(){var t=Fs;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Fs=null),t}function Wo(t){Fs===null?Fs=[t]:Fs.push(t)}var nf=O(null),Jr=null,us=null;function Qs(t,n,r){ne(nf,n._currentValue),n._currentValue=r}function cs(t){t._currentValue=nf.current,H(nf)}function sf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),sf(f.return,r,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),sf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function La(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Gn(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ze.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&rf(n,t,r,o),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wr(t){Jr=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return Zg(Jr,t)}function ju(t,n){return Jr===null&&Wr(t),Zg(t,n)}function Zg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},us===null){if(t===null)throw Error(a(308));us=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else us=us.next=n;return r}var ET=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},TT=s.unstable_scheduleCallback,bT=s.unstable_NormalPriority,Yt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new ET,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&TT(bT,function(){t.controller.abort()})}var tl=null,of=0,Pa=0,ja=null;function AT(t,n){if(tl===null){var r=tl=[];of=0,Pa=cd(),ja={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Jg,Jg),n}function Jg(){if(--of===0&&tl!==null){ja!==null&&(ja.status="fulfilled");var t=tl;tl=null,Pa=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ST(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Wg=F.S;F.S=function(t,n){Uy=se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AT(t,n),Wg!==null&&Wg(t,n)};var ea=O(null);function lf(){var t=ea.current;return t!==null?t:Et.pooledCache}function zu(t,n){n===null?ne(ea,ea.current):ne(ea,n.pool)}function ep(){var t=lf();return t===null?null:{parent:Yt._currentValue,pool:t}}var za=Error(a(460)),uf=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function np(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(yi,yi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sp(t),t;default:if(typeof n.status=="string")n.then(yi,yi);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sp(t),t}throw na=n,za}}function ta(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(na=r,za):r}}var na=null;function ip(){if(na===null)throw Error(a(459));var t=na;return na=null,t}function sp(t){if(t===za||t===Bu)throw Error(a(483))}var Ba=null,nl=0;function Hu(t){var n=nl;return nl+=1,Ba===null&&(Ba=[]),np(Ba,t,n)}function il(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rp(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=os(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=$h(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function x(k,D,P,K){var _e=P.type;return _e===re?Q(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ta(_e)===D.type)?(D=h(D,P.props),il(D,P),D.return=k,D):(D=Uu(P.type,P.key,P.props,null,k.mode,K),il(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,K,_e){return D===null||D.tag!==7?(D=$r(P,k.mode,K,_e),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return P=Uu(D.type,D.key,D.props,null,k.mode,P),il(P,D),P.return=k,P;case ee:return D=Zh(D,k.mode,P),D.return=k,D;case w:return D=ta(D),X(k,D,P)}if(Ct(D)||U(D))return D=$r(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Hu(D),P);if(D.$$typeof===ye)return X(k,ju(k,D),P);Gu(k,D)}return null}function z(k,D,P,K){var _e=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===_e?x(k,D,P,K):null;case ee:return P.key===_e?j(k,D,P,K):null;case w:return P=ta(P),z(k,D,P,K)}if(Ct(P)||U(P))return _e!==null?null:Q(k,D,P,K,null);if(typeof P.then=="function")return z(k,D,Hu(P),K);if(P.$$typeof===ye)return z(k,D,ju(k,P),K);Gu(k,P)}return null}function q(k,D,P,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return k=k.get(K.key===null?P:K.key)||null,x(D,k,K,_e);case ee:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,_e);case w:return K=ta(K),q(k,D,P,K,_e)}if(Ct(K)||U(K))return k=k.get(P)||null,Q(D,k,K,_e,null);if(typeof K.then=="function")return q(k,D,P,Hu(K),_e);if(K.$$typeof===ye)return q(k,D,P,ju(D,K),_e);Gu(D,K)}return null}function ce(k,D,P,K){for(var _e=null,et=null,fe=D,Ue=D=0,Ye=null;fe!==null&&Ue<P.length;Ue++){fe.index>Ue?(Ye=fe,fe=null):Ye=fe.sibling;var tt=z(k,fe,P[Ue],K);if(tt===null){fe===null&&(fe=Ye);break}t&&fe&&tt.alternate===null&&n(k,fe),D=f(tt,D,Ue),et===null?_e=tt:et.sibling=tt,et=tt,fe=Ye}if(Ue===P.length)return r(k,fe),Ze&&ls(k,Ue),_e;if(fe===null){for(;Ue<P.length;Ue++)fe=X(k,P[Ue],K),fe!==null&&(D=f(fe,D,Ue),et===null?_e=fe:et.sibling=fe,et=fe);return Ze&&ls(k,Ue),_e}for(fe=o(fe);Ue<P.length;Ue++)Ye=q(fe,k,Ue,P[Ue],K),Ye!==null&&(t&&Ye.alternate!==null&&fe.delete(Ye.key===null?Ue:Ye.key),D=f(Ye,D,Ue),et===null?_e=Ye:et.sibling=Ye,et=Ye);return t&&fe.forEach(function(hr){return n(k,hr)}),Ze&&ls(k,Ue),_e}function Ae(k,D,P,K){if(P==null)throw Error(a(151));for(var _e=null,et=null,fe=D,Ue=D=0,Ye=null,tt=P.next();fe!==null&&!tt.done;Ue++,tt=P.next()){fe.index>Ue?(Ye=fe,fe=null):Ye=fe.sibling;var hr=z(k,fe,tt.value,K);if(hr===null){fe===null&&(fe=Ye);break}t&&fe&&hr.alternate===null&&n(k,fe),D=f(hr,D,Ue),et===null?_e=hr:et.sibling=hr,et=hr,fe=Ye}if(tt.done)return r(k,fe),Ze&&ls(k,Ue),_e;if(fe===null){for(;!tt.done;Ue++,tt=P.next())tt=X(k,tt.value,K),tt!==null&&(D=f(tt,D,Ue),et===null?_e=tt:et.sibling=tt,et=tt);return Ze&&ls(k,Ue),_e}for(fe=o(fe);!tt.done;Ue++,tt=P.next())tt=q(fe,k,Ue,tt.value,K),tt!==null&&(t&&tt.alternate!==null&&fe.delete(tt.key===null?Ue:tt.key),D=f(tt,D,Ue),et===null?_e=tt:et.sibling=tt,et=tt);return t&&fe.forEach(function(kb){return n(k,kb)}),Ze&&ls(k,Ue),_e}function vt(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var _e=P.key;D!==null;){if(D.key===_e){if(_e=P.type,_e===re){if(D.tag===7){r(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ta(_e)===D.type){r(k,D.sibling),K=h(D,P.props),il(K,P),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}P.type===re?(K=$r(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Uu(P.type,P.key,P.props,null,k.mode,K),il(K,P),K.return=k,k=K)}return g(k);case ee:e:{for(_e=P.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=Zh(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=ta(P),vt(k,D,P,K)}if(Ct(P))return ce(k,D,P,K);if(U(P)){if(_e=U(P),typeof _e!="function")throw Error(a(150));return P=_e.call(P),Ae(k,D,P,K)}if(typeof P.then=="function")return vt(k,D,Hu(P),K);if(P.$$typeof===ye)return vt(k,D,ju(k,P),K);Gu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,P),K.return=k,k=K):(r(k,D),K=$h(P,k.mode,K),K.return=k,k=K),g(k)):r(k,D)}return function(k,D,P,K){try{nl=0;var _e=vt(k,D,P,K);return Ba=null,_e}catch(fe){if(fe===za||fe===Bu)throw fe;var et=Fn(29,fe,null,k.mode);return et.lanes=K,et.return=k,et}finally{}}}var ia=rp(!0),ap=rp(!1),Ks=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(st&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(t),Hg(t,null,r),n}return Vu(t,o,n,r),ku(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}function ff(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function rl(){if(df){var t=ja;if(t!==null)throw t}}function al(t,n,r,o){df=!1;var h=t.updateQueue;Ks=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;g=0,Q=j=x=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Fe&z)===z:(o&z)===z){z!==0&&z===Pa&&(df=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Ae=T;z=n;var vt=r;switch(Ae.tag){case 1:if(ce=Ae.payload,typeof ce=="function"){X=ce.call(vt,X,z);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ae.payload,z=typeof ce=="function"?ce.call(vt,X,z):ce,z==null)break e;X=S({},X,z);break e;case 2:Ks=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=q,x=X):Q=Q.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),tr|=g,t.lanes=g,t.memoizedState=X}}function op(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function lp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)op(r[t],n)}var qa=O(null),Fu=O(0);function up(t,n){t=vs,ne(Fu,t),ne(qa,n),vs=t|n.baseLanes}function mf(){ne(Fu,vs),ne(qa,qa.current)}function gf(){vs=Fu.current,H(qa),H(Fu)}var Yn=O(null),ui=null;function Zs(t){var n=t.alternate;ne(Lt,Lt.current&1),ne(Yn,t),ui===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ui=t)}function pf(t){ne(Lt,Lt.current),ne(Yn,t),ui===null&&(ui=t)}function cp(t){t.tag===22?(ne(Lt,Lt.current),ne(Yn,t),ui===null&&(ui=t)):Js()}function Js(){ne(Lt,Lt.current),ne(Yn,Yn.current)}function Qn(t){H(Yn),ui===t&&(ui=null),H(Lt)}var Lt=O(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hs=0,ke=null,yt=null,Qt=null,Qu=!1,Ha=!1,sa=!1,Ku=0,ol=0,Ga=null,wT=0;function Mt(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Gn(t[r],n[r]))return!1;return!0}function _f(t,n,r,o,h,f){return hs=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Qp:Mf,sa=!1,f=r(o,h),sa=!1,Ha&&(f=fp(n,r,o,h)),hp(t),f}function hp(t){F.H=cl;var n=yt!==null&&yt.next!==null;if(hs=0,Qt=yt=ke=null,Qu=!1,ol=0,Ga=null,n)throw Error(a(300));t===null||Kt||(t=t.dependencies,t!==null&&Pu(t)&&(Kt=!0))}function fp(t,n,r,o){ke=t;var h=0;do{if(Ha&&(Ga=null),ol=0,Ha=!1,25<=h)throw Error(a(301));if(h+=1,Qt=yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kp,f=n(r,o)}while(Ha);return f}function RT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ll(n):n,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(ke.flags|=1024),n}function vf(){var t=Ku!==0;return Ku=0,t}function Ef(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Tf(t){if(Qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Qu=!1}hs=0,Qt=yt=ke=null,Ha=!1,ol=Ku=0,Ga=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ke.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Pt(){if(yt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var n=Qt===null?ke.memoizedState:Qt.next;if(n!==null)Qt=n,yt=t;else{if(t===null)throw ke.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Qt===null?ke.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var n=ol;return ol+=1,Ga===null&&(Ga=[]),t=np(Ga,t,n),n=ke,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Qp:Mf),t}function $u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ye)return fn(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=ke.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),ke.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function fs(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=Pt();return Af(n,yt,t)}function Af(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,x=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Fe&X)===X:(hs&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Pa&&(Q=!0);else if((hs&z)===z){j=j.next,z===Pa&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=X,g=f):x=x.next=X,ke.lanes|=z,tr|=z;X=j.action,sa&&r(f,X),f=j.hasEagerState?j.eagerState:r(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=z,g=f):x=x.next=z,ke.lanes|=X,tr|=X;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=T,!Gn(f,t.memoizedState)&&(Kt=!0,Q&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Sf(t){var n=Pt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Gn(f,n.memoizedState)||(Kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function dp(t,n,r){var o=ke,h=Pt(),f=Ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Gn((yt||h).memoizedState,r);if(g&&(h.memoizedState=r,Kt=!0),h=h.queue,Cf(pp.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},gp.bind(null,o,h,r,n),null),Et===null)throw Error(a(349));f||(hs&127)!==0||mp(o,n,r)}return r}function mp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=ke.updateQueue,n===null?(n=Xu(),ke.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function gp(t,n,r,o){n.value=r,n.getSnapshot=o,yp(n)&&_p(t)}function pp(t,n,r){return r(function(){yp(n)&&_p(t)})}function yp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Gn(t,r)}catch{return!0}}function _p(t){var n=Xr(t,2);n!==null&&Un(n,t,2)}function wf(t){var n=Cn();if(typeof t=="function"){var r=t;if(t=r(),sa){_n(!0);try{r()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function vp(t,n,r,o){return t.baseState=r,Af(t,yt,typeof o=="function"?o:fs)}function CT(t,n,r,o,h){if(ec(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Ep(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ep(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=r(h,o),x=F.S;x!==null&&x(g,T),Tp(t,n,T)}catch(j){Rf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),Tp(t,n,f)}catch(j){Rf(t,n,j)}}function Tp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){bp(t,n,o)},function(o){return Rf(t,n,o)}):bp(t,n,r)}function bp(t,n,r){n.status="fulfilled",n.value=r,Ap(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ep(t,r)))}function Rf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ap(n),n=n.next;while(n!==o)}t.action=null}function Ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sp(t,n){return n}function wp(t,n){if(Ze){var r=Et.formState;if(r!==null){e:{var o=ke;if(Ze){if(St){t:{for(var h=St,f=li;h.nodeType!==8;){if(!f){h=null;break t}if(h=ci(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=ci(h.nextSibling),o=h.data==="F!";break e}}Ys(o)}o=!1}o&&(n=r[0])}}return r=Cn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},r.queue=o,r=Gp.bind(null,ke,o),o.dispatch=r,o=wf(!1),f=Of.bind(null,ke,!1,o.queue),o=Cn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=CT.bind(null,ke,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function Rp(t){var n=Pt();return Cp(n,yt,t)}function Cp(t,n,r){if(n=Af(t,n,Sp)[0],t=Zu(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(g){throw g===za?Bu:g}else o=n;n=Pt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(ke.flags|=2048,Fa(9,{destroy:void 0},xT.bind(null,h,r),null)),[o,f,t]}function xT(t,n){t.action=n}function xp(t){var n=Pt(),r=yt;if(r!==null)return Cp(n,r,t);Pt(),n=n.memoizedState,r=Pt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Fa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Xu(),ke.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ip(){return Pt().memoizedState}function Ju(t,n,r,o){var h=Cn();ke.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Wu(t,n,r,o){var h=Pt();o=o===void 0?null:o;var f=h.memoizedState.inst;yt!==null&&o!==null&&yf(o,yt.memoizedState.deps)?h.memoizedState=Fa(n,f,r,o):(ke.flags|=t,h.memoizedState=Fa(1|n,f,r,o))}function Np(t,n){Ju(8390656,8,t,n)}function Cf(t,n){Wu(2048,8,t,n)}function IT(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Xu(),ke.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dp(t){var n=Pt().memoizedState;return IT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Op(t,n){return Wu(4,2,t,n)}function Mp(t,n){return Wu(4,4,t,n)}function Vp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,r){r=r!=null?r.concat([t]):null,Wu(4,4,Vp.bind(null,n,t),r)}function xf(){}function Up(t,n){var r=Pt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Lp(t,n){var r=Pt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=t(),sa){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[o,n],o}function If(t,n,r){return r===void 0||(hs&1073741824)!==0&&(Fe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Py(),ke.lanes|=t,tr|=t,r)}function Pp(t,n,r,o){return Gn(r,n)?r:qa.current!==null?(t=If(t,r,o),Gn(t,n)||(Kt=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(Fe&261930)===0?(Kt=!0,t.memoizedState=r):(t=Py(),ke.lanes|=t,tr|=t,n)}function jp(t,n,r,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,Of(t,!1,n,r);try{var x=h(),j=F.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=ST(x,o);ul(t,n,Q,$n(t))}else ul(t,n,o,$n(t))}catch(X){ul(t,n,{then:function(){},status:"rejected",reason:X},$n())}finally{ae.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function NT(){}function Nf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=zp(t).queue;jp(t,h,n,me,r===null?NT:function(){return Bp(t),r(o)})}function zp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bp(t){var n=zp(t);n.next===null&&(n=t.alternate.memoizedState),ul(t,n.next.queue,{},$n())}function Df(){return fn(Rl)}function qp(){return Pt().memoizedState}function Hp(){return Pt().memoizedState}function DT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=$n();t=Xs(r);var o=$s(n,t,r);o!==null&&(Un(o,n,r),sl(o,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function OT(t,n,r){var o=$n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Fp(n,r):(r=Kh(t,n,r,o),r!==null&&(Un(r,t,o),Yp(r,n,o)))}function Gp(t,n,r){var o=$n();ul(t,n,r,o)}function ul(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Fp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,Gn(T,g))return Vu(t,n,h,0),Et===null&&Mu(),!1}catch{}finally{}if(r=Kh(t,n,h,o),r!==null)return Un(r,t,o),Yp(r,n,o),!0}return!1}function Of(t,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(n)throw Error(a(479))}else n=Kh(t,r,o,2),n!==null&&Un(n,t,2)}function ec(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function Fp(t,n){Ha=Qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Yp(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Do(t,r)}}var cl={readContext:fn,use:$u,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};cl.useEffectEvent=Mt;var Qp={readContext:fn,use:$u,useCallback:function(t,n){return Cn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:Np,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,Vp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=Cn();n=n===void 0?null:n;var o=t();if(sa){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Cn();if(r!==void 0){var h=r(n);if(sa){_n(!0);try{r(n)}finally{_n(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=OT.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var n=Cn();return t={current:t},n.memoizedState=t},useState:function(t){t=wf(t);var n=t.queue,r=Gp.bind(null,ke,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=Cn();return If(r,t,n)},useTransition:function(){var t=wf(!1);return t=jp.bind(null,ke,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=ke,h=Cn();if(Ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Et===null)throw Error(a(349));(Fe&127)!==0||mp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Np(pp.bind(null,o,f,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},gp.bind(null,o,f,r,n),null),r},useId:function(){var t=Cn(),n=Et.identifierPrefix;if(Ze){var r=Gi,o=Hi;r=(o&~(1<<32-$e(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ku++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=wT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:wp,useActionState:wp,useOptimistic:function(t){var n=Cn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,ke,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return Cn().memoizedState=DT.bind(null,ke)},useEffectEvent:function(t){var n=Cn(),r={impl:t};return n.memoizedState=r,function(){if((st&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:fn,use:$u,useCallback:Up,useContext:fn,useEffect:Cf,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Lp,useReducer:Zu,useRef:Ip,useState:function(){return Zu(fs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Pt();return Pp(r,yt.memoizedState,t,n)},useTransition:function(){var t=Zu(fs)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Df,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=Pt();return vp(r,yt,t,n)},useMemoCache:bf,useCacheRefresh:Hp};Mf.useEffectEvent=Dp;var Kp={readContext:fn,use:$u,useCallback:Up,useContext:fn,useEffect:Cf,useImperativeHandle:kp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Lp,useReducer:Sf,useRef:Ip,useState:function(){return Sf(fs)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Pt();return yt===null?If(r,t,n):Pp(r,yt.memoizedState,t,n)},useTransition:function(){var t=Sf(fs)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:ll(t),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Df,useFormState:xp,useActionState:xp,useOptimistic:function(t,n){var r=Pt();return yt!==null?vp(r,yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Hp};Kp.useEffectEvent=Dp;function Vf(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=$n(),h=Xs(o);h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,o),n!==null&&(Un(n,t,o),sl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=$n(),h=Xs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,o),n!==null&&(Un(n,t,o),sl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=$n(),o=Xs(r);o.tag=2,n!=null&&(o.callback=n),n=$s(t,o,r),n!==null&&(Un(n,t,r),sl(n,t,r))}};function Xp(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!$o(r,o)||!$o(h,f):!0}function $p(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&kf.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zp(t){Ou(t)}function Jp(t){console.error(t)}function Wp(t){Ou(t)}function tc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){tc(t,n)},r}function ty(t){return t=Xs(t),t.tag=3,t}function ny(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ey(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ey(n,r,o),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function MT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=Yn.current,r!==null){switch(r.tag){case 31:case 13:return ui===null?dc():r.alternate===null&&Vt===0&&(Vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(t,o,h)),!1;case 22:return r.flags|=65536,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(t,o,h)),!1}throw Error(a(435,r.tag))}return od(t,o,h),dc(),!1}if(Ze)return n=Yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(t=Error(a(422),{cause:o}),Wo(ri(t,r)))):(o!==ef&&(n=Error(a(423),{cause:o}),Wo(ri(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,r),h=Uf(t.stateNode,o,h),ff(t,h),Vt!==4&&(Vt=2)),!1;var f=Error(a(520),{cause:o});if(f=ri(f,r),_l===null?_l=[f]:_l.push(f),Vt!==4&&(Vt=2),n===null)return!0;o=ri(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Uf(r.stateNode,o,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ty(h),ny(h,t,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Kt=!1;function dn(t,n,r,o){n.child=t===null?ap(n,null,r,o):ia(n,t.child,r,o)}function iy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Wr(n),o=_f(t,n,r,g,f,h),T=vf(),t!==null&&!Kt?(Ef(t,n,h),ds(t,n,h)):(Ze&&T&&Jh(n),n.flags|=1,dn(t,n,o,h),n.child)}function sy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ry(t,n,f,o,h)):(t=Uu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:$o,r(g,o)&&t.ref===n.ref)return ds(t,n,h)}return n.flags|=1,t=os(f,o),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if($o(f,o)&&t.ref===n.ref)if(Kt=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(Kt=!0);else return n.lanes=t.lanes,ds(t,n,h)}return Pf(t,n,r,o,h)}function ay(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,f!==null?f.cachePool:null),f!==null?up(n,f):mf(),cp(n);else return o=n.lanes=536870912,oy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(zu(n,f.cachePool),up(n,f),Js(),n.memoizedState=null):(t!==null&&zu(n,null),mf(),Js());return dn(t,n,h,r),n.child}function hl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(t,n,r,o,h){var f=lf();return f=f===null?null:{parent:Yt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&zu(n,null),mf(),cp(n),t!==null&&La(t,n,o,!0),n.childLanes=h,null}function nc(t,n){return n=sc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ly(t,n,r){return ia(n,t.child,null,r),t=nc(n,n.pendingProps),t.flags|=2,Qn(n),n.memoizedState=null,t}function VT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(o.mode==="hidden")return t=nc(n,o),n.lanes=536870912,hl(null,t);if(pf(n),(t=St)?(t=E_(t,li),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},r=Fg(t),r.return=n,n.child=r,hn=n,St=null)):t=null,t===null)throw Ys(n);return n.lanes=536870912,null}return nc(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ly(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Kt||La(t,n,r,!1),h=(r&t.childLanes)!==0,Kt||h){if(o=Et,o!==null&&(g=Oo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Xr(t,g),Un(o,t,g),Lf;dc(),n=ly(t,n,r)}else t=f.treeContext,St=ci(g.nextSibling),hn=n,Ze=!0,Fs=null,li=!1,t!==null&&Kg(n,t),n=nc(n,o),n.flags|=4096;return n}return t=os(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ic(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,o,h){return Wr(n),r=_f(t,n,r,o,void 0,h),o=vf(),t!==null&&!Kt?(Ef(t,n,h),ds(t,n,h)):(Ze&&o&&Jh(n),n.flags|=1,dn(t,n,r,h),n.child)}function uy(t,n,r,o,h,f){return Wr(n),n.updateQueue=null,r=fp(n,o,r,h),hp(t),o=vf(),t!==null&&!Kt?(Ef(t,n,f),ds(t,n,f)):(Ze&&o&&Jh(n),n.flags|=1,dn(t,n,r,f),n.child)}function cy(t,n,r,o,h){if(Wr(n),n.stateNode===null){var f=Ma,g=r.contextType;typeof g=="object"&&g!==null&&(f=fn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?fn(g):Ma,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&kf.enqueueReplaceState(f,f.state,null),al(n,o,f,h),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,x=ra(r,T);f.props=x;var j=f.context,Q=r.contextType;g=Ma,typeof Q=="object"&&Q!==null&&(g=fn(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&$p(n,f,o,g),Ks=!1;var z=n.memoizedState;f.state=z,al(n,o,f,h),rl(),j=n.memoizedState,T||z!==j||Ks?(typeof X=="function"&&(Vf(n,r,X,o),j=n.memoizedState),(x=Ks||Xp(n,r,x,o,z,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(t,n),g=n.memoizedProps,Q=ra(r,g),f.props=Q,X=n.pendingProps,z=f.context,j=r.contextType,x=Ma,typeof j=="object"&&j!==null&&(x=fn(j)),T=r.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==x)&&$p(n,f,o,x),Ks=!1,z=n.memoizedState,f.state=z,al(n,o,f,h),rl();var q=n.memoizedState;g!==X||z!==q||Ks||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof T=="function"&&(Vf(n,r,T,o),q=n.memoizedState),(Q=Ks||Xp(n,r,Q,o,z,q,x)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=ia(n,t.child,null,h),n.child=ia(n,null,r,h)):dn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ds(t,n,h),t}function hy(t,n,r,o){return Zr(),n.flags|=256,dn(t,n,r,o),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:ep()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Xn),t}function fy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Zs(n):Js(),(t=St)?(t=E_(t,li),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},r=Fg(t),r.return=n,n.child=r,hn=n,St=null)):t=null,t===null)throw Ys(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Js(),h=n.mode,T=sc({mode:"hidden",children:T},h),o=$r(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,g,r),n.memoizedState=jf,hl(null,o)):(Zs(n),qf(n,T))}var x=t.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(Zs(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(Js(),n.child=t.child,n.flags|=128,n=null):(Js(),T=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),T=$r(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,ia(n,t.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(t,g,r),n.memoizedState=jf,n=hl(null,o));else if(Zs(n),Ad(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Wo({value:o,source:null,stack:null}),n=Hf(t,n,r)}else if(Kt||La(t,n,r,!1),g=(r&t.childLanes)!==0,Kt||g){if(g=Et,g!==null&&(o=Oo(g,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Xr(t,o),Un(g,t,o),Lf;bd(T)||dc(),n=Hf(t,n,r)}else bd(T)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,St=ci(T.nextSibling),hn=n,Ze=!0,Fs=null,li=!1,t!==null&&Kg(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Js(),T=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=os(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=os(j,T):(T=$r(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,hl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=zf(r):(h=T.cachePool,h!==null?(x=Yt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ep(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Bf(t,g,r),n.memoizedState=jf,hl(t.child,o)):(Zs(n),r=t.child,t=r.sibling,r=os(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=sc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sc(t,n){return t=Fn(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return ia(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function my(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Lt.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,ne(Lt,g),dn(t,n,o,r),o=Ze?Jo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,r,n);else if(t.tag===19)dy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Yu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ds(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=os(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=os(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function kT(t,n,r){switch(n.tag){case 3:kt(n,n.stateNode.containerInfo),Qs(n,Yt,t.memoizedState.cache),Zr();break;case 27:case 5:Jn(n);break;case 4:kt(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(t,n,r):(Zs(n),t=ds(t,n,r),t!==null?t.sibling:null);Zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(La(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return my(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(Lt,Lt.current),o)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:Qs(n,Yt,t.memoizedState.cache)}return ds(t,n,r)}function gy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Kt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Kt=!1,kT(t,n,r);Kt=(t.flags&131072)!==0}else Kt=!1,Ze&&(n.flags&1048576)!==0&&Qg(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ta(n.elementType),n.type=t,typeof t=="function")Xh(t)?(o=ra(t,o),n.tag=1,n=cy(null,n,t,o,r)):(n.tag=0,n=Pf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===at){n.tag=11,n=iy(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=sy(null,n,t,o,r);break e}}throw n=ut(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ra(o,n.pendingProps),cy(t,n,o,h,r);case 3:e:{if(kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),al(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Qs(n,Yt,o),o!==f.cache&&rf(n,[Yt],r,!0),rl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(t,n,o,r);break e}else if(o!==h){h=ri(Error(a(424)),n),Wo(h),n=hy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ci(t.firstChild),hn=n,Ze=!0,Fs=null,li=!0,r=ap(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Zr(),o===h){n=ds(t,n,r);break e}dn(t,n,o,r)}n=n.child}return n;case 26:return ic(t,n),t===null?(r=R_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ze||(r=n.type,t=n.pendingProps,o=Ec(De.current).createElement(r),o[Ht]=n,o[an]=t,mn(o,r,t),Gt(o),n.stateNode=o):n.memoizedState=R_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Jn(n),t===null&&Ze&&(o=n.stateNode=A_(n.type,n.pendingProps,De.current),hn=n,li=!0,h=St,ar(n.type)?(Sd=h,St=ci(o.firstChild)):St=h),dn(t,n,n.pendingProps.children,r),ic(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=o=St)&&(o=hb(o,n.type,n.pendingProps,li),o!==null?(n.stateNode=o,hn=n,St=ci(o.firstChild),li=!1,h=!0):h=!1),h||Ys(n)),Jn(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,vd(h,f)?o=null:g!==null&&vd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,RT,null,null,r),Rl._currentValue=h),ic(t,n),dn(t,n,o,r),n.child;case 6:return t===null&&Ze&&((t=r=St)&&(r=fb(r,n.pendingProps,li),r!==null?(n.stateNode=r,hn=n,St=null,t=!0):t=!1),t||Ys(n)),null;case 13:return fy(t,n,r);case 4:return kt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ia(n,null,o,r):dn(t,n,o,r),n.child;case 11:return iy(t,n,n.type,n.pendingProps,r);case 7:return dn(t,n,n.pendingProps,r),n.child;case 8:return dn(t,n,n.pendingProps.children,r),n.child;case 12:return dn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Qs(n,n.type,o.value),dn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Wr(n),h=fn(h),o=o(h),n.flags|=1,dn(t,n,o,r),n.child;case 14:return sy(t,n,n.type,n.pendingProps,r);case 15:return ry(t,n,n.type,n.pendingProps,r);case 19:return my(t,n,r);case 31:return VT(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return Wr(n),o=fn(Yt),t===null?(h=lf(),h===null&&(h=Et,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),Qs(n,Yt,h)):((t.lanes&r)!==0&&(hf(t,n),al(n,null,null,r),rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,Yt,o)):(o=f.cache,Qs(n,Yt,o),o!==h.cache&&rf(n,[Yt],r,!0))),dn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ms(t){t.flags|=4}function Yf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qy())t.flags|=8192;else throw na=qu,uf}else t.flags&=-16777217}function py(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(n))if(qy())t.flags|=8192;else throw na=qu,uf}function rc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ii():536870912,t.lanes|=n,Xa|=n)}function fl(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function UT(t,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),cs(Yt),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?ms(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ms(n),f!==null?(wt(n),py(n,f)):(wt(n),Yf(n,h,null,o,r))):f?f!==t.memoizedState?(ms(n),wt(n),py(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ms(n),wt(n),Yf(n,h,t,o,r)),null;case 27:if(Ms(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ms(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=le.current,Ua(n)?Xg(n):(t=A_(h,o,r),n.stateNode=t,ms(n))}return wt(n),null;case 5:if(Ms(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ms(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(f=le.current,Ua(n))Xg(n);else{var g=Ec(De.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ht]=n,f[an]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(mn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ms(n)}}return wt(n),Yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ms(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Ua(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=hn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ht]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||f_(t.nodeValue,r)),t||Ys(n,!0)}else t=Ec(t).createTextNode(o),t[Ht]=n,n.stateNode=t}return wt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ua(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ht]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Qn(n),n):(Qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ht]=n}else Zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Qn(n),n):(Qn(n),null)}return Qn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),wt(n),null);case 4:return ct(),t===null&&md(n.stateNode.containerInfo),wt(n),null;case 10:return cs(n.type),wt(n),null;case 19:if(H(Lt),o=n.memoizedState,o===null)return wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,fl(o,!1),t=f.updateQueue,n.updateQueue=t,rc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Gg(r,t),r=r.sibling;return ne(Lt,Lt.current&1|2),Ze&&ls(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&se()>cc&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,rc(n,t),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ze)return wt(n),null}else 2*se()-o.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=se(),t.sibling=null,r=Lt.current,ne(Lt,h?r&1|2:r&1),Ze&&ls(n,o.treeForkCount),t):(wt(n),null);case 22:case 23:return Qn(n),gf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&H(ea),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),cs(Yt),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function LT(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return cs(Yt),ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ms(n),null;case 31:if(n.memoizedState!==null){if(Qn(n),n.alternate===null)throw Error(a(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return H(Lt),null;case 4:return ct(),null;case 10:return cs(n.type),null;case 22:case 23:return Qn(n),gf(),t!==null&&H(ea),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return cs(Yt),null;case 25:return null;default:return null}}function yy(t,n){switch(Wh(n),n.tag){case 3:cs(Yt),ct();break;case 26:case 27:case 5:Ms(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&Qn(n);break;case 13:Qn(n);break;case 19:H(Lt);break;case 10:cs(n.type);break;case 22:case 23:Qn(n),gf(),t!==null&&H(ea);break;case 24:cs(Yt)}}function dl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){dt(n,n.return,T)}}function Ws(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var x=r,j=T;try{j()}catch(Q){dt(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){dt(n,n.return,Q)}}function _y(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{lp(n,r)}catch(o){dt(t,t.return,o)}}}function vy(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){dt(t,n,o)}}function ml(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){dt(t,n,h)}}function Fi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){dt(t,n,h)}else r.current=null}function Ey(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){dt(t,t.return,h)}}function Qf(t,n,r){try{var o=t.stateNode;rb(o,t.type,r,n),o[an]=n}catch(h){dt(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yi));else if(o!==4&&(o===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function ac(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ac(t,n,r),t=t.sibling;t!==null;)ac(t,n,r),t=t.sibling}function by(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,o,r),n[Ht]=t,n[an]=r}catch(f){dt(t,t.return,f)}}var gs=!1,Xt=!1,$f=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,ln=null;function PT(t,n){if(t=t.containerInfo,yd=Cc,t=kg(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,x=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(x=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===t)break t;if(z===r&&++j===h&&(T=g),z===f&&++Q===o&&(x=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}r=T===-1||x===-1?null:{start:T,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Cc=!1,ln=n;ln!==null;)if(n=ln,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ln=t;else for(;ln!==null;){switch(n=ln,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ce=ra(r.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){dt(r,r.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Td(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Td(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ln=t;break}ln=n.return}}function Sy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ys(t,r),o&4&&dl(5,r);break;case 1:if(ys(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){dt(r,r.return,g)}else{var h=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){dt(r,r.return,g)}}o&64&&_y(r),o&512&&ml(r,r.return);break;case 3:if(ys(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{lp(t,n)}catch(g){dt(r,r.return,g)}}break;case 27:n===null&&o&4&&by(r);case 26:case 5:ys(t,r),n===null&&o&4&&Ey(r),o&512&&ml(r,r.return);break;case 12:ys(t,r);break;case 31:ys(t,r),o&4&&Cy(t,r);break;case 13:ys(t,r),o&4&&xy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QT.bind(null,r),db(t,r))));break;case 22:if(o=r.memoizedState!==null||gs,!o){n=n!==null&&n.memoizedState!==null||Xt,h=gs;var f=Xt;gs=o,(Xt=n)&&!f?_s(t,r,(r.subtreeFlags&8772)!==0):ys(t,r),gs=h,Xt=f}break;case 30:break;default:ys(t,r)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nt=null,On=!1;function ps(t,n,r){for(r=r.child;r!==null;)Ry(t,n,r),r=r.sibling}function Ry(t,n,r){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Be,r)}catch{}switch(r.tag){case 26:Xt||Fi(r,n),ps(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Xt||Fi(r,n);var o=Nt,h=On;ar(r.type)&&(Nt=r.stateNode,On=!1),ps(t,n,r),Al(r.stateNode),Nt=o,On=h;break;case 5:Xt||Fi(r,n);case 6:if(o=Nt,h=On,Nt=null,ps(t,n,r),Nt=o,On=h,Nt!==null)if(On)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(r.stateNode)}catch(f){dt(r,n,f)}else try{Nt.removeChild(r.stateNode)}catch(f){dt(r,n,f)}break;case 18:Nt!==null&&(On?(t=Nt,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),io(t)):__(Nt,r.stateNode));break;case 4:o=Nt,h=On,Nt=r.stateNode.containerInfo,On=!0,ps(t,n,r),Nt=o,On=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Xt||Ws(4,r,n),ps(t,n,r);break;case 1:Xt||(Fi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&vy(r,n,o)),ps(t,n,r);break;case 21:ps(t,n,r);break;case 22:Xt=(o=Xt)||r.memoizedState!==null,ps(t,n,r),Xt=o;break;default:ps(t,n,r)}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(r){dt(n,n.return,r)}}}function xy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(r){dt(n,n.return,r)}}function jT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=jT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=KT.bind(null,t,o);o.then(h,h)}})}function Mn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){Nt=T.stateNode,On=!1;break e}break;case 5:Nt=T.stateNode,On=!1;break e;case 3:case 4:Nt=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(Nt===null)throw Error(a(160));Ry(f,g,h),Nt=null,On=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,t),n=n.sibling}var Ai=null;function Iy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Vn(t),o&4&&(Ws(3,t,t.return),dl(3,t),Ws(5,t,t.return));break;case 1:Mn(n,t),Vn(t),o&512&&(Xt||r===null||Fi(r,r.return)),o&64&&gs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Ai;if(Mn(n,t),Vn(t),o&512&&(Xt||r===null||Fi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Di]||f[Ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),mn(f,o,r),f[Ht]=t,Gt(f),o=f;break e;case"link":var g=I_("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=I_("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ht]=t,Gt(f),o=f}t.stateNode=o}else N_(h,t.type,t.stateNode);else t.stateNode=x_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?N_(h,t.type,t.stateNode):x_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Mn(n,t),Vn(t),o&512&&(Xt||r===null||Fi(r,r.return)),r!==null&&o&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Mn(n,t),Vn(t),o&512&&(Xt||r===null||Fi(r,r.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(ce){dt(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(Mn(n,t),Vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ce){dt(t,t.return,ce)}}break;case 3:if(Ac=null,h=Ai,Ai=Tc(n.containerInfo),Mn(n,t),Ai=h,Vn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(ce){dt(t,t.return,ce)}$f&&($f=!1,Ny(t));break;case 4:o=Ai,Ai=Tc(t.stateNode.containerInfo),Mn(n,t),Vn(t),Ai=o;break;case 12:Mn(n,t),Vn(t);break;case 31:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 13:Mn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=se()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=gs,Q=Xt;if(gs=j||h,Xt=Q||x,Mn(n,t),Xt=Q,gs=j,Vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||gs||Xt||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){dt(x,x.return,ce)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ce){dt(x,x.return,ce)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?v_(q,!0):v_(x.stateNode,!1)}catch(ce){dt(x,x.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,oc(t,r))));break;case 19:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,oc(t,o)));break;case 30:break;case 21:break;default:Mn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Ty(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(t);ac(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Dn(g,""),r.flags&=-33);var T=Kf(t);ac(t,T,g);break;case 3:case 4:var x=r.stateNode.containerInfo,j=Kf(t);Xf(t,j,x);break;default:throw Error(a(161))}}catch(Q){dt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ys(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),aa(n);break;case 1:Fi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vy(n,n.return,r),aa(n);break;case 27:Al(n.stateNode);case 26:case 5:Fi(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function _s(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,r),dl(4,f);break;case 1:if(_s(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){dt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)op(x[h],T)}catch(j){dt(o,o.return,j)}}r&&g&64&&_y(f),ml(f,f.return);break;case 27:by(f);case 26:case 5:_s(h,f,r),r&&o===null&&g&4&&Ey(f),ml(f,f.return);break;case 12:_s(h,f,r);break;case 31:_s(h,f,r),r&&g&4&&Cy(h,f);break;case 13:_s(h,f,r),r&&g&4&&xy(h,f);break;case 22:f.memoizedState===null&&_s(h,f,r),ml(f,f.return);break;case 30:break;default:_s(h,f,r)}n=n.sibling}}function Zf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function Jf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function Si(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,o),n=n.sibling}function Dy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Si(t,n,r,o),h&2048&&dl(9,n);break;case 1:Si(t,n,r,o);break;case 3:Si(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Si(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){dt(n,n.return,x)}}else Si(t,n,r,o);break;case 31:Si(t,n,r,o);break;case 13:Si(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Si(t,n,r,o):gl(t,n):f._visibility&2?Si(t,n,r,o):(f._visibility|=2,Ya(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(g,n);break;case 24:Si(t,n,r,o),h&2048&&Jf(n.alternate,n);break;default:Si(t,n,r,o)}}function Ya(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ya(f,g,T,x,h),dl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ya(f,g,T,x,h):gl(f,g):(Q._visibility|=2,Ya(f,g,T,x,h)),h&&j&2048&&Zf(g.alternate,g);break;case 24:Ya(f,g,T,x,h),h&&j&2048&&Jf(g.alternate,g);break;default:Ya(f,g,T,x,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:gl(r,o),h&2048&&Zf(o.alternate,o);break;case 24:gl(r,o),h&2048&&Jf(o.alternate,o);break;default:gl(r,o)}n=n.sibling}}var pl=8192;function Qa(t,n,r){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Oy(t,n,r),t=t.sibling}function Oy(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&pl&&t.memoizedState!==null&&wb(r,Ai,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var o=Ai;Ai=Tc(t.stateNode.containerInfo),Qa(t,n,r),Ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Qa(t,n,r),pl=o):Qa(t,n,r));break;default:Qa(t,n,r)}}function My(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ln=o,ky(o,t)}My(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lc(t)):yl(t);break;default:yl(t)}}function lc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ln=o,ky(o,t)}My(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}t=t.sibling}}function ky(t,n){for(;ln!==null;){var r=ln;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:el(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ln=o;else e:for(r=t;ln!==null;){o=ln;var h=o.sibling,f=o.return;if(wy(o),o===r){ln=null;break e}if(h!==null){h.return=f,ln=h;break e}ln=f}}}var zT={getCacheForType:function(t){var n=fn(Yt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return fn(Yt).controller.signal}},BT=typeof WeakMap=="function"?WeakMap:Map,st=0,Et=null,qe=null,Fe=0,ft=0,Kn=null,er=!1,Ka=!1,Wf=!1,vs=0,Vt=0,tr=0,oa=0,ed=0,Xn=0,Xa=0,_l=null,kn=null,td=!1,uc=0,Uy=0,cc=1/0,hc=null,nr=null,tn=0,ir=null,$a=null,Es=0,nd=0,id=null,Ly=null,vl=0,sd=null;function $n(){return(st&2)!==0&&Fe!==0?Fe&-Fe:F.T!==null?cd():fu()}function Py(){if(Xn===0)if((Fe&536870912)===0||Ze){var t=be;be<<=1,(be&3932160)===0&&(be=262144),Xn=t}else Xn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Xn}function Un(t,n,r){(t===Et&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Za(t,0),sr(t,Fe,Xn,!1)),kr(t,r),((st&2)===0||t!==Et)&&(t===Et&&((st&2)===0&&(oa|=r),Vt===4&&sr(t,Fe,Xn,!1)),Yi(t))}function jy(t,n,r){if((st&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=o?GT(t,n):ad(t,n,!0),f=o;do{if(h===0){Ka&&!o&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!qT(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=_l;var x=T.current.memoizedState.isDehydrated;if(x&&(Za(T,g).flags|=256),g=ad(T,g,!1),g!==2){if(Wf&&!x){T.errorRecoveryDisabledLanes|=f,oa|=f,h=4;break e}f=kn,kn=h,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),sr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(o,n,Xn,!er);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-se(),10<h)){if(sr(o,n,Xn,!er),vn(o,0,!0)!==0)break e;Es=n,o.timeoutHandle=p_(zy.bind(null,o,r,kn,hc,td,n,Xn,oa,Xa,er,f,"Throttled",-0,0),h);break e}zy(o,r,kn,hc,td,n,Xn,oa,Xa,er,f,null,-0,0)}}break}while(!0);Yi(t)}function zy(t,n,r,o,h,f,g,T,x,j,Q,X,z,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},Oy(n,f,X);var ce=(f&62914560)===f?uc-se():(f&4194048)===f?Uy-se():0;if(ce=Rb(X,ce),ce!==null){Es=f,t.cancelPendingCommit=ce(Ky.bind(null,t,n,f,r,o,h,g,T,x,Q,X,null,z,q)),sr(t,f,g,!j);return}}Ky(t,n,f,r,o,h,g,T,x)}function qT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,o){n&=~ed,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-$e(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Ur(t,r,n)}function fc(){return(st&6)===0?(El(0),!1):!0}function rd(){if(qe!==null){if(ft===0)var t=qe.return;else t=qe,us=Jr=null,Tf(t),Ba=null,nl=0,t=qe;for(;t!==null;)yy(t.alternate,t),t=t.return;qe=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,lb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Es=0,rd(),Et=t,qe=r=os(t.current,null),Fe=n,ft=0,Kn=null,er=!1,Ka=Bn(t,n),Wf=!1,Xa=Xn=ed=oa=tr=Vt=0,kn=_l=null,td=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-$e(o),f=1<<h;n|=t[h],o&=~f}return vs=n,Mu(),r}function By(t,n){ke=null,F.H=cl,n===za||n===Bu?(n=ip(),ft=3):n===uf?(n=ip(),ft=4):ft=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Kn=n,qe===null&&(Vt=1,tc(t,ri(n,t.current)))}function qy(){var t=Yn.current;return t===null?!0:(Fe&4194048)===Fe?ui===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?t===ui:!1}function Hy(){var t=F.H;return F.H=cl,t===null?cl:t}function Gy(){var t=F.A;return F.A=zT,t}function dc(){Vt=4,er||(Fe&4194048)!==Fe&&Yn.current!==null||(Ka=!0),(tr&134217727)===0&&(oa&134217727)===0||Et===null||sr(Et,Fe,Xn,!1)}function ad(t,n,r){var o=st;st|=2;var h=Hy(),f=Gy();(Et!==t||Fe!==n)&&(hc=null,Za(t,n)),n=!1;var g=Vt;e:do try{if(ft!==0&&qe!==null){var T=qe,x=Kn;switch(ft){case 8:rd(),g=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(n=!0);var j=ft;if(ft=0,Kn=null,Ja(t,T,x,j),r&&Ka){g=0;break e}break;default:j=ft,ft=0,Kn=null,Ja(t,T,x,j)}}HT(),g=Vt;break}catch(Q){By(t,Q)}while(!0);return n&&t.shellSuspendCounter++,us=Jr=null,st=o,F.H=h,F.A=f,qe===null&&(Et=null,Fe=0,Mu()),g}function HT(){for(;qe!==null;)Fy(qe)}function GT(t,n){var r=st;st|=2;var o=Hy(),h=Gy();Et!==t||Fe!==n?(hc=null,cc=se()+500,Za(t,n)):Ka=Bn(t,n);e:do try{if(ft!==0&&qe!==null){n=qe;var f=Kn;t:switch(ft){case 1:ft=0,Kn=null,Ja(t,n,f,1);break;case 2:case 9:if(tp(f)){ft=0,Kn=null,Yy(n);break}n=function(){ft!==2&&ft!==9||Et!==t||(ft=7),Yi(t)},f.then(n,n);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:tp(f)?(ft=0,Kn=null,Yy(n)):(ft=0,Kn=null,Ja(t,n,f,7));break;case 5:var g=null;switch(qe.tag){case 26:g=qe.memoizedState;case 5:case 27:var T=qe;if(g?D_(g):T.stateNode.complete){ft=0,Kn=null;var x=T.sibling;if(x!==null)qe=x;else{var j=T.return;j!==null?(qe=j,mc(j)):qe=null}break t}}ft=0,Kn=null,Ja(t,n,f,5);break;case 6:ft=0,Kn=null,Ja(t,n,f,6);break;case 8:rd(),Vt=6;break e;default:throw Error(a(462))}}FT();break}catch(Q){By(t,Q)}while(!0);return us=Jr=null,F.H=o,F.A=h,st=r,qe!==null?0:(Et=null,Fe=0,Mu(),Vt)}function FT(){for(;qe!==null&&!te();)Fy(qe)}function Fy(t){var n=gy(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?mc(t):qe=n}function Yy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:Tf(n);default:yy(r,n),n=qe=Gg(n,vs),n=gy(r,n,vs)}t.memoizedProps=t.pendingProps,n===null?mc(t):qe=n}function Ja(t,n,r,o){us=Jr=null,Tf(n),Ba=null,nl=0;var h=n.return;try{if(MT(t,h,n,r,Fe)){Vt=1,tc(t,ri(r,t.current)),qe=null;return}}catch(f){if(h!==null)throw qe=h,f;Vt=1,tc(t,ri(r,t.current)),qe=null;return}n.flags&32768?(Ze||o===1?t=!0:Ka||(Fe&536870912)!==0?t=!1:(er=t=!0,(o===2||o===9||o===3||o===6)&&(o=Yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,t)):mc(n)}function mc(t){var n=t;do{if((n.flags&32768)!==0){Qy(n,er);return}t=n.return;var r=UT(n.alternate,n,vs);if(r!==null){qe=r;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);Vt===0&&(Vt=5)}function Qy(t,n){do{var r=LT(t.alternate,t);if(r!==null){r.flags&=32767,qe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=r}while(t!==null);Vt=6,qe=null}function Ky(t,n,r,o,h,f,g,T,x){t.cancelPendingCommit=null;do gc();while(tn!==0);if((st&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Ph(t,r,f,g,T,x),t===Et&&(qe=Et=null,Fe=0),$a=n,ir=t,Es=r,nd=f,id=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XT(je,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ae.p,ae.p=2,g=st,st|=4;try{PT(t,n,r)}finally{st=g,ae.p=h,F.T=o}}tn=1,Xy(),$y(),Zy()}}function Xy(){if(tn===1){tn=0;var t=ir,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=ae.p;ae.p=2;var h=st;st|=4;try{Iy(n,t);var f=_d,g=kg(t.containerInfo),T=f.focusedElem,x=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Vg(T.ownerDocument.documentElement,T)){if(x!==null&&qh(T)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ce=T.textContent.length,Ae=Math.min(x.start,ce),vt=x.end===void 0?Ae:Math.min(x.end,ce);!q.extend&&Ae>vt&&(g=vt,vt=Ae,Ae=g);var k=Mg(T,Ae),D=Mg(T,vt);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),Ae>vt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Cc=!!yd,_d=yd=null}finally{st=h,ae.p=o,F.T=r}}t.current=n,tn=2}}function $y(){if(tn===2){tn=0;var t=ir,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=ae.p;ae.p=2;var h=st;st|=4;try{Sy(t,n.alternate,n)}finally{st=h,ae.p=o,F.T=r}}tn=3}}function Zy(){if(tn===4||tn===3){tn=0,J();var t=ir,n=$a,r=Es,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,$a=ir=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),is(r),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Be,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,ae.p=h}}(Es&3)!==0&&gc(),Yi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?vl++:(vl=0,sd=t):vl=0,El(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function gc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(tn!==5)return!1;var t=ir,n=nd;nd=0;var r=is(Es),o=F.T,h=ae.p;try{ae.p=32>r?32:r,F.T=null,r=id,id=null;var f=ir,g=Es;if(tn=0,$a=ir=null,Es=0,(st&6)!==0)throw Error(a(331));var T=st;if(st|=4,Vy(f.current),Dy(f,f.current,g,r),st=T,El(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Be,f)}catch{}return!0}finally{ae.p=h,F.T=o,Jy(t,n)}}function e_(t,n,r){n=ri(r,n),n=Uf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(kr(t,2),Yi(t))}function dt(t,n,r){if(t.tag===3)e_(t,t,r);else for(;n!==null;){if(n.tag===3){e_(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){t=ri(r,t),r=ty(2),o=$s(n,r,2),o!==null&&(ny(r,o,n,t),kr(o,2),Yi(o));break}}n=n.return}}function od(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new BT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=YT.bind(null,t,n,r),n.then(t,t))}function YT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Et===t&&(Fe&r)===r&&(Vt===4||Vt===3&&(Fe&62914560)===Fe&&300>se()-uc?(st&2)===0&&Za(t,0):ed|=r,Xa===Fe&&(Xa=0)),Yi(t)}function t_(t,n){n===0&&(n=Ii()),t=Xr(t,n),t!==null&&(kr(t,n),Yi(t))}function QT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),t_(t,r)}function KT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),t_(t,r)}function XT(t,n){return At(t,n)}var pc=null,Wa=null,ld=!1,yc=!1,ud=!1,rr=0;function Yi(t){t!==Wa&&t.next===null&&(Wa===null?pc=Wa=t:Wa=Wa.next=t),yc=!0,ld||(ld=!0,ZT())}function El(t,n){if(!ud&&yc){ud=!0;do for(var r=!1,o=pc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-$e(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,r_(o,f))}else f=Fe,f=vn(o,o===Et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(r=!0,r_(o,f));o=o.next}while(r);ud=!1}}function $T(){n_()}function n_(){yc=ld=!1;var t=0;rr!==0&&ob()&&(t=rr);for(var n=se(),r=null,o=pc;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,r===null?pc=h:r.next=h,h===null&&(Wa=r)):(r=o,(t!==0||(f&3)!==0)&&(yc=!0)),o=h}tn!==0&&tn!==5||El(t),rr!==0&&(rr=0)}function i_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-$e(f),T=1<<g,x=h[g];x===-1?((T&r)===0||(T&o)!==0)&&(h[g]=en(T,n)):x<=n&&(t.expiredLanes|=T),f&=~T}if(n=Et,r=Fe,r=vn(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&G(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&G(o),is(r)){case 2:case 8:r=oe;break;case 32:r=je;break;case 268435456:r=xe;break;default:r=je}return o=s_.bind(null,t),r=At(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&G(o),t.callbackPriority=2,t.callbackNode=null,2}function s_(t,n){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var o=Fe;return o=vn(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(jy(t,o,n),i_(t,se()),t.callbackNode!=null&&t.callbackNode===r?s_.bind(null,t):null)}function r_(t,n){if(gc())return null;jy(t,n,!0)}function ZT(){ub(function(){(st&6)!==0?At(Pe,$T):n_()})}function cd(){if(rr===0){var t=Pa;t===0&&(t=he,he<<=1,(he&261888)===0&&(he=256)),rr=t}return rr}function a_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function o_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=a_((h[an]||null).action),g=o.submitter;g&&(n=(n=g[an]||null)?a_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new ji("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rr!==0){var x=g?o_(h,g):new FormData(h);Nf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=g?o_(h,g):new FormData(h),Nf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],WT=fd.toLowerCase(),eb=fd[0].toUpperCase()+fd.slice(1);bi(WT,"on"+eb)}bi(Pg,"onAnimationEnd"),bi(jg,"onAnimationIteration"),bi(zg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(pT,"onTransitionRun"),bi(yT,"onTransitionStart"),bi(_T,"onTransitionCancel"),bi(Bg,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function l_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(T=o[g],x=T.instance,j=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(Q){Ou(Q)}h.currentTarget=null,f=x}}}}function He(t,n){var r=n[_a];r===void 0&&(r=n[_a]=new Set);var o=t+"__bubble";r.has(o)||(u_(n,t,2,!1),r.add(o))}function dd(t,n,r){var o=0;n&&(o|=4),u_(r,t,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[_c]){t[_c]=!0,Mo.forEach(function(r){r!=="selectionchange"&&(tb.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_c]||(n[_c]=!0,dd("selectionchange",!1,n))}}function u_(t,n,r,o){switch(P_(n)){case 2:var h=Ib;break;case 8:h=Nb;break;default:h=Id}r=h.bind(null,n,r,t),h=void 0,!Br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Oi(T),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue e}T=T.parentNode}}o=o.return}zs(function(){var j=f,Q=ti(r),X=[];e:{var z=qg.get(t);if(z!==void 0){var q=ji,ce=t;switch(t){case"keypress":if(Hr(r)===0)break e;case"keydown":case"keyup":q=Iu;break;case"focusin":ce="focus",q=Fr;break;case"focusout":ce="blur",q=Fr;break;case"beforeblur":case"afterblur":q=Fr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Pg:case jg:case zg:q=bu;break;case Bg:q=b;break;case"scroll":case"scrollend":q=Fo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=as;break;case"toggle":case"beforetoggle":q=Ve}var Ae=(n&4)!==0,vt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?z!==null?z+"Capture":null:z;Ae=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=_i(D,k),K!=null&&Ae.push(bl(D,K,P))),vt)break;D=D.return}0<Ae.length&&(z=new q(z,ce,null,r,Q),X.push({event:z,listeners:Ae}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&r!==qo&&(ce=r.relatedTarget||r.fromElement)&&(Oi(ce)||ce[Ni]))break e;if((q||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ce=r.relatedTarget||r.toElement,q=j,ce=ce?Oi(ce):null,ce!==null&&(vt=c(ce),Ae=ce.tag,ce!==vt||Ae!==5&&Ae!==27&&Ae!==6)&&(ce=null)):(q=null,ce=j),q!==ce)){if(Ae=Yo,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=as,K="onPointerLeave",k="onPointerEnter",D="pointer"),vt=q==null?z:qn(q),P=ce==null?z:qn(ce),z=new Ae(K,D+"leave",q,r,Q),z.target=vt,z.relatedTarget=P,K=null,Oi(Q)===j&&(Ae=new Ae(k,D+"enter",ce,r,Q),Ae.target=P,Ae.relatedTarget=vt,K=Ae),vt=K,q&&ce)t:{for(Ae=nb,k=q,D=ce,P=0,K=k;K;K=Ae(K))P++;K=0;for(var _e=D;_e;_e=Ae(_e))K++;for(;0<P-K;)k=Ae(k),P--;for(;0<K-P;)D=Ae(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Ae=k;break t}k=Ae(k),D=Ae(D)}Ae=null}else Ae=null;q!==null&&c_(X,z,q,Ae,!1),ce!==null&&vt!==null&&c_(X,vt,ce,Ae,!0)}}e:{if(z=j?qn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var et=Cg;else if(wg(z))if(xg)et=dT;else{et=hT;var fe=cT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ba(j.elementType)&&(et=Cg):et=fT;if(et&&(et=et(t,j))){Rg(X,et,r,Q);break e}fe&&fe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&jo(z,"number",z.value)}switch(fe=j?qn(j):window,t){case"focusin":(wg(fe)||fe.contentEditable==="true")&&(Na=fe,Hh=j,Zo=null);break;case"focusout":Zo=Hh=Na=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Ug(X,r,Q);break;case"selectionchange":if(gT)break;case"keydown":case"keyup":Ug(X,r,Q)}var Ue;if(it)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ia?Yr(t,r)&&(Ye="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ye="onCompositionStart");Ye&&(qi&&r.locale!=="ko"&&(Ia||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ia&&(Ue=Go()):(Pi=Q,Ho="value"in Pi?Pi.value:Pi.textContent,Ia=!0)),fe=vc(j,Ye),0<fe.length&&(Ye=new Bi(Ye,t,null,r,Q),X.push({event:Ye,listeners:fe}),Ue?Ye.data=Ue:(Ue=xa(r),Ue!==null&&(Ye.data=Ue)))),(Ue=ii?aT(t,r):oT(t,r))&&(Ye=vc(j,"onBeforeInput"),0<Ye.length&&(fe=new Bi("onBeforeInput","beforeinput",null,r,Q),X.push({event:fe,listeners:Ye}),fe.data=Ue)),JT(X,t,j,r,Q)}l_(X,n)})}function bl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_i(t,r),h!=null&&o.unshift(bl(t,h,f)),h=_i(t,n),h!=null&&o.push(bl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=_i(r,f),j!=null&&g.unshift(bl(r,j,x))):h||(j=_i(r,f),j!=null&&g.push(bl(r,j,x)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var ib=/\r\n?/g,sb=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(ib,`
`).replace(sb,"")}function f_(t,n){return n=h_(n),h_(t)===n}function _t(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Dn(t,""+o);break;case"className":Hn(t,"class",o);break;case"tabIndex":Hn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,r,o);break;case"style":Bo(t,o,f);break;case"data":if(n!=="object"){Hn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Aa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&_t(t,n,"name",h.name,h,null),_t(t,n,"formEncType",h.formEncType,h,null),_t(t,n,"formMethod",h.formMethod,h,null),_t(t,n,"formTarget",h.formTarget,h,null)):(_t(t,n,"encType",h.encType,h,null),_t(t,n,"method",h.method,h,null),_t(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Aa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=yi);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":He("beforetoggle",t),He("toggle",t),Ea(t,"popover",o);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,Ea(t,r,o))}}function pd(t,n,r,o,h,f){switch(r){case"style":Bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&Dn(t,""+o);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"onClick":o!=null&&(t.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[an]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Ea(t,r,o)}}}function mn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:_t(t,n,f,g,r,null)}}h&&_t(t,n,"srcSet",r.srcSet,r,null),o&&_t(t,n,"src",r.src,r,null);return;case"input":He("invalid",t);var T=f=g=h=null,x=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:_t(t,n,o,Q,r,null)}}pu(t,f,T,x,j,g,h,!1);return;case"select":He("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:_t(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!o,n!=null?Us(t,!!o,n,!1):r!=null&&Us(t,!!o,r,!0);return;case"textarea":He("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:_t(t,n,g,T,r,null)}Ls(t,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:_t(t,n,x,o,r,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)He(Tl[o],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:_t(t,n,j,o,r,null)}return;default:if(ba(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&pd(t,n,Q,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&_t(t,n,T,o,r,null))}function rb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,x=null,j=null,Q=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(q)||_t(t,n,q,null,o,X)}}for(var z in o){var q=o[z];if(X=r[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&_t(t,n,z,q,o,X)}}Ta(t,g,T,x,j,Q,f,h);return;case"select":q=g=T=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||_t(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==x&&_t(t,n,h,f,o,x)}n=T,r=g,o=q,z!=null?Us(t,!!r,z,!1):!!o!=!!r&&(n!=null?Us(t,!!r,n,!0):Us(t,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&_t(t,n,g,h,o,f)}yu(t,z,q);return;case"option":for(var ce in r)if(z=r[ce],r.hasOwnProperty(ce)&&z!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:_t(t,n,ce,null,o,z)}for(x in o)if(z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:_t(t,n,x,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in r)z=r[Ae],r.hasOwnProperty(Ae)&&z!=null&&!o.hasOwnProperty(Ae)&&_t(t,n,Ae,null,o,z);for(j in o)if(z=o[j],q=r[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:_t(t,n,j,z,o,q)}return;default:if(ba(n)){for(var vt in r)z=r[vt],r.hasOwnProperty(vt)&&z!==void 0&&!o.hasOwnProperty(vt)&&pd(t,n,vt,void 0,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z===void 0&&q===void 0||pd(t,n,Q,z,o,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&_t(t,n,k,null,o,z);for(X in o)z=o[X],q=r[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||_t(t,n,X,z,o,q)}function d_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ab(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&d_(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],j=x.startTime;if(j>T)break;var Q=x.transferSize,X=x.initiatorType;Q&&d_(X)&&(x=x.responseEnd,g+=Q*(x<T?1:(T-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function m_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function ob(){var t=window.event;return t&&t.type==="popstate"?t===Ed?!1:(Ed=t,!0):(Ed=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(cb)}:p_;function cb(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function __(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Al(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Al(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Di]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Al(t.ownerDocument.body);r=h}while(r);io(n)}function v_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Td(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),va(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function hb(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Di])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ci(t.nextSibling),t===null)break}return null}function fb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ci(t.nextSibling),t===null))return null;return t}function E_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ci(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function db(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ci(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function T_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ci(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function b_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function A_(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var hi=new Map,S_=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ts=ae.d;ae.d={f:mb,r:gb,D:pb,C:yb,L:_b,m:vb,X:Tb,S:Eb,M:bb};function mb(){var t=Ts.f(),n=fc();return t||n}function gb(t){var n=ei(t);n!==null&&n.tag===5&&n.type==="form"?Bp(n):Ts.r(t)}var eo=typeof document>"u"?null:document;function w_(t,n,r){var o=eo;if(o&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),mn(n,"link",t),Gt(n),o.head.appendChild(n)))}}function pb(t){Ts.D(t),w_("dns-prefetch",t,null)}function yb(t,n){Ts.C(t,n),w_("preconnect",t,n)}function _b(t,n,r){Ts.L(t,n,r);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Nn(r.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}hi.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),hi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Sl(f))||n==="script"&&o.querySelector(wl(f))||(n=o.createElement("link"),mn(n,"link",t),Gt(n),o.head.appendChild(n)))}}function vb(t,n){Ts.m(t,n);var r=eo;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(o)+'"][href="'+Nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!hi.has(f)&&(t=S({rel:"modulepreload",href:t},n),hi.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}o=r.createElement("link"),mn(o,"link",t),Gt(o),r.head.appendChild(o)}}}function Eb(t,n,r){Ts.S(t,n,r);var o=eo;if(o&&t){var h=Mi(o).hoistableStyles,f=to(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(Sl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=hi.get(f))&&wd(t,r);var x=g=o.createElement("link");Gt(x),mn(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Tb(t,n){Ts.X(t,n);var r=eo;if(r&&t){var o=Mi(r).hoistableScripts,h=no(t),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(t=S({src:t,async:!0},n),(n=hi.get(h))&&Rd(t,n),f=r.createElement("script"),Gt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bb(t,n){Ts.M(t,n);var r=eo;if(r&&t){var o=Mi(r).hoistableScripts,h=no(t),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=hi.get(h))&&Rd(t,n),f=r.createElement("script"),Gt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R_(t,n,r,o){var h=(h=De.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=to(r.href),r=Mi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=to(r.href);var f=Mi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(Sl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),hi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},hi.set(t,r),f||Ab(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(r),r=Mi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function to(t){return'href="'+Nn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),mn(n,"link",r),Gt(n),t.head.appendChild(n))}function no(t){return'[src="'+Nn(t)+'"]'}function wl(t){return"script[async]"+t}function x_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Nn(r.href)+'"]');if(o)return n.instance=o,Gt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Gt(o),mn(o,"style",h),bc(o,r.precedence,t),n.instance=o;case"stylesheet":h=to(r.href);var f=t.querySelector(Sl(h));if(f)return n.state.loading|=4,n.instance=f,Gt(f),f;o=C_(r),(h=hi.get(h))&&wd(o,h),f=(t.ownerDocument||t).createElement("link"),Gt(f);var g=f;return g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),mn(f,"link",o),n.state.loading|=4,bc(f,r.precedence,t),n.instance=f;case"script":return f=no(r.src),(h=t.querySelector(wl(f)))?(n.instance=h,Gt(h),h):(o=r,(h=hi.get(f))&&(o=S({},r),Rd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Gt(h),mn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,r.precedence,t));return n.instance}function bc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ac=null;function I_(t,n,r){if(Ac===null){var o=new Map,h=Ac=new Map;h.set(r,o)}else h=Ac,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Di]||f[Ht]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function N_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Sb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wb(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=to(o.href),f=n.querySelector(Sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Gt(f);return}f=n.ownerDocument||n,o=C_(o),(h=hi.get(h))&&wd(o,h),f=f.createElement("link"),Gt(f);var g=f;g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),mn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Sc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cd=0;function Rb(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Cd===0&&(Cd=62500*ab());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Cd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(Cb,t),wc=null,Sc.call(t))}function Cb(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var o=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:ye,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function xb(t,n,r,o,h,f,g,T,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function O_(t,n,r,o,h,f,g,T,x,j,Q,X){return t=new xb(t,n,r,g,x,j,Q,X,T),n=1,f===!0&&(n|=24),f=Fn(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),t}function M_(t){return t?(t=Ma,t):Ma}function V_(t,n,r,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Xs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=$s(t,o,n),r!==null&&(Un(r,t,n),sl(r,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function U_(t){if(t.tag===13||t.tag===31){var n=Xr(t,67108864);n!==null&&Un(n,t,67108864),xd(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=$n();n=Lr(n);var r=Xr(t,n);r!==null&&Un(r,t,n),xd(t,n)}}var Cc=!0;function Ib(t,n,r,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=2,Id(t,n,r,o)}finally{ae.p=f,F.T=h}}function Nb(t,n,r,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=8,Id(t,n,r,o)}finally{ae.p=f,F.T=h}}function Id(t,n,r,o){if(Cc){var h=Nd(o);if(h===null)gd(t,n,o,xc,r),j_(t,o);else if(Ob(h,t,n,r,o))o.stopPropagation();else if(j_(t,o),n&4&&-1<Db.indexOf(t)){for(;h!==null;){var f=ei(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ot(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var x=1<<31-$e(g);T.entanglements[1]|=x,g&=~x}Yi(f),(st&6)===0&&(cc=se()+500,El(0))}}break;case 31:case 13:T=Xr(f,2),T!==null&&Un(T,f,2),fc(),xd(f,2)}if(f=Nd(o),f===null&&gd(t,n,o,xc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(t,n,o,null,r)}}function Nd(t){return t=ti(t),Dd(t)}var xc=null;function Dd(t){if(xc=null,t=Oi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Pe:return 2;case oe:return 8;case je:case de:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Od=!1,or=null,lr=null,ur=null,Cl=new Map,xl=new Map,cr=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Il(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ei(n),n!==null&&U_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Ob(t,n,r,o,h){switch(n){case"focusin":return or=Il(or,t,n,r,o,h),!0;case"dragenter":return lr=Il(lr,t,n,r,o,h),!0;case"mouseover":return ur=Il(ur,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Il(Cl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,xl.set(f,Il(xl.get(f)||null,t,n,r,o,h)),!0}return!1}function z_(t){var n=Oi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,gi(t.priority,function(){L_(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,gi(t.priority,function(){L_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);qo=o,r.target.dispatchEvent(o),qo=null}else return n=ei(r),n!==null&&U_(n),t.blockedOn=r,!1;n.shift()}return!0}function B_(t,n,r){Ic(t)&&r.delete(n)}function Mb(){Od=!1,or!==null&&Ic(or)&&(or=null),lr!==null&&Ic(lr)&&(lr=null),ur!==null&&Ic(ur)&&(ur=null),Cl.forEach(B_),xl.forEach(B_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Mb)))}var Dc=null;function q_(t){Dc!==t&&(Dc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=ei(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function io(t){function n(x){return Nc(x,t)}or!==null&&Nc(or,t),lr!==null&&Nc(lr,t),ur!==null&&Nc(ur,t),Cl.forEach(n),xl.forEach(n);for(var r=0;r<cr.length;r++){var o=cr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)z_(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[an]||null;if(typeof f=="function")g||q_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[an]||null)T=g.formAction;else if(Dd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),q_(r)}}}function H_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}Oc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=$n();V_(r,o,t,n,null,null)},Oc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V_(t.current,2,null,t,null,null),fc(),n[Ni]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=fu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&z_(t)}};var G_=e.version;if(G_!=="19.2.0")throw Error(a(527,G_,"19.2.0"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Vb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Be=Mc.inject(Vb),xt=Mc}catch{}}return Dl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Zp,f=Jp,g=Wp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=O_(t,1,!1,null,null,r,o,null,h,f,g,H_),t[Ni]=n.current,md(t),new Md(n)},Dl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Zp,g=Jp,T=Wp,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=O_(t,1,!0,n,r??null,o,h,x,f,g,T,H_),n.context=M_(null),r=n.current,o=$n(),o=Lr(o),h=Xs(o),h.callback=null,$s(r,h,o),r=o,n.current.lanes=r,kr(n,r),Yi(n),t[Ni]=n.current,md(t),new Oc(n)},Dl.version="19.2.0",Dl}var e0;function Yb(){if(e0)return Ud.exports;e0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=Fb(),Ud.exports}var Qb=Yb();const Kb=()=>{};var t0={};const Dv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Xb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,E=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(M=64)),a.push(i[E],i[S],i[M],i[Y])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Dv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Xb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new $b;const M=c<<2|p>>4;if(a.push(M),y!==64){const Y=p<<4&240|y>>2;if(a.push(Y),S!==64){const ee=y<<6&192|S;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zb=function(s){const e=Dv(s);return Ov.encodeByteArray(e,!0)},Jc=function(s){return Zb(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Wb=()=>Jb().__FIREBASE_DEFAULTS__,eA=()=>{if(typeof process>"u"||typeof t0>"u")return;const s=t0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Mv(s[1]);return e&&JSON.parse(e)},_h=()=>{try{return Kb()||Wb()||eA()||tA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>_h()?.emulatorHosts?.[s],nA=s=>{const e=Vv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},kv=()=>_h()?.config,Uv=s=>_h()?.[`_${s}`];class iA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function So(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(s){return(await fetch(s,{credentials:"include"})).ok}function sA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Jc(JSON.stringify(i)),Jc(JSON.stringify(d)),""].join(".")}const Ul={};function rA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function aA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let n0=!1;function Pv(s,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Ul[s]===e||Ul[s]||n0)return;Ul[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=rA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{n0=!0,d()},M}function E(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=aA(a),Y=i("text"),ee=document.getElementById(Y)||document.createElement("span"),re=i("learnmore"),W=document.getElementById(re)||document.createElement("a"),ve=i("preprendIcon"),Ie=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ye=M.element;p(ye),E(W,re);const at=y();_(Ie,ve),ye.append(Ie,ee,W,at),document.body.appendChild(ye)}c?(ee.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function lA(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const s=Sn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const pA="FirebaseError";class Os extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pA,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?yA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Os(l,p,a)}}function yA(s,e){return s.replace(_A,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const _A=/\{\$([^}]+)}/g;function vA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ar(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(i0(c)&&i0(d)){if(!Ar(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function i0(s){return s!==null&&typeof s=="object"}function Wl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function EA(s,e){const i=new TA(s,e);return i.subscribe.bind(i)}class TA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");bA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function In(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class AA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new iA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SA(s){return s===la?void 0:s}function wA(s){return s.instantiationMode==="EAGER"}class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new AA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const CA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},xA=Qe.INFO,IA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},NA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=IA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=xA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const DA=(s,e)=>e.some(i=>s instanceof i);let s0,r0;function OA(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,im=new WeakMap,zv=new WeakMap,Bd=new WeakMap,Um=new WeakMap;function VA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&jv.set(i,s)}).catch(()=>{}),Um.set(e,s),e}function kA(s){if(im.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function UA(s){sm=s(sm)}function LA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return zv.set(a,e.sort?e.sort():[e]),_r(a)}:MA().includes(s)?function(...e){return s.apply(qd(this),e),_r(jv.get(this))}:function(...e){return _r(s.apply(qd(this),e))}}function PA(s){return typeof s=="function"?LA(s):(s instanceof IDBTransaction&&kA(s),DA(s,OA())?new Proxy(s,sm):s)}function _r(s){if(s instanceof IDBRequest)return VA(s);if(Bd.has(s))return Bd.get(s);const e=PA(s);return e!==s&&(Bd.set(s,e),Um.set(e,s)),e}const qd=s=>Um.get(s);function jA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const zA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],Hd=new Map;function a0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=BA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||zA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Hd.set(e,c),c}UA(s=>({...s,get:(e,i,a)=>a0(e,i)||s.get(e,i,a),has:(e,i)=>!!a0(e,i)||s.has(e,i)}));class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HA(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",o0="0.14.6";const Rs=new km("@firebase/app"),GA="@firebase/app-compat",FA="@firebase/analytics-compat",YA="@firebase/analytics",QA="@firebase/app-check-compat",KA="@firebase/app-check",XA="@firebase/auth",$A="@firebase/auth-compat",ZA="@firebase/database",JA="@firebase/data-connect",WA="@firebase/database-compat",eS="@firebase/functions",tS="@firebase/functions-compat",nS="@firebase/installations",iS="@firebase/installations-compat",sS="@firebase/messaging",rS="@firebase/messaging-compat",aS="@firebase/performance",oS="@firebase/performance-compat",lS="@firebase/remote-config",uS="@firebase/remote-config-compat",cS="@firebase/storage",hS="@firebase/storage-compat",fS="@firebase/firestore",dS="@firebase/ai",mS="@firebase/firestore-compat",gS="firebase",pS="12.6.0";const am="[DEFAULT]",yS={[rm]:"fire-core",[GA]:"fire-core-compat",[YA]:"fire-analytics",[FA]:"fire-analytics-compat",[KA]:"fire-app-check",[QA]:"fire-app-check-compat",[XA]:"fire-auth",[$A]:"fire-auth-compat",[ZA]:"fire-rtdb",[JA]:"fire-data-connect",[WA]:"fire-rtdb-compat",[eS]:"fire-fn",[tS]:"fire-fn-compat",[nS]:"fire-iid",[iS]:"fire-iid-compat",[sS]:"fire-fcm",[rS]:"fire-fcm-compat",[aS]:"fire-perf",[oS]:"fire-perf-compat",[lS]:"fire-rc",[uS]:"fire-rc-compat",[cS]:"fire-gcs",[hS]:"fire-gcs-compat",[fS]:"fire-fst",[mS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[gS]:"fire-js-all"};const Wc=new Map,_S=new Map,om=new Map;function l0(s,e){try{s.container.addComponent(e)}catch(i){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function po(s){const e=s.name;if(om.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,s);for(const i of Wc.values())l0(i,s);for(const i of _S.values())l0(i,s);return!0}function Lm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fi(s){return s==null?!1:s.settings!==void 0}const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Jl("app","Firebase",vS);class ES{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const wo=pS;function Bv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw vr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw vr.create("no-options");const c=Wc.get(l);if(c){if(Ar(i,c.options)&&Ar(a,c.config))return c;throw vr.create("duplicate-app",{appName:l})}const d=new RA(l);for(const _ of om.values())d.addComponent(_);const p=new ES(i,a,d);return Wc.set(l,p),p}function qv(s=am){const e=Wc.get(s);if(!e&&s===am&&kv())return Bv();if(!e)throw vr.create("no-app",{appName:s});return e}function Er(s,e,i){let a=yS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}po(new ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const TS="firebase-heartbeat-database",bS=1,Hl="firebase-heartbeat-store";let Gd=null;function Hv(){return Gd||(Gd=jA(TS,bS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function AS(s){try{const i=(await Hv()).transaction(Hl),a=await i.objectStore(Hl).get(Gv(s));return await i.done,a}catch(e){if(e instanceof Os)Rs.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(i.message)}}}async function u0(s,e){try{const a=(await Hv()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,Gv(s)),await a.done}catch(i){if(i instanceof Os)Rs.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const SS=1024,wS=30;class RS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=c0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wS){const l=IS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c0(),{heartbeatsToSend:i,unsentEntries:a}=CS(this._heartbeatsCache.heartbeats),l=Jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Rs.warn(e),""}}}function c0(){return new Date().toISOString().substring(0,10)}function CS(s,e=SS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),h0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),h0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await AS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return u0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function h0(s){return Jc(JSON.stringify({version:2,heartbeats:s})).length}function IS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function NS(s){po(new ha("platform-logger",e=>new qA(e),"PRIVATE")),po(new ha("heartbeat",e=>new RS(e),"PRIVATE")),Er(rm,o0,s),Er(rm,o0,"esm2020"),Er("fire-js","")}NS("");var DS="firebase",OS="12.6.0";Er(DS,OS,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MS=Fv,Yv=new Jl("auth","Firebase",Fv());const eh=new km("@firebase/auth");function VS(s,...e){eh.logLevel<=Qe.WARN&&eh.warn(`Auth (${wo}): ${s}`,...e)}function zc(s,...e){eh.logLevel<=Qe.ERROR&&eh.error(`Auth (${wo}): ${s}`,...e)}function Cs(s,...e){throw Pm(s,...e)}function Xi(s,...e){return Pm(s,...e)}function Qv(s,e,i){const a={...MS(),[e]:i};return new Jl("auth","Firebase",a).create(e,{appName:s.name})}function ws(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Yv.create(s,...e)}function Ce(s,e,...i){if(!s)throw Pm(e,...i)}function As(s){const e="INTERNAL ASSERTION FAILED: "+s;throw zc(e),new Error(e)}function xs(s,e){s||As(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function kS(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function US(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kS()||cA()||"connection"in navigator)?navigator.onLine:!0}function LS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,xs(i>e,"Short delay should be less than long delay!"),this.isMobile=oA()||hA()}get(){return US()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,e){xs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zS=new eu(3e4,6e4);function tu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ro(s,e,i,a,l={}){return Xv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Wl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return uA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&So(s.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(await $v(s,s.config.apiHost,i,p),y)})}async function Xv(s,e,i){s._canInitEmulator=!1;const a={...PS,...e};try{const l=new BS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Vc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Qv(s,E,y);Cs(s,E)}}catch(l){if(l instanceof Os)throw l;Cs(s,"network-request-failed",{message:String(l)})}}async function zm(s,e,i,a,l={}){const c=await Ro(s,e,i,a,l);return"mfaPendingCredential"in c&&Cs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return jS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class BS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Xi(this.auth,"network-request-failed")),zS.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Xi(s,e,a);return l.customData._tokenResponse=i,l}async function qS(s,e){return Ro(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return Ro(s,"POST","/v1/accounts:lookup",e)}function Ll(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HS(s,e=!1){const i=In(s),a=await i.getIdToken(e),l=Bm(a);Ce(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ll(Fd(l.auth_time)),issuedAtTime:Ll(Fd(l.iat)),expirationTime:Ll(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function Bm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function d0(s){const e=Bm(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Os&&GS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function GS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class FS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const e=s.auth,i=await s.getIdToken(),a=await Gl(s,th(e,{idToken:i}));Ce(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Zv(l.providerUserInfo):[],d=QS(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=p?_:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function YS(s){const e=In(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Zv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function KS(s,e){const i=await Xv(s,{},async()=>{const a=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await $v(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&So(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function XS(s,e){return Ro(s,"POST","/v2/accounts:revokeToken",tu(s,e))}class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=d0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await KS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new co;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ce(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return As("not implemented")}}function fr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new FS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return HS(this,e)}reload(){return YS(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Gl(this,qS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Y,providerData:ee,stsTokenManager:re}=i;Ce(S&&re,e,"internal-error");const W=co.fromJSON(this.name,re);Ce(typeof S=="string",e,"internal-error"),fr(a,e.name),fr(l,e.name),Ce(typeof M=="boolean",e,"internal-error"),Ce(typeof Y=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(p,e.name),fr(_,e.name),fr(y,e.name),fr(E,e.name);const ve=new wi({uid:S,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:E});return ee&&Array.isArray(ee)&&(ve.providerData=ee.map(Ie=>({...Ie}))),_&&(ve._redirectEventId=_),ve}static async _fromIdTokenResponse(e,i,a=!1){const l=new co;l.updateFromServerResponse(i);const c=new wi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ce(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new co;p.updateFromIdToken(a);const _=new wi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const m0=new Map;function Ss(s){xs(s instanceof Function,"Expected a class definition");let e=m0.get(s);return e?(xs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,m0.set(s,e),e)}class Jv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Jv.type="NONE";const g0=Jv;function Bc(s,e,i){return`firebase:${s}:${e}:${i}`}class ho{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?wi._fromGetAccountInfoResponse(this.auth,i,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ho(Ss(g0),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ss(g0);const d=Bc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const M=await th(e,{idToken:E}).catch(()=>{});if(!M)break;S=await wi._fromGetAccountInfoResponse(e,M,E)}else S=wi._fromJSON(e,E);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ho(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new ho(c,e,a))}}function p0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sE(e))return"Blackberry";if(rE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(iE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(s=Sn()){return/firefox\//i.test(s)}function eE(s=Sn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(s=Sn()){return/crios\//i.test(s)}function nE(s=Sn()){return/iemobile/i.test(s)}function iE(s=Sn()){return/android/i.test(s)}function sE(s=Sn()){return/blackberry/i.test(s)}function rE(s=Sn()){return/webos/i.test(s)}function qm(s=Sn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function $S(s=Sn()){return qm(s)&&!!window.navigator?.standalone}function ZS(){return fA()&&document.documentMode===10}function aE(s=Sn()){return qm(s)||iE(s)||rE(s)||sE(s)||/windows phone/i.test(s)||nE(s)}function oE(s,e=[]){let i;switch(s){case"Browser":i=p0(Sn());break;case"Worker":i=`${p0(Sn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${wo}/${a}`}class JS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function WS(s,e={}){return Ro(s,"GET","/v2/passwordPolicy",tu(s,e))}const ew=6;class tw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ew,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new JS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),a=await wi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(ws(this));const i=e?In(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WS(this),i=new tw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await XS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ss(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(s){return In(s)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=EA(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iw(s){Hm=s}function sw(s){return Hm.loadJS(s)}function rw(){return Hm.gapiScript}function aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ow(s,e){const i=Lm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ar(c,e??{}))return l;Cs(l,"already-initialized")}return i.initialize({options:e})}function lw(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function uw(s,e,i){const a=nu(s);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=lE(e),{host:d,port:p}=cw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(Ar(y,a.config.emulator)&&Ar(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,So(d)?(Lv(`${c}//${d}${_}`),Pv("Auth",!0)):hw()}function lE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function cw(s){const e=lE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function hw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class uE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,i){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function fo(s,e){return zm(s,"POST","/v1/accounts:signInWithIdp",tu(s,e))}const fw="http://localhost";class fa extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Cs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new fa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fo(e,i)}buildRequest(){const e={requestUri:fw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wl(i)}return e}}class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends iu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class mr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";class gr extends iu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.GITHUB_SIGN_IN_METHOD="github.com";gr.PROVIDER_ID="github.com";class pr extends iu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return pr.credential(i,a)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";async function dw(s,e){return zm(s,"POST","/v1/accounts:signUp",tu(s,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await wi._fromIdTokenResponse(e,a,l),d=v0(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=v0(a);return new Is({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function v0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function mw(s){if(fi(s.app))return Promise.reject(ws(s));const e=nu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await dw(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class ih extends Os{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new ih(e,i,a,l)}}function hE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,a):c})}async function gw(s,e,i=!1){const a=await Gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Is._forOperation(s,"link",a)}async function pw(s,e,i=!1){const{auth:a}=s;if(fi(a.app))return Promise.reject(ws(a));const l="reauthenticate";try{const c=await Gl(s,hE(a,l,e,s),i);Ce(c.idToken,a,"internal-error");const d=Bm(c.idToken);Ce(d,a,"internal-error");const{sub:p}=d;return Ce(s.uid===p,a,"user-mismatch"),Is._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),c}}async function yw(s,e,i=!1){if(fi(s.app))return Promise.reject(ws(s));const a="signIn",l=await hE(s,a,e),c=await Is._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function _w(s,e){return zm(s,"POST","/v1/accounts:signInWithCustomToken",tu(s,e))}async function vw(s,e){if(fi(s.app))return Promise.reject(ws(s));const i=nu(s),a=await _w(i,{token:e,returnSecureToken:!0}),l=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Ew(s,e,i,a){return In(s).onIdTokenChanged(e,i,a)}function Tw(s,e,i){return In(s).beforeAuthStateChanged(e,i)}function bw(s,e,i,a){return In(s).onAuthStateChanged(e,i,a)}const sh="__sak";class fE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Aw=1e3,Sw=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ZS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Sw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}dE.type="LOCAL";const ww=dE;class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}mE.type="SESSION";const gE=mE;function Rw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Rw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Gm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Cw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Gm("",20);l.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function $i(){return window}function xw(s){$i().location.href=s}function pE(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function Iw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nw(){return navigator?.serviceWorker?.controller||null}function Dw(){return pE()?self:null}const yE="firebaseLocalStorageDb",Ow=1,rh="firebaseLocalStorage",_E="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function Mw(){const s=indexedDB.deleteDatabase(yE);return new su(s).toPromise()}function cm(){const s=indexedDB.open(yE,Ow);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:_E})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await Mw(),e(await cm()))})})}async function E0(s,e,i){const a=Eh(s,!0).put({[_E]:e,value:i});return new su(a).toPromise()}async function Vw(s,e){const i=Eh(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function T0(s,e){const i=Eh(s,!0).delete(e);return new su(i).toPromise()}const kw=800,Uw=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Uw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iw(),!this.activeServiceWorker)return;this.sender=new Cw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await E0(e,sh,"1"),await T0(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>E0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Vw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const Lw=vE;new eu(3e4,6e4);function Pw(s,e){return e?Ss(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Fm extends uE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function jw(s){return yw(s.auth,new Fm(s),s.bypassAuthState)}function zw(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),pw(i,new Fm(s),s.bypassAuthState)}async function Bw(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),gw(i,new Fm(s),s.bypassAuthState)}class EE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:Cs(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qw=new eu(2e3,1e4);class lo extends EE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qw.get())};e()}}lo.currentPopupAction=null;const Hw="pendingRedirect",qc=new Map;class Gw extends EE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const a=await Fw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fw(s,e){const i=Kw(e),a=Qw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Yw(s,e){qc.set(s._key(),e)}function Qw(s){return Ss(s._redirectPersistence)}function Kw(s){return Bc(Hw,s.config.apiKey,s.name)}async function Xw(s,e,i=!1){if(fi(s.app))return Promise.reject(ws(s));const a=nu(s),l=Pw(a,e),d=await new Gw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const $w=600*1e3;class Zw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!TE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Xi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$w&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function TE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Jw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function Ww(s,e={}){return Ro(s,"GET","/v1/projects",e)}const e2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function n2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Ww(s);for(const i of e)try{if(i2(i))return}catch{}Cs(s,"unauthorized-domain")}function i2(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!t2.test(i))return!1;if(e2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const s2=new eu(3e4,6e4);function A0(){const s=$i().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function r2(s){return new Promise((e,i)=>{function a(){A0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A0(),i(Xi(s,"network-request-failed"))},timeout:s2.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)a();else{const l=aw("iframefcb");return $i()[l]=()=>{gapi.load?a():i(Xi(s,"network-request-failed"))},sw(`${rw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function a2(s){return Hc=Hc||r2(s),Hc}const o2=new eu(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f2(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?jm(e,u2):`https://${s.config.authDomain}/${l2}`,a={apiKey:e.apiKey,appName:s.name,v:wo},l=h2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wl(a).slice(1)}`}async function d2(s){const e=await a2(s),i=$i().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:f2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Xi(s,"network-request-failed"),p=$i().setTimeout(()=>{c(d)},o2.get());function _(){$i().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g2=500,p2=600,y2="_blank",_2="http://localhost";class S0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v2(s,e,i,a=g2,l=p2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...m2,width:a.toString(),height:l.toString(),top:c,left:d},y=Sn().toLowerCase();i&&(p=tE(y)?y2:i),Wv(y)&&(e=e||_2,_.scrollbars="yes");const E=Object.entries(_).reduce((M,[Y,ee])=>`${M}${Y}=${ee},`,"");if($S(y)&&p!=="_self")return E2(e||"",p),new S0(null);const S=window.open(e||"",p,E);Ce(S,s,"popup-blocked");try{S.focus()}catch{}return new S0(S)}function E2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const T2="__/auth/handler",b2="emulator/auth/handler",A2=encodeURIComponent("fac");async function w0(s,e,i,a,l,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:wo,eventId:l};if(e instanceof cE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof iu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await s._getAppCheckToken(),y=_?`#${A2}=${encodeURIComponent(_)}`:"";return`${S2(s)}?${Wl(p).slice(1)}${y}`}function S2({config:s}){return s.emulator?jm(s,b2):`https://${s.authDomain}/${T2}`}const Yd="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=Xw,this._overrideRedirectResult=Yw}async _openPopup(e,i,a,l){xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await w0(e,i,a,lm(),l);return v2(e,c,Gm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await w0(e,i,a,lm(),l);return xw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(xs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await d2(e),a=new Zw(e);return i.register("authEvent",l=>(Ce(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},l=>{const c=l?.[0]?.[Yd];c!==void 0&&i(!!c),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=n2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||eE()||qm()}}const R2=w2;var R0="@firebase/auth",C0="1.11.1";class C2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(s){po(new ha("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(s)},y=new nw(a,l,c,_);return lw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),po(new ha("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new C2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(R0,C0,x2(s)),Er(R0,C0,"esm2020")}const N2=300,D2=Uv("authIdTokenMaxAge")||N2;let x0=null;const O2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i?.token;x0!==l&&(x0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function M2(s=qv()){const e=Lm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ow(s,{popupRedirectResolver:R2,persistence:[Lw,ww,gE]}),a=Uv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=O2(c.toString());Tw(i,d,()=>d(i.currentUser)),Ew(i,p=>d(p))}}const l=Vv("auth");return l&&uw(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}iw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Xi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",V2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,bE;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,U){for(var R=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)R[ut-2]=arguments[ut];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],R;R=w+(U^C&(N^U))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(N^w&(C^N))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(C^U&(w^C))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(w^N&(U^w))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(U^C&(N^U))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(N^w&(C^N))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(C^U&(w^C))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(w^N&(U^w))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(U^C&(N^U))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(N^w&(C^N))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(C^U&(w^C))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(w^N&(U^w))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(U^C&(N^U))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(N^w&(C^N))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=N+(C^U&(w^C))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(w^N&(U^w))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=w+(N^U&(C^N))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(w^C))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(U^w))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(N^U))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(C^N))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(w^C))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(U^w))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(N^U))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(C^N))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(w^C))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(U^w))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(N^U))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(N^U&(C^N))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(w^C))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=N+(w^C&(U^w))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(N^U))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=w+(C^N^U)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^N)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^C)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^w)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^U)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^N)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^C)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^w)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^U)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^N)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^C)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^w)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(C^N^U)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^N)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=N+(U^w^C)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^w)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=w+(N^(C|~U))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~N))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~C))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~w))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~U))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~N))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~C))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~w))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~U))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~N))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~C))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~w))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=w+(N^(C|~U))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~N))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=N+(w^(U|~C))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<w;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<w;)if(V[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<w;)if(V[N++]=I[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;V&&U==w||(C[N]=U,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(y(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return W(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=S;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var S=_(0),M=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-W(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(re(this))return"-"+W(this).toString(I);const w=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=at(C,w).g;C=ve(C,N.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,ee(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function re(I){return I.h==-1}s.l=function(I){return I=ve(this,I),re(I)?-1:ee(I)?0:1};function W(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return re(this)?W(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=w;N++){let U=V+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ve(I,w){return I.add(W(w))}s.j=function(I){if(ee(this)||ee(I))return S;if(re(this))return re(I)?W(this).j(W(I)):W(W(this).j(I));if(re(I))return W(this.j(W(I)));if(this.l(Y)<0&&I.l(Y)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,ut=I.i(N)>>>16,Ct=I.i(N)&65535;C[2*V+2*N]+=R*Ct,Ie(C,2*V+2*N),C[2*V+2*N+1]+=U*Ct,Ie(C,2*V+2*N+1),C[2*V+2*N+1]+=R*ut,Ie(C,2*V+2*N+1),C[2*V+2*N+2]+=U*ut,Ie(C,2*V+2*N+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Ie(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ye(I,w){this.g=I,this.h=w}function at(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new ye(S,S);if(re(I))return w=at(W(I),w),new ye(W(w.g),W(w.h));if(re(w))return w=at(I,W(w)),new ye(W(w.g),w.h);if(I.g.length>30){if(re(I)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(I)<=0;)C=gt(C),V=gt(V);var N=Le(C,1),U=Le(V,1);for(V=Le(V,2),C=Le(C,2);!ee(V);){var R=U.add(V);R.l(I)<=0&&(N=N.add(C),U=R),V=Le(V,1),C=Le(C,1)}return w=ve(I,N.j(w)),new ye(N,w)}for(N=S;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),R=U.j(w);re(R)||R.l(I)>0;)C-=V,U=y(C),R=U.j(w);ee(U)&&(U=M),N=N.add(U),I=ve(I,R)}return new ye(N,I)}s.B=function(I){return at(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function gt(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Le(I,w){const C=w>>5;w%=32;const V=I.g.length-C,N=[];for(let U=0;U<V;U++)N[U]=w>0?I.i(U+C)>>>w|I.i(U+C+1)<<32-w:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Tr=d}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,Ol,SE,Gc,hm,wE,RE,CE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return m.prototype[L].apply(b,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ie=0;ie<B;ie++)u[v+ie]=L[ie]}else u.push(L)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ve(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const b=ye.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new re(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,Le=!1,I=new Ie,w=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(C)}};function C(){for(var u;u=ve();){try{u.h.call(u.g)}catch(v){W(v)}var m=ye;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ut(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ut,N),ut.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ge(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function We(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ie=De(u,m,b,L);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new ae(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Re(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function De(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),kt={};function ct(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ct(u,m[B],v,b,L);return null}return v=rn(v),u&&u[Ct]?u.J(m,v,p(b)?!!b.capture:!1,L):Jn(u,m,v,!1,b,L)}function Jn(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let Ve=mi(u);if(Ve||(u[ze]=Ve=new le(u)),v=Ve.add(m,v,b,ie,B),v.proxy)return v;if(b=Ms(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(jn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ms(){function u(v){return m.call(u.src,u.listener,v)}const m=Or;return u}function xi(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)xi(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=rn(v),u&&u[Ct]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=De(m,v,b,L),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,v,b,L)),(v=u>-1?m[u]:null)&&Vs(v))}function Vs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ct])Re(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(jn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mi(m))?(Re(v,u),v.h==0&&(v.src=null,m[ze]=null)):me(u)}}}function jn(u){return u in kt?kt[u]:kt[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new ut(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Vs(u),u=v.call(b,m)}return u}function mi(u){return u=u[ze],u instanceof le?u:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function rn(u){return typeof u=="function"?u:(u[Mr]||(u[Mr]=function(m){return u.handleEvent(m)}),u[Mr])}function bt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}S(bt,V),bt.prototype[Ct]=!0,bt.prototype.removeEventListener=function(u,m,v,b){xi(this,u,m,v,b)};function At(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),ne(m,L)}L=!0;let B,ie;if(v)for(ie=v.length-1;ie>=0;ie--)B=m.g=v[ie],L=G(B,b,!0,m)&&L;if(B=m.g=u,L=G(B,b,!0,m)&&L,L=G(B,b,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)B=m.g=v[ie],L=G(B,b,!1,m)&&L}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)me(v[b]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},bt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function G(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ie=m[B];if(ie&&!ie.da&&ie.capture==v){const Ve=ie.listener,Ut=ie.ha||ie.src;ie.fa&&Re(u.i,ie),L=Ve.call(Ut,b)!==!1&&L}}return L&&!b.defaultPrevented}function te(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function J(u){u.g=te(()=>{u.g=null,u.i&&(u.i=!1,J(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class se extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(u){V.call(this),this.h=u,this.g={}}S(Ee,V);var Pe=[];function oe(u){Ge(u.g,function(m,v){this.g.hasOwnProperty(v)&&Vs(m)},u),u.g={}}Ee.prototype.N=function(){Ee.Z.N.call(this),oe(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=d.JSON.stringify,de=d.JSON.parse,xe=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Se(){}function nt(){}var Be={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){N.call(this,"d")}S(xt,N);function _n(){N.call(this,"c")}S(_n,N);var $e={},zn=null;function wn(){return zn=zn||new bt}$e.Ia="serverreachability";function Vr(u){N.call(this,$e.Ia,u)}S(Vr,N);function he(u){const m=wn();At(m,new Vr(m))}$e.STAT_EVENT="statevent";function be(u,m){N.call(this,$e.STAT_EVENT,u),this.stat=m}S(be,N);function pe(u){const m=wn();At(m,new be(m,u))}$e.Ja="timingevent";function ot(u,m){N.call(this,$e.Ja,u),this.size=m}S(ot,N);function vn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function en(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ie="",Ve=B.split("&");for(let it=0;it<Ve.length;it++){var Ut=Ve[it].split("=");if(Ut.length>1){const It=Ut[0];Ut=Ut[1];const ii=It.split("_");ie=ii.length>=2&&ii[1]=="type"?ie+(It+"="+Ut+"&"):ie+(It+"=redacted&")}}}else ie=null;else ie=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function Ii(u,m,v,b,L,B,ie){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ie})}function Wn(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(b?" "+b:"")})}function kr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<b.length;ie++)b[ie]=""}}}}return je(B)}catch{return m}}var Ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Do={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Lr(){}S(Lr,Se),Lr.prototype.g=function(){return new XMLHttpRequest},Oo=new Lr;function is(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function gi(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Ht={},an={};function Ni(u,m,v){u.M=1,u.A=Pr(Ft(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Di(u),u.B=Ft(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ba(v.i,"t",b),u.C=0,v=u.j.L,u.h=new pi,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new se(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Pe[0]=L.toString()),L=Pe);for(let B=0;B<L.length;B++){const ie=ct(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),he(),en(u.i,u.v,u.B,u.l,u.S,u.u)}gi.prototype.ba=function(u){u=u.target;const m=this.O;m&&vi(u)==3?m.j():this.Y(u)},gi.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=vi(this.g),Ut=this.g.ya(),it=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Ve!=4||Ut==7||(Ut==8||it<=0?he(3):he(2)),Oi(this);var m=this.g.ca();this.X=m;var v=jh(this);if(this.o=m==200,Ii(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,u);else{this.o=!1,this.m=3,pe(12),qn(this),ei(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<v.length;)if(It=mu(this,v),It==an){Ve==4&&(this.m=4,pe(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Ht){this.m=4,pe(15),Wn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,It,null),Mi(this,It);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,v,"[Invalid Chunked Response]"),qn(this),ei(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(ie),ie.P=!0,pe(11))}}else Wn(this.i,this.l,v,null),Mi(this,v);Ve==4&&qn(this),this.o&&!this.K&&(Ve==4?Au(this.j,this):(this.o=!1,Di(this)))}else rs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),qn(this),ei(this)}}}catch{}finally{}};function jh(u){if(!du(u))return u.g.la();const m=cn(u.g);if(m==="")return"";let v="";const b=m.length,L=vi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return qn(u),ei(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?an:(v=Number(m.substring(v,b)),isNaN(v)?Ht:(b+=1,b+v>m.length?an:(m=m.slice(b,b+v),u.C=b+v,m)))}gi.prototype.cancel=function(){this.K=!0,qn(this)};function Di(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vn(y(u.aa,u),m)}function Oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}gi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(kr(this.i,this.B),this.M!=2&&(he(),pe(17)),qn(this),this.m=2,ei(this)):va(this,this.T-u)};function ei(u){u.j.I==0||u.K||Au(u.j,u)}function qn(u){Oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,oe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ki(v.h,u))){if(!u.L&&ki(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),qs(v);else break e;Fr(v),pe(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vn(y(v.Va,v),6e3));Vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Bi(v,11)}else if((u.L||v.g==u)&&Ca(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let it=L[m];const It=it[0];if(!(It<=v.K))if(v.K=It,it=it[1],v.I==2)if(it[0]=="c"){v.M=it[1],v.ba=it[2];const ii=it[3];ii!=null&&(v.ka=ii,v.j.info("VER="+v.ka));const qi=it[4];qi!=null&&(v.za=qi,v.j.info("SVER="+v.za));const Ei=it[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(b=1.5*Ei,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ti=u.g;if(Ti){const Yr=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var B=b.h;B.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ko(B,B.h),B.h=null))}if(b.G){const xa=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(b.wa=xa,ht(b.J,b.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ie=u;if(b.na=Ru(b,b.L?b.ba:null,b.W),ie.L){Uo(b.h,ie);var Ve=ie,Ut=b.O;Ut&&(Ve.H=Ut),Ve.D&&(Oi(Ve),Di(Ve)),b.g=ie}else Tu(b);v.i.length>0&&zi(v)}else it[0]!="stop"&&it[0]!="close"||Bi(v,7);else v.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Bi(v,7):Fo(v):it[0]!="noop"&&v.l&&v.l.qa(it),v.A=0)}}he(4)}catch{}}var Gt=class{constructor(u,m){this.g=u,this.map=m}};function Mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vi(u){return u.h?1:u.g?u.g.size:0}function ki(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ko(u,m){u.g?u.g.add(m):u.h=m}function Uo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Hn?(this.l=u.l,on(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,Po(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,on(this,m[1]||"",!0),this.o=Ui(m[2]||""),this.g=Ui(m[3]||"",!0),ks(this,m[4]),this.h=Ui(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Ui(m[7]||"")):(this.l=!1,this.i=new Ls(null,this.l))}Hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(jr(m,Ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Ta,!0),"@"),u.push(is(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(jr(v,v.charAt(0)=="/"?jo:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",jr(v,yu)),u.join("")},Hn.prototype.resolve=function(u){const m=Ft(this);let v=!!u.j;v?on(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ks(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ie=0;ie<L.length;){const Ve=L[ie++];Ve=="."?b&&ie==L.length&&B.push(""):Ve==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ie==L.length&&B.push("")):(B.push(Ve),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Po(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ft(u){return new Hn(u)}function on(u,m,v){u.j=v?Ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof Ls?(u.i=m,Aa(u.i,u.l)):(v||(m=jr(m,Us)),u.i=new Ls(m,u.l))}function ht(u,m,v){u.i.set(m,v)}function Pr(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,pu=/[#\?:]/g,jo=/[#\?]/g,Us=/[#\?@]/g,yu=/#/g;function Ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ls.prototype,s.add=function(u,m){Dn(this),this.i=null,u=Ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){Dn(u),m=Ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return Dn(u),m=Ps(u,m),u.g.has(m)}s.forEach=function(u,m){Dn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Bo(u,m){Dn(u);let v=[];if(typeof m=="string")zo(u,m)&&(v=v.concat(u.g.get(Ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Dn(this),this.i=null,u=Ps(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Bo(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ps(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=is(v);v=Bo(this,v);for(let B=0;B<v.length;B++){let ie=L;v[B]!==""&&(ie+="="+is(v[B])),u.push(ie)}}return this.i=u.join("&")};function vu(u){const m=new Ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(_u(this,b),ba(this,L,v))},u)),u.j=m}function yi(u,m){const v=new Bn;if(d.Image){const b=new Image;b.onload=E(ti,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(ti,v,"TestLoadImage: error",!1,m,b),b.onabort=E(ti,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(ti,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function qo(u,m){const v=new Bn,b=new AbortController,L=setTimeout(()=>{b.abort(),ti(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?ti(v,"TestPingServer: ok",!0,m):ti(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ti(v,"TestPingServer: error",!1,m)})}function ti(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function js(){this.g=new xe}function Li(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Li,Se),Li.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(zr,bt),s=zr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,_i(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):_i(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},s.Na=function(u){this.g&&(this.response=u,zs(this))},s.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,_i(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function _i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ni(u){let m="";return Ge(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Br(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ni(v),typeof u=="string"?v!=null&&is(v):ht(u,m,v))}function pt(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(pt,bt);var Pi=/^https?$/i,Ho=["POST","PUT"];s=pt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){qr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ie]of v)this.g.setRequestHeader(B,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){qr(this,B)}};function qr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Go(u),ss(u)}function Go(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,At(this,"complete"),At(this,"abort"),ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),pt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&vi(u)==4)setTimeout(u.Ca.bind(u),0);else if(At(u,"readystatechange"),vi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ie=String(u.D).match(gu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),b=!Pi.test(ie?ie.toLowerCase():"")}v=b}if(v)At(u,"complete"),At(u,"success");else{u.o=6;try{var L=vi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Go(u)}}finally{ss(u)}}}}function ss(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||At(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function vi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),de(m)}};function cn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(u){const m={};u=(u.g&&vi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=fu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}We(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){pe(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ru(this,null,this.W),zi(this)};function Fo(u){if(wa(u),u.I==3){var m=u.V++,v=Ft(u.J);if(ht(v,"SID",u.M),ht(v,"RID",m),ht(v,"TYPE","terminate"),Gr(u,v),m=new gi(u,u.j,m),m.M=2,m.A=Pr(Ft(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Di(m)}wu(u)}function qs(u){u.g&&(Qo(u),u.g.cancel(),u.g=null)}function wa(u){qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Vo(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||w(),Le||(gt(),Le=!0),I.add(m,u),u.D=0}}function Ra(u,m){return Vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vn(y(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new gi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,L,m),v=Ft(this.J),ht(v,"RID",u),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),Gr(this,v),B&&(this.R?m="headers="+is(ni(B))+"&"+m:this.u&&Br(v,this.u,B)),ko(this.h,L),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",m),ht(v,"SID","null"),L.U=!0,Ni(L,v,null)):Ni(L,v,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||Vo(this.h)||Yo(this))};function Yo(u,m){var v;m?v=m.l:v=u.V++;const b=Ft(u.J);ht(b,"SID",u.M),ht(b,"RID",v),ht(b,"AID",u.K),Gr(u,b),u.u&&u.o&&Br(b,u.u,u.o),v=new gi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ko(u.h,v),Ni(v,b,m)}function Gr(u,m){u.H&&Ge(u.H,function(v,b){ht(m,b,v)}),u.l&&Ge({},function(v,b){ht(m,b,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ve=-1;for(;;){const Ut=["count="+v];Ve==-1?v>0?(Ve=L[0].g,Ut.push("ofs="+Ve)):Ve=0:Ut.push("ofs="+Ve);let it=!0;for(let It=0;It<v;It++){var B=L[It].g;const ii=L[It].map;if(B-=Ve,B<0)Ve=Math.max(0,L[It].g-100),it=!1;else try{B="req"+B+"_"||"";try{var ie=ii instanceof Map?ii:Object.entries(ii);for(const[qi,Ei]of ie){let Ti=Ei;p(Ei)&&(Ti=je(Ei)),Ut.push(B+qi+"="+encodeURIComponent(Ti))}}catch(qi){throw Ut.push(B+"type="+encodeURIComponent("_badmap")),qi}}catch{b&&b(ii)}}if(it){ie=Ut.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||w(),Le||(gt(),Le=!0),I.add(m,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vn(y(u.Da,u),Su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vn(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),qs(this),bu(this))};function Qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new gi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ft(u.na);ht(m,"RID","rpc"),ht(m,"SID",u.M),ht(m,"AID",u.K),ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(m,"TO",u.ia),ht(m,"TYPE","xmlhttp"),Gr(u,m),u.u&&u.o&&Br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Pr(Ft(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,qs(this),Fr(this),pe(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){Ca(u),Qo(u),u.g=null;var b=2}else if(ki(u.h,m))v=m.G,Uo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=wn(),At(b,new ot(b,v)),zi(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Fr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Bi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new Hn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||on(b,"https"),Pr(b),L?yi(b.toString(),v):qo(b.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),wu(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var b=v instanceof Hn?Ft(v):new Hn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ks(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Hn(null);b&&on(B,b),m&&(B.g=m),L&&ks(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&ht(b,v,m),ht(b,"VER",u.ka),Gr(u,b),b}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new pt(new Li({ab:v})):new pt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new Rn(u,m)};function Rn(u,m){bt.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new as(this)}S(Rn,bt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Fo(this.g)},Rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=je(u),u=v);m.i.push(new Gt(m.Ya++,u)),m.I==3&&zi(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,Rn.Z.N.call(this)};function Iu(u){xt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,xt);function Nu(){_n.call(this),this.status=1}S(Nu,_n);function as(u){this.g=u}S(as,xu),as.prototype.ra=function(){At(this.g,"a")},as.prototype.qa=function(u){At(this.g,new Iu(u))},as.prototype.pa=function(u){At(this.g,new Nu)},as.prototype.oa=function(){At(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,CE=function(){return new Hs},RE=function(){return wn()},wE=$e,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Gc=Ur,Do.COMPLETE="complete",SE=Do,nt.EventType=Be,Be.OPEN="a",Be.CLOSE="b",Be.ERROR="c",Be.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ol=nt,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,AE=pt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",D0="4.9.2";let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Co="12.3.0";const da=new km("@firebase/firestore");function so(){return da.logLevel}function ue(s,...e){if(da.logLevel<=Qe.DEBUG){const i=e.map(Ym);da.debug(`Firestore (${Co}): ${s}`,...i)}}function Ns(s,...e){if(da.logLevel<=Qe.ERROR){const i=e.map(Ym);da.error(`Firestore (${Co}): ${s}`,...i)}}function yo(s,...e){if(da.logLevel<=Qe.WARN){const i=e.map(Ym);da.warn(`Firestore (${Co}): ${s}`,...i)}}function Ym(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,xE(s,a,i)}function xE(s,e,i){let a=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ns(a),new Error(a)}function lt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||xE(e,l,a)}function Me(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class IE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(bn.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class P2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new P2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function B2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=B2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ke(s,e){return s<e?-1:s>e?1:0}function fm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Ke(l,c):Qd(l)?1:-1}return Ke(s.length,e.length)}const q2=55296,H2=57343;function Qd(s){const e=s.charCodeAt(0);return e>=q2&&e<=H2}function _o(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const M0="__name__";class Ki{constructor(e,i,a){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&we(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Ki.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ke(e.length,i.length)}static compareSegments(e,i){const a=Ki.isNumericId(e),l=Ki.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ki.extractNumericId(e).compare(Ki.extractNumericId(i)):fm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Dt extends Ki{construct(e,i,a){return new Dt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Dt(i)}static emptyPath(){return new Dt([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Ki{construct(e,i,a){return new pn(e,i,a)}static isValidIdentifier(e){return G2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new pn([M0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(i)}static emptyPath(){return new pn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Dt.fromString(e))}static fromName(e){return new Te(Dt.fromString(e).popFirst(5))}static empty(){return new Te(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Dt(e.slice()))}}function F2(s,e,i){if(!i)throw new ge(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Y2(s,e,i,a){if(e===!0&&a===!0)throw new ge(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function V0(s){if(!Te.isDocumentKey(s))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function Ri(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Km(s);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Jt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!NE(s))throw new ge(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(Z.INVALID_ARGUMENT,i);return!0}const k0=-62135596800,U0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*U0);return new Rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Jt("string",Rt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Rt(0,0))}static max(){return new Ne(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fl=-1;function Q2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ne.fromTimestamp(a===1e9?new Rt(i+1,0):new Rt(i,a));return new Sr(l,Te.empty(),e)}function K2(s){return new Sr(s.readTime,s.key,Fl)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(Ne.min(),Te.empty(),Fl)}static max(){return new Sr(Ne.max(),Te.empty(),Fl)}}function X2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(s.documentKey,e.documentKey),i!==0?i:Ke(s.largestBatchId,e.largestBatchId))}const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==$2)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function J2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Io(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Xm=-1;function bh(s){return s==null}function ah(s){return s===0&&1/s==-1/0}function W2(s){return typeof s=="number"&&Number.isInteger(s)&&!ah(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DE="";function eR(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=L0(e)),e=tR(s.get(i),e);return L0(e)}function tR(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function L0(s){return s+DE+""}function P0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function OE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ot{constructor(e,i){this.comparator=e,this.root=i||gn.EMPTY}insert(e,i){return new Ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??gn.RED,this.left=l??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new gn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return gn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new gn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Zn([])}unionWith(e){let i=new sn(pn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ME("Invalid base64 string: "+c):c}})(e);return new yn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new yn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const nR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(lt(!!s,39018),typeof s=="string"){let e=0;const i=nR.exec(s);if(lt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:qt(s.seconds),nanos:qt(s.nanos)}}function qt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?yn.fromBase64String(s):yn.fromUint8Array(s)}const VE="server_timestamp",kE="__type__",UE="__previous_value__",LE="__local_write_time__";function $m(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===VE}function Ah(s){const e=s.mapValue.fields[UE];return $m(e)?Ah(e):e}function Yl(s){const e=wr(s.mapValue.fields[LE].timestampValue);return new Rt(e.seconds,e.nanos)}class iR{constructor(e,i,a,l,c,d,p,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const oh="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const PE="__type__",sR="__max__",Lc={mapValue:{}},jE="__vector__",lh="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$m(s)?4:aR(s)?9007199254740991:rR(s)?10:11:we(28295,{value:s})}function ts(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yl(s).isEqual(Yl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=wr(l.timestampValue),p=wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Rr(l.bytesValue).isEqual(Rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return qt(l.geoPointValue.latitude)===qt(c.geoPointValue.latitude)&&qt(l.geoPointValue.longitude)===qt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return qt(l.integerValue)===qt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=qt(l.doubleValue),p=qt(c.doubleValue);return d===p?ah(d)===ah(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(P0(d)!==P0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ts(d[_],p[_])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function Kl(s,e){return(s.values||[]).find((i=>ts(i,e)))!==void 0}function vo(s,e){if(s===e)return 0;const i=Cr(s),a=Cr(e);if(i!==a)return Ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=qt(c.integerValue||c.doubleValue),_=qt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,e);case 3:return z0(s.timestampValue,e.timestampValue);case 4:return z0(Yl(s),Yl(e));case 5:return fm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Rr(c),_=Rr(d);return p.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const E=Ke(p[y],_[y]);if(E!==0)return E}return Ke(p.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ke(qt(c.latitude),qt(d.latitude));return p!==0?p:Ke(qt(c.longitude),qt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return B0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[lh]?.arrayValue,E=_[lh]?.arrayValue,S=Ke(y?.values?.length||0,E?.values?.length||0);return S!==0?S:B0(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const M=fm(_[S],E[S]);if(M!==0)return M;const Y=vo(p[_[S]],y[E[S]]);if(Y!==0)return Y}return Ke(_.length,E.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function z0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const i=wr(s),a=wr(e),l=Ke(i.seconds,a.seconds);return l!==0?l:Ke(i.nanos,a.nanos)}function B0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=vo(i[l],a[l]);if(c)return c}return Ke(i.length,a.length)}function Eo(s){return dm(s)}function dm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Te.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function Fc(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Nr(a.fields,((c,d)=>{l+=c.length+Fc(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function mm(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function q0(s){return!!s&&"nullValue"in s}function H0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function rR(s){return(s?.mapValue?.fields||{})[PE]?.stringValue===jE}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Pl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return{...s}}function aR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=pn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Pl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Pn(Pl(this.value))}}function zE(s){const e=[];return Nr(s.fields,((i,a)=>{const l=new pn([i]);if(Yc(a)){const c=zE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Zn(e)}class An{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new An(e,0,Ne.min(),Ne.min(),Ne.min(),Pn.empty(),0)}static newFoundDocument(e,i,a,l){return new An(e,1,i,Ne.min(),a,l,0)}static newNoDocument(e,i){return new An(e,2,i,Ne.min(),Ne.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new An(e,3,i,Ne.min(),Ne.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function G0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=vo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function F0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ts(s.position[i],e.position[i]))return!1;return!0}class ch{constructor(e,i="asc"){this.field=e,this.dir=i}}function oR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class BE{}class nn extends BE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new uR(e,i,a):i==="array-contains"?new fR(e,a):i==="in"?new dR(e,a):i==="not-in"?new mR(e,a):i==="array-contains-any"?new gR(e,a):new nn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new cR(e,a):new hR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vo(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(vo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends BE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ns(e,i)}matches(e){return qE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(s){return s.op==="and"}function HE(s){return lR(s)&&qE(s)}function lR(s){for(const e of s.filters)if(e instanceof ns)return!1;return!0}function gm(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+Eo(s.value);if(HE(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function GE(s,e){return s instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&ts(a.value,l.value)})(s,e):s instanceof ns?(function(a,l){return l instanceof ns&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&GE(d,l.filters[p])),!0):!1})(s,e):void we(19439)}function FE(s){return s instanceof nn?(function(i){return`${i.field.canonicalString()} ${i.op} ${Eo(i.value)}`})(s):s instanceof ns?(function(i){return i.op.toString()+" {"+i.getFilters().map(FE).join(" ,")+"}"})(s):"Filter"}class uR extends nn{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class cR extends nn{constructor(e,i){super(e,"in",i),this.keys=YE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class hR extends nn{constructor(e,i){super(e,"not-in",i),this.keys=YE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function YE(s,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class fR extends nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zm(i)&&Kl(i.arrayValue,this.value)}}class dR extends nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class mR extends nn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class gR extends nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Kl(this.value.arrayValue,a)))}}class pR{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Y0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new pR(s,e,i,a,l,c,d)}function Jm(s){const e=Me(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>gm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Eo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Eo(a))).join(",")),e.Te=i}return e.Te}function Wm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!oR(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!GE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!F0(s.startAt,e.startAt)&&F0(s.endAt,e.endAt)}function pm(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yR(s,e,i,a,l,c,d,p){return new Sh(s,e,i,a,l,c,d,p)}function wh(s){return new Sh(s)}function Q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _R(s){return s.collectionGroup!==null}function jl(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new sn(pn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ch(c,a))})),i.has(pn.keyField().canonicalString())||e.Ie.push(new ch(pn.keyField(),a))}return e.Ie}function Zi(s){const e=Me(s);return e.Ee||(e.Ee=vR(e,jl(s))),e.Ee}function vR(s,e){if(s.limitType==="F")return Y0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ch(l.field,c)}));const i=s.endAt?new uh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new uh(s.startAt.position,s.startAt.inclusive):null;return Y0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function ym(s,e,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Rh(s,e){return Wm(Zi(s),Zi(e))&&s.limitType===e.limitType}function QE(s){return`${Jm(Zi(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>FE(l))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Eo(l))).join(",")),`Target(${a})`})(Zi(s))}; limitType=${s.limitType})`}function Ch(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of jl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=G0(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,jl(a),l)||a.endAt&&!(function(d,p,_){const y=G0(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,jl(a),l))})(s,e)}function ER(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function KE(s){return(e,i)=>{let a=!1;for(const l of jl(s)){const c=TR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function TR(s,e,i){const a=s.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?vo(_,y):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const bR=new Ot(Te.comparator);function Ds(){return bR}const XE=new Ot(Te.comparator);function Ml(...s){let e=XE;for(const i of s)e=e.insert(i.key,i);return e}function $E(s){let e=XE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ua(){return zl()}function ZE(){return zl()}function zl(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const AR=new Ot(Te.comparator),SR=new sn(Te.comparator);function Xe(...s){let e=SR;for(const i of s)e=e.add(i);return e}const wR=new sn(Ke);function RR(){return wR}function eg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function JE(s){return{integerValue:""+s}}function WE(s,e){return W2(e)?JE(e):eg(s,e)}class xh{constructor(){this._=void 0}}function CR(s,e,i){return s instanceof hh?(function(l,c){const d={fields:{[kE]:{stringValue:VE},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$m(c)&&(c=Ah(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,e):s instanceof To?t1(s,e):s instanceof Xl?n1(s,e):(function(l,c){const d=e1(l,c),p=K0(d)+K0(l.Ae);return mm(d)&&mm(l.Ae)?JE(p):eg(l.serializer,p)})(s,e)}function xR(s,e,i){return s instanceof To?t1(s,e):s instanceof Xl?n1(s,e):i}function e1(s,e){return s instanceof $l?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class hh extends xh{}class To extends xh{constructor(e){super(),this.elements=e}}function t1(s,e){const i=i1(e);for(const a of s.elements)i.some((l=>ts(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Xl extends xh{constructor(e){super(),this.elements=e}}function n1(s,e){let i=i1(e);for(const a of s.elements)i=i.filter((l=>!ts(l,a)));return{arrayValue:{values:i}}}class $l extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K0(s){return qt(s.integerValue||s.doubleValue)}function i1(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class s1{constructor(e,i){this.field=e,this.transform=i}}function IR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof To&&l instanceof To||a instanceof Xl&&l instanceof Xl?_o(a.elements,l.elements,ts):a instanceof $l&&l instanceof $l?ts(a.Ae,l.Ae):a instanceof hh&&l instanceof hh})(s.transform,e.transform)}class NR{constructor(e,i){this.version=e,this.transformResults=i}}class Ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function r1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tg(s.key,Ci.none()):new au(s.key,s.data,Ci.none());{const i=s.data,a=Pn.empty();let l=new sn(pn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Dr(s.key,a,new Zn(l.toArray()),Ci.none())}}function DR(s,e,i){s instanceof au?(function(l,c,d){const p=l.value.clone(),_=$0(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$0(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(a1(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Bl(s,e,i,a){return s instanceof au?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=c.value.clone(),E=Z0(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(c,d,p,_){if(!Qc(c.precondition,d))return p;const y=Z0(c.fieldTransforms,_,d),E=d.data;return E.setAll(a1(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function OR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=e1(a.transform,l||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(a.field,c))}return i||null}function X0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&_o(a,l,((c,d)=>IR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Ih{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Dr extends Ih{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function $0(s,e,i){const a=new Map;lt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,xR(d,p,i[l]))}return a}function Z0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,CR(c,d,e))}return a}class tg extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&DR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ZE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=r1(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((i,a)=>X0(i,a)))&&_o(this.baseMutations,e.baseMutations,((i,a)=>X0(i,a)))}}class ng{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return AR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new ng(e,i,a,l)}}class kR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Zt,Je;function LR(s){switch(s){case Z.OK:return we(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function o1(s){if(s===void 0)return Ns("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Zt.OK:return Z.OK;case Zt.CANCELLED:return Z.CANCELLED;case Zt.UNKNOWN:return Z.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return Z.INTERNAL;case Zt.UNAVAILABLE:return Z.UNAVAILABLE;case Zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Zt.NOT_FOUND:return Z.NOT_FOUND;case Zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Zt.ABORTED:return Z.ABORTED;case Zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Zt.DATA_LOSS:return Z.DATA_LOSS;default:return we(39323,{code:s})}}(Je=Zt||(Zt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function PR(){return new TextEncoder}const jR=new Tr([4294967295,4294967295],0);function J0(s){const e=PR().encode(s),i=new bE;return i.update(e),new Uint8Array(i.digest())}function W0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([l,c],0)]}class ig{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vl(`Invalid padding: ${i}`);if(a<0)throw new Vl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Tr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Tr.fromNumber(a)));return l.compare(jR)===1&&(l=new Tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=J0(e),[a,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ig(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=J0(e),[a,l]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(Ne.min(),l,new Ot(Ke),Ds(),Xe())}}class ou{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new ou(a,i,Xe(),Xe(),Xe())}}class Kc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class l1{constructor(e,i){this.targetId=e,this.Ce=i}}class u1{constructor(e,i,a=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),i=Xe(),a=Xe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:we(38017,{changeType:c})}})),new ou(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Pc(),this.He=Pc(),this.Ye=new Ot(Ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(a===0){const d=new Te(c.path);this.et(i,d,An.newNoDocument(d,Ne.min()))}else lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Rr(a).toUint8Array()}catch(_){if(_ instanceof ME)return yo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ig(d,l,c)}catch(_){return yo(_ instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const _=new Te(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,An.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Xe();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Nh(e,i,this.Ye,this.je,a);return this.je=Ds(),this.Je=Pc(),this.He=Pc(),this.Ye=new Ot(Ke),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn(Ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn(Ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pc(){return new Ot(Te.comparator)}function tv(){return new Ot(Te.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},qR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class GR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(s,e){return s.useProto3Json||bh(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FR(s,e){return fh(s,e.toTimestamp())}function Ji(s){return lt(!!s,49232),Ne.fromTimestamp((function(i){const a=wr(i);return new Rt(a.seconds,a.nanos)})(s))}function sg(s,e){return vm(s,e).canonicalString()}function vm(s,e){const i=(function(l){return new Dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function h1(s){const e=Dt.fromString(s);return lt(p1(e),10190,{key:e.toString()}),e}function Em(s,e){return sg(s.databaseId,e.path)}function Kd(s,e){const i=h1(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Te(d1(i))}function f1(s,e){return sg(s.databaseId,e)}function YR(s){const e=h1(s);return e.length===4?Dt.emptyPath():d1(e)}function Tm(s){return new Dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function d1(s){return lt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:Em(s,e),fields:i.value.mapValue.fields}}function QR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(lt(E===void 0||typeof E=="string",58123),yn.fromBase64String(E||"")):(lt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),yn.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const E=y.code===void 0?Z.UNKNOWN:o1(y.code);return new ge(E,y.message||"")})(d);i=new u1(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Kd(s,a.document.name),c=Ji(a.document.updateTime),d=a.document.createTime?Ji(a.document.createTime):Ne.min(),p=new Pn({mapValue:{fields:a.document.fields}}),_=An.newFoundDocument(l,c,d,p),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Kd(s,a.document),c=a.readTime?Ji(a.readTime):Ne.min(),d=An.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Kc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Kd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new UR(l,c),p=a.targetId;i=new l1(p,d)}}return i}function KR(s,e){let i;if(e instanceof au)i={update:nv(s,e.key,e.value)};else if(e instanceof tg)i={delete:Em(s,e.key)};else if(e instanceof Dr)i={update:nv(s,e.key,e.data),updateMask:iC(e.fieldMask)};else{if(!(e instanceof MR))return we(16599,{Vt:e.type});i={verify:Em(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof hh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof To)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw we(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function XR(s,e){return s&&s.length>0?(lt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ji(l.updateTime):Ji(c);return d.isEqual(Ne.min())&&(d=Ji(c)),new NR(d,l.transformResults||[])})(i,e)))):[]}function $R(s,e){return{documents:[f1(s,e.path)]}}function ZR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=f1(s,l);const c=(function(y){if(y.length!==0)return g1(ns.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(M){return{field:ao(M.field),direction:eC(M.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function JR(s){let e=YR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){lt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const M=m1(S);return M instanceof ns&&HE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(ee){return new ch(oo(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,bh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,Y=S.values||[];return new uh(Y,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,Y=S.values||[];return new uh(Y,M)})(i.endAt)),yR(e,l,d,c,p,"F",_,y)}function WR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function m1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=oo(i.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return nn.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ns.create(i.compositeFilter.filters.map((a=>m1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function eC(s){return BR[s]}function tC(s){return qR[s]}function nC(s){return HR[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return pn.fromServerFormat(s.fieldPath)}function g1(s){return s instanceof nn?(function(i){if(i.op==="=="){if(H0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(q0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(q0(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:tC(i.op),value:i.value}}})(s):s instanceof ns?(function(i){const a=i.getFilters().map((l=>g1(l)));return a.length===1?a[0]:{compositeFilter:{op:nC(i.op),filters:a}}})(s):we(54877,{filter:s})}function iC(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function p1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class yr{constructor(e,i,a,l,c=Ne.min(),d=Ne.min(),p=yn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sC{constructor(e){this.yt=e}}function rC(s){const e=JR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ym(e,e.limit,"L"):e}class aC{constructor(){this.Cn=new oC}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Sr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class oC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new sn(Dt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new sn(Dt.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(y1,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const sv="LruGarbageCollector",lC=1048576;function rv([s,e],[i,a]){const l=Ke(s,i);return l===0?Ke(e,a):l}class uC{constructor(e){this.Ir=e,this.buffer=new sn(rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();rv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Io(i)?ue(sv,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.Vr(3e5)}))}}class hC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Th.ce);const a=new uC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(iv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),so()<=Qe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function fC(s,e){return new hC(s,e)}class dC{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class gC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Bl(a.mutation,l,Zn.empty(),Rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Xe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Xe()){const l=ua();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Ml();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Xe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=Ds();const d=zl(),p=(function(){return zl()})();return i.forEach(((_,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Dr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):d.set(y.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>p.set(y,new mC(E,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=zl();let l=new Ot(((d,p)=>d-p)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Zn.empty();E=p.applyToLocalView(y,E),a.set(_,E);const S=(l.get(p.batchId)||Xe()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,E=_.value,S=ZE();E.forEach((M=>{if(!c.has(M)){const Y=r1(i.get(M),a.get(M));Y!==null&&S.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ua());let p=Fl,_=c;return d.next((y=>$.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next((M=>{_=_.insert(E,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Xe()))).next((E=>({batchId:p,changes:$E(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let l=Ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new Sh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((E=>{E.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,An.newInvalidDocument(E)))}));let p=Ml();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Bl(E.mutation,y,Zn.empty(),Rt.now()),Ch(i,y)&&(p=p.insert(_,y))})),p}))}}class pC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:rC(l.bundledQuery),readTime:Ji(l.readTime)}})(i)),$.resolve()}}class yC{constructor(){this.overlays=new Ot(Te.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ua(),c=i.length+1,d=new Te(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ot(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ua(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=l)););return $.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kR(i,a));let c=this.qr.get(i);c===void 0&&(c=Xe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class _C{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class rg{constructor(){this.Qr=new sn(un.$r),this.Ur=new sn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new un(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new un(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new Dt([])),a=new un(i,e),l=new un(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new Dt([])),a=new un(i,e),l=new un(i,e+1);let c=Xe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new un(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Ke(e.Yr,i.Yr)}static Kr(e,i){return Ke(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class vC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(un.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new un(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Xm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new sn(Ke);return i.forEach((l=>{const c=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new un(new Te(c),0);let p=new sn(Ke);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){lt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new un(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new un(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class EC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():An.newInvalidDocument(i))}getEntries(e,i){let a=Ds();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():An.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Ds();const d=i.path,p=new Te(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||X2(K2(E),a)<=0||(l.has(E.key)||Ch(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){we(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new TC(this)}getSize(e){return $.resolve(this.size)}}class TC extends dC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class bC{constructor(e){this.persistence=e,this.si=new pa((i=>Jm(i)),Wm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new bo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class _1{constructor(e,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new _C,this.referenceDelegate=e(this),this.Pi=new bC(this),this.indexManager=new aC,this.remoteDocumentCache=(function(l){return new EC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new sC(i),this.Ii=new pC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new yC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new vC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new AC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class AC extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new ag(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=Te.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ne.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>eR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=fC(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class og{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Xe(),l=Xe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new og(e,i.fromCache,a,l)}}class SC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dA()?8:J2(Sn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new SC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(so()<=Qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(so()<=Qe.DEBUG&&ue("QueryEngine","Query:",ro(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(so()<=Qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(i))):$.resolve())}ys(e,i){if(Q0(i))return $.resolve(null);let a=Zi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Xe(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,ym(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return Q0(i)||l.isEqual(Ne.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(so()<=Qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ro(i)),this.vs(e,d,i,Q2(l,Fl)).next((p=>p)))}))}Ds(e,i){let a=new sn(KE(e));return i.forEach(((l,c)=>{Ch(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return so()<=Qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ro(i)),this.ps.getDocumentsMatchingQuery(e,i,Sr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const lg="LocalStore",RC=3e8;class CC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ot(Ke),this.xs=new pa((c=>Jm(c)),Wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function xC(s,e,i,a){return new CC(s,e,i,a)}async function v1(s,e){const i=Me(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Xe();for(const y of l){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function IC(s,e){const i=Me(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,E){const S=y.batch,M=S.keys();let Y=$.resolve();return M.forEach((ee=>{Y=Y.next((()=>E.getEntry(_,ee))).next((re=>{const W=y.docVersions.get(ee);lt(W!==null,48541),re.version.compareTo(W)<0&&(S.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),E.addEntry(re)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Xe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function E1(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function NC(s,e){const i=Me(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((E,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let Y=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Y=Y.withResumeToken(yn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(E.resumeToken,a)),l=l.insert(S,Y),(function(re,W,ve){return re.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=RC?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(M,Y,E)&&p.push(i.Pi.updateTargetData(c,Y))}));let _=Ds(),y=Xe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(DC(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(Ne.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function DC(s,e,i){let a=Xe(),l=Xe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ds();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Ne.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ue(lg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function OC(s,e){const i=Me(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function MC(s,e){const i=Me(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function bm(s,e,i){const a=Me(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Io(d))throw d;ue(lg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function av(s,e,i){const a=Me(s);let l=Ne.min(),c=Xe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=Me(_),M=S.xs.get(E);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,E)})(a,d,Zi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ne.min(),i?c:Xe()))).next((p=>(VC(a,ER(e),p),{documents:p,Qs:c})))))}function VC(s,e,i){let a=s.Os.get(e)||Ne.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class ov{constructor(){this.activeTargetIds=RR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kC{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UC{Oo(e){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Am(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Xd="RestConnection",LC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Am(),p=this.zo(e,i.toUriEncodedString());ue(Xd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),E=So(y);return this.Jo(e,p,_,a,E).then((S=>(ue(Xd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw yo(Xd,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=LC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class jC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class zC extends PC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Am();return new Promise(((p,_)=>{const y=new AE;y.setWithCredentials(!0),y.listenOnce(SE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();ue(Tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:ue(Tn,`RPC '${e}' ${d} timed out`),_(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const M=y.getStatus();if(ue(Tn,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const ee=Y?.error;if(ee&&ee.status&&ee.message){const re=(function(ve){const Ie=ve.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ie)>=0?Ie:Z.UNKNOWN})(ee.status);_(new ge(re,ee.message))}else _(new ge(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(Tn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(l);ue(Tn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=CE(),p=RE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");ue(Tn,`Creating RPC '${e}' stream ${l}: ${E}`,_);const S=d.createWebChannel(E,_);this.I_(S);let M=!1,Y=!1;const ee=new jC({Yo:W=>{Y?ue(Tn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(M||(ue(Tn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),ue(Tn,`RPC '${e}' stream ${l} sending:`,W),S.send(W))},Zo:()=>S.close()}),re=(W,ve,Ie)=>{W.listen(ve,(ye=>{try{Ie(ye)}catch(at){setTimeout((()=>{throw at}),0)}}))};return re(S,Ol.EventType.OPEN,(()=>{Y||(ue(Tn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),re(S,Ol.EventType.CLOSE,(()=>{Y||(Y=!0,ue(Tn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(S))})),re(S,Ol.EventType.ERROR,(W=>{Y||(Y=!0,yo(Tn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new ge(Z.UNAVAILABLE,"The operation could not be completed")))})),re(S,Ol.EventType.MESSAGE,(W=>{if(!Y){const ve=W.data[0];lt(!!ve,16349);const Ie=ve,ye=Ie?.error||Ie[0]?.error;if(ye){ue(Tn,`RPC '${e}' stream ${l} received error:`,ye);const at=ye.status;let gt=(function(w){const C=Zt[w];if(C!==void 0)return o1(C)})(at),Le=ye.message;gt===void 0&&(gt=Z.INTERNAL,Le="Unknown error status: "+at+" with message "+ye.message),Y=!0,ee.a_(new ge(gt,Le)),S.close()}else ue(Tn,`RPC '${e}' stream ${l} received:`,ve),ee.u_(ve)}})),re(p,wE.STAT_EVENT,(W=>{W.stat===hm.PROXY?ue(Tn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===hm.NOPROXY&&ue(Tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function Dh(s){return new GR(s,!0)}class T1{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class b1{constructor(e,i,a,l,c,d,p,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ns(i.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ge(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BC extends b1{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=QR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Ji(d.readTime):Ne.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=pm(_)?{documents:$R(c,_)}:{query:ZR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=c1(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ne.min())>0){p.readTime=fh(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=WR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.q_(i)}}class qC extends b1{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=XR(e.writeResults,e.commitTime),a=Ji(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>KR(this.serializer,a)))};this.q_(i)}}class HC{}class GC extends HC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,vm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class YC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(ue(ma,"Restarting streams for network reachability change."),await(async function(_){const y=Me(_);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Oh(y)})(this))}))})),this.Ra=new FC(a,l)}}async function Oh(s){if(ya(s))for(const e of s.da)await e(!0)}async function lu(s){for(const e of s.da)await e(!1)}function A1(s,e){const i=Me(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),fg(i)?hg(i):No(i).O_()&&cg(i,e))}function ug(s,e){const i=Me(s),a=No(i);i.Ia.delete(e),a.O_()&&S1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function cg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}No(s).Y_(e)}function S1(s,e){s.Va.Ue(e),No(s).Z_(e)}function hg(s){s.Va=new zR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Ra.ua()}function fg(s){return ya(s)&&!No(s).x_()&&s.Ia.size>0}function ya(s){return Me(s).Ea.size===0}function w1(s){s.Va=void 0}async function QC(s){s.Ra.set("Online")}async function KC(s){s.Ia.forEach(((e,i)=>{cg(s,e)}))}async function XC(s,e){w1(s),fg(s)?(s.Ra.ha(e),hg(s)):s.Ra.set("Unknown")}async function $C(s,e,i){if(s.Ra.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){ue(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(s,a)}else if(e instanceof Kc?s.Va.Ze(e):e instanceof l1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ne.min()))try{const a=await E1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),S1(c,_);const S=new yr(E.target,_,y,E.sequenceNumber);cg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ue(ma,"Failed to raise snapshot:",a),await mh(s,a)}}async function mh(s,e,i){if(!Io(e))throw e;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>E1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(ma,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function R1(s,e){return e().catch((i=>mh(s,i,e)))}async function Mh(s){const e=Me(s),i=xr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xm;for(;ZC(e);)try{const l=await OC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,JC(e,l)}catch(l){await mh(e,l)}C1(e)&&x1(e)}function ZC(s){return ya(s)&&s.Ta.length<10}function JC(s,e){s.Ta.push(e);const i=xr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function C1(s){return ya(s)&&!xr(s).x_()&&s.Ta.length>0}function x1(s){xr(s).start()}async function WC(s){xr(s).ra()}async function ex(s){const e=xr(s);for(const i of s.Ta)e.ea(i.mutations)}async function tx(s,e,i){const a=s.Ta.shift(),l=ng.from(a,e,i);await R1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function nx(s,e){e&&xr(s).X_&&await(async function(a,l){if((function(d){return LR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();xr(a).B_(),await R1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(a)}})(s,e),C1(s)&&x1(s)}async function hv(s,e){const i=Me(s);i.asyncQueue.verifyOperationInProgress(),ue(ma,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await lu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Oh(i)}async function ix(s,e){const i=Me(s);e?(i.Ea.delete(2),await Oh(i)):e||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(i,a,l){const c=Me(i);return c.sa(),new BC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:QC.bind(null,s),t_:KC.bind(null,s),r_:XC.bind(null,s),H_:$C.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),fg(s)?hg(s):s.Ra.set("Unknown")):(await s.ma.stop(),w1(s))}))),s.ma}function xr(s){return s.fa||(s.fa=(function(i,a,l){const c=Me(i);return c.sa(),new qC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:WC.bind(null,s),r_:nx.bind(null,s),ta:ex.bind(null,s),na:tx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dg{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new dg(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(s,e){if(Ns("AsyncQueue",`${e}: ${s}`),Io(s))return new ge(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new mo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fv{constructor(){this.ga=new Ot(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ao{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,i,mo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class sx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rx{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Me(i),c=l.queries;l.queries=dv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function dv(){return new pa((s=>QE(s)),Rh)}async function I1(s,e){const i=Me(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new sx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=mg(d,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&gg(i)}async function N1(s,e){const i=Me(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ax(s,e){const i=Me(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&gg(i)}function ox(s,e,i){const a=Me(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function gg(s){s.Ca.forEach((e=>{e.next()}))}var Sm,mv;(mv=Sm||(Sm={})).Ma="default",mv.Cache="cache";class D1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Ao(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class O1{constructor(e){this.key=e}}class M1{constructor(e){this.key=e}}class lx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=KE(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((E,S)=>{const M=l.get(E),Y=Ch(this.query,S)?S:null,ee=!!M&&this.mutatedKeys.has(M.key),re=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let W=!1;M&&Y?M.data.isEqual(Y.data)?ee!==re&&(a.track({type:3,doc:Y}),W=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),W=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(p=!0)):!M&&Y?(a.track({type:0,doc:Y}),W=!0):M&&!Y&&(a.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(Y?(d=d.add(Y),c=re?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(Y,ee){const re=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:W})}};return re(Y)-re(ee)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new M1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new O1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Xe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pg="SyncEngine";class ux{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class cx{constructor(e){this.key=e,this.hu=!1}}class hx{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((p=>QE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Te.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fx(s,e,i=!0){const a=j1(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await V1(a,e,i,!0),l}async function dx(s,e){const i=j1(s);await V1(i,e,!0,!1)}async function V1(s,e,i,a){const l=await MC(s.localStore,Zi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await mx(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&A1(s.remoteStore,l),p}async function mx(s,e,i,a,l){s.pu=(S,M,Y)=>(async function(re,W,ve,Ie){let ye=W.view.ru(ve);ye.Cs&&(ye=await av(re.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ye))));const at=Ie&&Ie.targetChanges.get(W.targetId),gt=Ie&&Ie.targetMismatches.get(W.targetId)!=null,Le=W.view.applyChanges(ye,re.isPrimaryClient,at,gt);return pv(re,W.targetId,Le.au),Le.snapshot})(s,S,M,Y);const c=await av(s.localStore,e,!0),d=new lx(e,c.Qs),p=d.ru(c.documents),_=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,_);pv(s,i,y.au);const E=new ux(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function gx(s,e,i){const a=Me(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ug(a.remoteStore,l.targetId),wm(a,l.targetId)})).catch(xo)):(wm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function px(s,e){const i=Me(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ug(i.remoteStore,a.targetId))}async function yx(s,e,i){const a=Sx(s);try{const l=await(function(d,p){const _=Me(d),y=Rt.now(),E=p.reduce(((Y,ee)=>Y.add(ee.key)),Xe());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let ee=Ds(),re=Xe();return _.Ns.getEntries(Y,E).next((W=>{ee=W,ee.forEach(((ve,Ie)=>{Ie.isValidDocument()||(re=re.add(ve))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,ee))).next((W=>{S=W;const ve=[];for(const Ie of p){const ye=OR(Ie,S.get(Ie.key).overlayedDocument);ye!=null&&ve.push(new Dr(Ie.key,ye,zE(ye.value.mapValue),Ci.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,ve,p)})).next((W=>{M=W;const ve=W.applyToLocalDocumentSet(S,re);return _.documentOverlayCache.saveOverlays(Y,W.batchId,ve)}))})).then((()=>({batchId:M.batchId,changes:$E(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ot(Ke)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await uu(a,l.changes),await Mh(a.remoteStore)}catch(l){const c=mg(l,"Failed to persist write");i.reject(c)}}async function k1(s,e){const i=Me(s);try{const a=await NC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(lt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?lt(d.hu,14607):l.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await xo(a)}}function gv(s,e,i){const a=Me(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Me(d);_.onlineState=p;let y=!1;_.queries.forEach(((E,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&gg(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function _x(s,e,i){const a=Me(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ot(Te.comparator);d=d.insert(c,An.newNoDocument(c,Ne.min()));const p=Xe().add(c),_=new Nh(Ne.min(),new Map,new Ot(Ke),d,p);await k1(a,_),a.du=a.du.remove(c),a.Au.delete(e),yg(a)}else await bm(a.localStore,e,!1).then((()=>wm(a,e,i))).catch(xo)}async function vx(s,e){const i=Me(s),a=e.batch.batchId;try{const l=await IC(i.localStore,e);L1(i,a,null),U1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,l)}catch(l){await xo(l)}}async function Ex(s,e,i){const a=Me(s);try{const l=await(function(d,p){const _=Me(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(lt(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);L1(a,e,i),U1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,l)}catch(l){await xo(l)}}function U1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function L1(s,e,i){const a=Me(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function wm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||P1(s,a)}))}function P1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ug(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),yg(s))}function pv(s,e,i){for(const a of i)a instanceof O1?(s.Ru.addReference(a.key,e),Tx(s,a)):a instanceof M1?(ue(pg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||P1(s,a.key)):we(19791,{wu:a})}function Tx(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ue(pg,"New document in limbo: "+i),s.Eu.add(a),yg(s))}function yg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Te(Dt.fromString(e)),a=s.fu.next();s.Au.set(a,new cx(i)),s.du=s.du.insert(i,a),A1(s.remoteStore,new yr(Zi(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function uu(s,e,i){const a=Me(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){l.push(y);const E=og.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const E=Me(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(Y=>E.persistence.referenceDelegate.addReference(S,M.targetId,Y))).next((()=>$.forEach(M.ds,(Y=>E.persistence.referenceDelegate.removeReference(S,M.targetId,Y)))))))))}catch(S){if(!Io(S))throw S;ue(lg,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const Y=E.Ms.get(M),ee=Y.snapshotVersion,re=Y.withLastLimboFreeSnapshotVersion(ee);E.Ms=E.Ms.insert(M,re)}}})(a.localStore,c))}async function bx(s,e){const i=Me(s);if(!i.currentUser.isEqual(e)){ue(pg,"User change. New user:",e.toKey());const a=await v1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ge(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function Ax(s,e){const i=Me(s),a=i.Au.get(e);if(a&&a.hu)return Xe().add(a.key);{let l=Xe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function j1(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.Pu.H_=ax.bind(null,e.eventManager),e.Pu.yu=ox.bind(null,e.eventManager),e}function Sx(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ex.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xC(this.persistence,new wC,e.initialUser,this.serializer)}Cu(e){return new _1(ag.mi,this.serializer)}Du(e){return new kC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class wx extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new _1((a=>dh.mi(a,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rx})()}createDatastore(e){const i=Dh(e.databaseInfo.databaseId),a=(function(c){return new zC(c)})(e.databaseInfo);return(function(c,d,p,_){return new GC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new YC(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>gv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new UC})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,E){const S=new hx(l,c,d,p,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Me(i);ue(ma,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ir="FirestoreClient";class Rx{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=bn.UNAUTHENTICATED,this.clientId=Qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=mg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Ir,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await v1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Cx(s);ue(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>hv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>hv(e.remoteStore,l))),s._onlineComponents=e}async function Cx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Ir,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;yo("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new gh)}}else ue(Ir,"Using default OfflineComponentProvider"),await Zd(s,new wx(void 0));return s._offlineComponents}async function B1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Ir,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(ue(Ir,"Using default OnlineComponentProvider"),await yv(s,new Rm))),s._onlineComponents}function xx(s){return B1(s).then((e=>e.syncEngine))}async function Cm(s){const e=await B1(s),i=e.eventManager;return i.onListen=fx.bind(null,e.syncEngine),i.onUnlisten=gx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=dx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=px.bind(null,e.syncEngine),i}function Ix(s,e,i={}){const a=new br;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const E=new z1({next:M=>{E.Nu(),d.enqueueAndForget((()=>N1(c,S)));const Y=M.docs.has(p);!Y&&M.fromCache?y.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&M.fromCache&&_&&_.source==="server"?y.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new D1(wh(p.path),E,{includeMetadataChanges:!0,qa:!0});return I1(c,S)})(await Cm(s),s.asyncQueue,e,i,a))),a.promise}function q1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _v=new Map;const H1="firestore.googleapis.com",vv=!0;class Ev{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H1,this.ssl=vv}else this.host=e.host,this.ssl=e.ssl??vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lC)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new k2;switch(a.type){case"firstParty":return new j2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=_v.get(i);a&&(ue("ComponentProvider","Removing Datastore"),_v.delete(i),a.terminate())})(this),Promise.resolve()}}function Nx(s,e,i,a={}){s=Ri(s,_g);const l=So(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Lv(`https://${p}`),Pv("Firestore",!0)),c.host!==H1&&c.host!==p&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Ar(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=bn.MOCK_USER;else{y=sA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new bn(S)}s._authCredentials=new U2(new IE(y,E))}}class Vh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Wt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Wt._jsonSchema))return new Wt(e,a||null,new Te(Dt.fromString(i.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Jt("string",Wt._jsonSchemaVersion),referencePath:Jt("string")};class Zl extends Vh{constructor(e,i,a){super(e,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Te(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function jt(s,e,...i){if(s=In(s),arguments.length===1&&(e=Qm.newId()),F2("doc","path",e),s instanceof _g){const a=Dt.fromString(e,...i);return V0(a),new Wt(s,null,new Te(a))}{if(!(s instanceof Wt||s instanceof Zl))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Dt.fromString(e,...i));return V0(a),new Wt(s.firestore,s instanceof Zl?s.converter:null,new Te(a))}}const Tv="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&ue(Tv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;ue(Tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",Av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=dg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Av(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Sv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ga extends _g{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function Dx(s,e){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:oh,l=Lm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=nA("firestore");c&&Nx(l,...c)}return l}function vg(s){if(s._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ox(s),s._firestoreClient}function Ox(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new iR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,q1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Rx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(yn.fromBase64String(e))}catch(i){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new di(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Jt("string",di._jsonSchemaVersion),bytes:Jt("string")};class kh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._methodName=e}}class Wi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Jt("string",Wi._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class es{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new es(e.vectorValues);throw new ge(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:Jt("string",es._jsonSchemaVersion),vectorValues:Jt("object")};const Mx=/^__.*__$/;class Vx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class G1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function F1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class Uh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(F1(this.Ac)&&Mx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kx{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(e)}Cc(e,i,a,l=!1){return new Uh({Ac:e,methodName:i,Dc:a,path:pn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y1(s){const e=s._freezeSettings(),i=Dh(s._databaseId);return new kx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ux(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);bg("Data must be an object, but it was:",d,a);const p=Q1(a,d);let _,y;if(c.merge)_=new Zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const M=xm(e,S,i);if(!d.contains(M))throw new ge(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);X1(E,M)||E.push(M)}_=new Zn(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new Vx(new Pn(p),_,y)}class Lh extends cu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function Lx(s,e,i){return new Uh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eg extends cu{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=Lx(this,e,!0),a=this.vc.map((c=>hu(c,i))),l=new To(a);return new s1(e.path,l)}isEqual(e){return e instanceof Eg&&Ar(this.vc,e.vc)}}class Tg extends cu{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new $l(e.serializer,WE(e.serializer,this.Fc));return new s1(e.path,i)}isEqual(e){return e instanceof Tg&&this.Fc===e.Fc}}function Px(s,e,i,a){const l=s.Cc(1,e,i);bg("Data must be an object, but it was:",l,a);const c=[],d=Pn.empty();Nr(a,((_,y)=>{const E=Ag(e,_,i);y=In(y);const S=l.yc(E);if(y instanceof Lh)c.push(E);else{const M=hu(y,S);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Zn(c);return new G1(d,p,l.fieldTransforms)}function jx(s,e,i,a,l,c){const d=s.Cc(1,e,i),p=[xm(e,a,i)],_=[l];if(c.length%2!=0)throw new ge(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(xm(e,c[M])),_.push(c[M+1]);const y=[],E=Pn.empty();for(let M=p.length-1;M>=0;--M)if(!X1(y,p[M])){const Y=p[M];let ee=_[M];ee=In(ee);const re=d.yc(Y);if(ee instanceof Lh)y.push(Y);else{const W=hu(ee,re);W!=null&&(y.push(Y),E.set(Y,W))}}const S=new Zn(y);return new G1(E,S,d.fieldTransforms)}function hu(s,e){if(K1(s=In(s)))return bg("Unsupported field value:",e,s),Q1(s,e);if(s instanceof cu)return(function(a,l){if(!F1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=hu(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=In(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return WE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Rt.fromDate(a);return{timestampValue:fh(l.serializer,c)}}if(a instanceof Rt){const c=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof di)return{bytesValue:c1(l.serializer,a._byteString)};if(a instanceof Wt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof es)return(function(d,p){return{mapValue:{fields:{[PE]:{stringValue:jE},[lh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return eg(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Km(a)}`)})(s,e)}function Q1(s,e){const i={};return OE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,l)=>{const c=hu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function K1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Rt||s instanceof Wi||s instanceof di||s instanceof Wt||s instanceof cu||s instanceof es)}function bg(s,e,i){if(!K1(i)||!NE(i)){const a=Km(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function xm(s,e,i){if((e=In(e))instanceof kh)return e._internalPath;if(typeof e=="string")return Ag(s,e);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const zx=new RegExp("[~\\*/\\[\\]]");function Ag(s,e,i){if(e.search(zx)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ge(Z.INVALID_ARGUMENT,p+s+_)}function X1(s,e){return s.some((i=>i.isEqual(e)))}class $1{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Z1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends $1{data(){return super.data()}}function Z1(s,e){return typeof e=="string"?Ag(s,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function qx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((a=>qt(a.doubleValue)));return new es(i)}convertGeoPoint(e){return new Wi(qt(e.latitude),qt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Dt.fromString(e);lt(p1(a),9688,{name:e});const l=new Ql(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(i)||Ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Gx(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends $1{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Z1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Jt("string",ca._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Xc extends ca{data(e={}){return super.data(e)}}class go{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new kl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Fx(p.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}function wv(s){s=Ri(s,Wt);const e=Ri(s.firestore,ga);return Ix(vg(e),s._key).then((i=>W1(e,s,i)))}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Jt("string",go._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class J1 extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,i)}}function Yx(s,e,i){s=Ri(s,Wt);const a=Ri(s.firestore,ga),l=Gx(s.converter,e);return Sg(a,[Ux(Y1(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ci.none())])}function $t(s,e,i,...a){s=Ri(s,Wt);const l=Ri(s.firestore,ga),c=Y1(l);let d;return d=typeof(e=In(e))=="string"||e instanceof kh?jx(c,"updateDoc",s._key,e,i,a):Px(c,"updateDoc",s._key,e),Sg(l,[d.toMutation(s._key,Ci.exists(!0))])}function Qx(s){return Sg(Ri(s.firestore,ga),[new tg(s._key,Ci.none())])}function Kx(s,...e){s=In(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Sv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Sv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Wt)d=Ri(s.firestore,ga),p=wh(s._key.path),c={next:_=>{e[a]&&e[a](W1(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ri(s,Vh);d=Ri(_.firestore,ga),p=_._query;const y=new J1(d);c={next:E=>{e[a]&&e[a](new go(d,y,_,E))},error:e[a+1],complete:e[a+2]},qx(s._query)}return(function(y,E,S,M){const Y=new z1(M),ee=new D1(E,Y,S);return y.asyncQueue.enqueueAndForget((async()=>I1(await Cm(y),ee))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>N1(await Cm(y),ee)))}})(vg(d),p,l,c)}function Sg(s,e){return(function(a,l){const c=new br;return a.asyncQueue.enqueueAndForget((async()=>yx(await xx(a),l,c))),c.promise})(vg(s),e)}function W1(s,e,i){const a=i.docs.get(e._key),l=new J1(s);return new ca(s,l,e._key,a,new kl(i.hasPendingWrites,i.fromCache),e.converter)}function xn(...s){return new Eg("arrayUnion",s)}function Jd(s){return new Tg("increment",s)}(function(e,i=!0){(function(l){Co=l})(wo),po(new ha("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ga(new L2(a.getProvider("auth-internal")),new z2(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Er(N0,D0,e),Er(N0,D0,"esm2020")})();const Xx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Rv=s=>{const e=$x(s);return e.charAt(0).toUpperCase()+e.slice(1)},eT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Zx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Jx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wx=rt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>rt.createElement("svg",{ref:_,...Jx,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:eT("lucide",l),...!c&&!Zx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>rt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Tt=(s,e)=>{const i=rt.forwardRef(({className:a,...l},c)=>rt.createElement(Wx,{ref:c,iconNode:e,className:eT(`lucide-${Xx(Rv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Rv(s),i};const eI=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],tI=Tt("anchor",eI);const nI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iI=Tt("arrow-right",nI);const sI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Im=Tt("bomb",sI);const rI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cv=Tt("book-open",rI);const aI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wd=Tt("circle-check-big",aI);const oI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],$c=Tt("coins",oI);const lI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uI=Tt("compass",lI);const cI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zc=Tt("crown",cI);const hI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tT=Tt("eye",hI);const fI=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Nm=Tt("footprints",fI);const dI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],mI=Tt("history",dI);const gI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],nT=Tt("house",gI);const pI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yI=Tt("info",pI);const _I=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Dm=Tt("log-out",_I);const vI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EI=Tt("rotate-ccw",vI);const TI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bI=Tt("settings",TI);const AI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bs=Tt("shield",AI);const SI=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Om=Tt("ship",SI);const wI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Qi=Tt("skull",wI);const RI=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],yh=Tt("sword",RI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xI=Tt("trash-2",CI);const II=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iT=Tt("triangle-alert",II);const NI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ql=Tt("trophy",NI);const DI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mm=Tt("user",DI);const OI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],MI=Tt("utensils",OI);const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sT=Tt("x",VI),kI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:4899548c3fd4da8c6aa637"},rT=Bv(kI),em=M2(rT),zt=Dx(rT),Bt=typeof __app_id<"u"?__app_id:"pirates-game-v1",mt={THIEF:{name:"Thief",val:0,defaultCount:2,icon:Nm,color:"text-gray-400",bg:"bg-gray-800",desc:"Gain 1 coin if you survive a round."},GUARD:{name:"Guard",val:1,defaultCount:6,icon:bs,color:"text-blue-400",bg:"bg-blue-900",desc:"Guess a player's card. If right, they die."},SPY:{name:"Spy",val:2,defaultCount:2,icon:tT,color:"text-emerald-400",bg:"bg-emerald-900",desc:"Look at another player's hand."},SWORDSMAN:{name:"Swordsman",val:3,defaultCount:2,icon:yh,color:"text-red-400",bg:"bg-red-900",desc:"Fight another player. Lower card dies."},COOK:{name:"Cook",val:4,defaultCount:2,icon:MI,color:"text-orange-400",bg:"bg-orange-900",desc:"Immune to effects until your next turn."},CANNONEER:{name:"Cannoneer",val:5,defaultCount:2,icon:Im,color:"text-red-600",bg:"bg-red-950",desc:"Force discard & redraw. Kills Pirates."},MERCHANT:{name:"Merchant",val:6,defaultCount:2,icon:$c,color:"text-yellow-400",bg:"bg-yellow-900",desc:"Draw 2 extra, keep best of 3."},SAILOR:{name:"Sailor",val:7,defaultCount:1,icon:tI,color:"text-cyan-400",bg:"bg-cyan-900",desc:"Swap hands with another player."},CAPTAIN:{name:"Captain",val:8,defaultCount:1,icon:Zc,color:"text-purple-400",bg:"bg-purple-900",desc:"Must play if holding Cannoneer/Sailor."},PIRATE:{name:"Pirate",val:9,defaultCount:1,icon:Qi,color:"text-white",bg:"bg-black",desc:"If played, you die. (Suicide)."}},tm=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},UI=({type:s,message:e,subtext:i,icon:a})=>A.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:A.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300
      backdrop-blur-md
      ${s==="success"?"bg-green-900/90 border-green-500 text-green-100":""}
      ${s==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-blue-900/90 border-blue-500 text-blue-100":""}
    `,children:[a&&A.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:A.jsx(a,{size:64,className:"animate-bounce"})}),A.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&A.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),nm=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-950 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-red-900/10 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),xv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(Om,{size:12,className:"text-red-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-red-500 uppercase",children:"PIRATES"})]}),Iv=({onConfirmLeave:s,onConfirmLobby:e,onCancel:i,isHost:a,inGame:l})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will end the game for everyone!":"Leaving the lobby will disconnect you."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay (Cancel)"}),l&&a&&A.jsxs("button",{onClick:e,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-500 text-white",children:[A.jsx(nT,{size:18})," Return Crew to Lobby"]}),A.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[A.jsx(Dm,{size:18})," Leave Game"]})]})]})}),LI=({title:s,text:e,onClose:i,type:a="info",card:l=null,compareCard:c=null,labels:d=[]})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-4 animate-in fade-in",children:A.jsx("div",{className:"bg-gray-800 border-2 border-gray-600 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:A.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[a==="error"?A.jsx(iT,{className:"text-red-500 w-12 h-12"}):a==="spy"?A.jsx(tT,{className:"text-emerald-400 w-12 h-12"}):a==="sword"?A.jsx(yh,{className:"text-red-400 w-12 h-12"}):a==="round_end"?A.jsx(ql,{className:"text-yellow-400 w-12 h-12 animate-bounce"}):A.jsx(yI,{className:"text-blue-400 w-12 h-12"}),A.jsx("h3",{className:"text-2xl font-bold text-white",children:s}),A.jsx("p",{className:"text-gray-300 text-lg",children:e}),(l||c)&&A.jsxs("div",{className:"flex gap-4 justify-center items-center my-2",children:[l&&A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[0]||"Target Hand"}),A.jsx(uo,{type:l,small:!0})]}),c&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-bold text-xl text-gray-500",children:A.jsx(iI,{size:24})}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-xs text-gray-400 mb-1 font-bold text-yellow-500",children:d[1]||"Attacker"}),A.jsx(uo,{type:c,small:!0})]})]})]}),A.jsx("button",{onClick:i,className:`w-full py-3 rounded-lg font-bold text-white transition-colors ${a==="error"?"bg-red-600 hover:bg-red-500":a==="spy"?"bg-emerald-600 hover:bg-emerald-500":a==="round_end"?"bg-yellow-600 hover:bg-yellow-500":"bg-blue-600 hover:bg-blue-500"}`,children:a==="round_end"?"Continue":"Okay"})]})})}),Nv=({onClose:s})=>A.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-5xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-gray-700 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-4 md:p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("h2",{className:"text-2xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-500 uppercase tracking-widest",children:"GAME GUIDE"}),A.jsx("span",{className:"text-gray-400 text-xs md:text-sm font-medium tracking-wide",children:"Deception, Deduction & Discovery"})]}),A.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white transition-colors",children:A.jsx(sT,{size:24})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6 md:space-y-10 text-gray-300 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[A.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-900/30 p-4 md:p-6 rounded-2xl border border-red-700/30",children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[A.jsx(ql,{className:"text-yellow-400 fill-current",size:24})," The Objective"]}),A.jsxs("p",{className:"text-sm md:text-lg leading-relaxed",children:["The high seas are treacherous. Your goal is simple:"," ",A.jsx("strong",{children:"survive"}),". The game is played in multiple rounds. To win a round, you must be the ",A.jsx("strong",{children:"Last Player Standing"})," ","or hold the ",A.jsx("strong",{children:"Highest Value Card"})," when the deck runs out.",A.jsx("br",{}),A.jsx("br",{}),"Survivors earn"," ",A.jsx("span",{className:"text-yellow-400 font-bold",children:"1 Coin"}),". The first pirate to amass"," ",A.jsx("span",{className:"text-yellow-400 font-bold",children:"10 Coins"})," wins the game and the treasure!"]})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(Mm,{className:"text-red-400",size:24})," The Crew (Cards)"]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:Object.values(mt).sort((e,i)=>e.val-i.val).map(e=>{const i=e.icon;return A.jsxs("div",{className:"flex items-start gap-3 md:gap-4 bg-gray-800/50 p-3 md:p-4 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[A.jsx("div",{className:`p-3 md:p-4 rounded-xl ${e.bg} border border-gray-600 shadow-lg shrink-0`,children:A.jsx(i,{className:`${e.color}`,size:24})}),A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex justify-between items-center w-full mb-1",children:[A.jsx("h4",{className:"font-bold text-white text-base md:text-lg",children:e.name}),A.jsxs("span",{className:"text-xs bg-black/60 px-2 py-1 rounded text-gray-300 font-mono border border-gray-600",children:["Val: ",e.val]})]}),A.jsx("p",{className:"text-xs md:text-sm text-gray-400 leading-snug",children:e.desc})]})]},e.name)})})]}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[A.jsx(uI,{className:"text-orange-400",size:24})," How It Works"]}),A.jsxs("div",{className:"space-y-6 relative pl-4 border-l-2 border-gray-700 ml-4",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"1"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Draw"}),A.jsxs("p",{className:"text-gray-400 text-sm md:text-base",children:["You start the round with ",A.jsx("strong",{children:"1 card"})," in hand. At the start of your turn, you draw a"," ",A.jsx("strong",{children:"second card"})," from the deck."]})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -left-[25px] top-0 bg-gray-800 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 border-gray-600 shadow-lg",children:"2"}),A.jsxs("div",{className:"pl-6",children:[A.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:"The Play"}),A.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Choose one of your two cards to play face up. Its ability triggers immediately. The other card remains hidden in your hand."})]})]})]})]})]}),A.jsx("div",{className:"p-4 md:p-6 bg-gray-800 border-t border-gray-700 text-center sticky bottom-0",children:A.jsx("button",{onClick:s,className:"w-full md:w-auto bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white px-10 py-3 md:py-4 rounded-xl font-bold text-lg transition-all shadow-xl",children:"Got it, Let's Play!"})})]})}),uo=({type:s,onClick:e,disabled:i,highlight:a,small:l,tiny:c})=>{const d=mt[s];if(!d)return A.jsx("div",{className:"w-16 h-24 md:w-20 md:h-28 bg-gray-700 rounded border border-gray-600"});if(c)return A.jsx("div",{className:`w-5 h-7 md:w-6 md:h-8 rounded border flex items-center justify-center ${d.bg} border-gray-600 shadow-sm`,title:d.name,children:A.jsx(d.icon,{className:`${d.color} w-3 h-3`})});const p=l?"w-12 h-16 md:w-16 md:h-24 p-0.5 md:p-1":"w-24 h-36 md:w-32 md:h-48 p-2 md:p-3",_=l?"w-5 h-5 md:w-6 md:h-6":"w-10 h-10 md:w-12 md:h-12",y=l?"text-[8px] md:text-[10px]":"text-xs md:text-sm";return A.jsxs("button",{onClick:e,disabled:i,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between
        ${p}
        ${a?"ring-4 ring-yellow-400 scale-105 z-10":"border-gray-700"}
        ${d.bg} ${i?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[A.jsxs("div",{className:`font-bold ${y} ${d.type==="PIRATE","text-white"} w-full flex justify-between`,children:[A.jsx("span",{children:d.val}),!l&&A.jsx("span",{children:d.name})]}),A.jsx(d.icon,{className:`${d.color} ${_}`}),!l&&A.jsx("div",{className:"text-[9px] md:text-[10px] text-gray-300 text-center leading-tight bg-black/30 p-1 rounded w-full line-clamp-3 md:line-clamp-none",children:d.desc})]})},PI=({logs:s,onClose:e})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-0 md:p-4",children:A.jsxs("div",{className:"bg-gray-800 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-gray-700",children:[A.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsx("h3",{className:"text-white font-bold text-lg",children:"Game Log"}),A.jsx("button",{onClick:e,className:"p-2 bg-gray-700 rounded-full",children:A.jsx(sT,{className:"text-gray-400"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>A.jsx("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":i.type==="success"?"bg-green-900/20 border-green-500 text-green-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:i.text},a))})]})});function jI(){const[s,e]=rt.useState(null),[i,a]=rt.useState("menu"),[l,c]=rt.useState(""),[d,p]=rt.useState(""),[_,y]=rt.useState(""),[E,S]=rt.useState(null),[M,Y]=rt.useState(!1),[ee,re]=rt.useState(""),[W,ve]=rt.useState(!1),[Ie,ye]=rt.useState(!1),[at,gt]=rt.useState(!1),[Le,I]=rt.useState(null),[w,C]=rt.useState(""),[V,N]=rt.useState(null),[U,R]=rt.useState(null),[ut,Ct]=rt.useState([]),[F,ae]=rt.useState(null),[me,Ge]=rt.useState(null),We=rt.useRef(null),O=rt.useRef(null);rt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await vw(em,__initial_auth_token):await mw(em)})();const te=bw(em,e);return()=>te()},[]),rt.useEffect(()=>{if(!d||!s)return;const G=Kx(jt(zt,"artifacts",Bt,"public","data","rooms",d),te=>{if(te.exists()){const J=te.data();if(!J.players.some(Ee=>Ee.id===s.uid)){p(""),a("menu"),re("The Captain abandoned the ship! (Room Closed)");return}S(J),J.status==="playing"||J.status==="finished"?a("game"):J.status==="lobby"&&a("lobby")}else p(""),a("menu"),re("The Captain abandoned the ship! (Room Closed)")});return()=>G()},[d,s]),rt.useEffect(()=>{!F&&ut.length>0&&(ae(ut[0]),Ct(G=>G.slice(1)))},[F,ut]);const H=(G,te,J="",se=null)=>{Ge({type:G,message:te,subtext:J,icon:se}),setTimeout(()=>Ge(null),2e3)};rt.useEffect(()=>{if(!(!E||!s)){if(E.lastAction){const G=E.lastAction;G.id!==We.current&&G.targetId===s.uid&&(We.current=G.id,G.type==="CANNONEER"?G.message.includes("Reflected")?H("success","DEFENDED","Captain Killed Attacker!",Zc):G.message.includes("Pirate")?H("failure","ELIMINATED","Cannon Hit Pirate!",Qi):H("failure","UNDER ATTACK","Card Destroyed!",Im):G.type==="GUARD"&&G.message.includes("CORRECT")?H("failure","ELIMINATED","Guard Caught You!",Qi):G.type==="GUARD"&&G.message.includes("WRONG")?H("neutral","SAFE","Guard Guessed Wrong",Wd):G.type==="SWORDSMAN"&&(G.message.includes("You Died")?H("failure","DEFEAT","Lost Sword Fight",Qi):G.message.includes("You Won")?H("success","VICTORY","Won Sword Fight",ql):H("neutral","TIED","Both Survived",yh)),Ct(te=>[...te,{title:"Action Alert!",text:G.message,type:G.type==="SWORDSMAN"?"sword":G.type==="SPY"?"spy":"warning",card:G.cardToShow,compareCard:G.compareCard,labels:G.labels}]))}if(E.lastRoundResult){const G=E.lastRoundResult;G.id!==O.current&&(O.current=G.id,Ct(te=>[...te,{title:`Round ${G.round} Complete!`,text:`${G.winnerName} won the round and earned a Coin!`,type:"round_end",card:null,compareCard:null}]))}}},[E,s]);const ne=(G,te,J="error",se=null)=>{Ct(Ee=>[...Ee,{title:G,text:te,type:J,card:se}])},le=async()=>{if(!l)return re("Name required");Y(!0);const G=Math.random().toString(36).substring(2,7).toUpperCase(),te={roomId:G,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}],deck:[],deckConfig:{guards:6,merchants:2},discardPile:[],logs:[],turnIndex:0,roundCount:1,burntCard:null,thiefActive:null,pendingAction:null,lastAction:null,lastRoundResult:null};await Yx(jt(zt,"artifacts",Bt,"public","data","rooms",G),te),p(G),y(G),a("lobby"),Y(!1)},Re=async()=>{if(!_||!l)return re("Room ID and Name required");Y(!0);const G=jt(zt,"artifacts",Bt,"public","data","rooms",_),te=await wv(G);if(!te.exists()){re("Room not found"),Y(!1);return}const J=te.data();if(J.status!=="lobby"){re("Game already started"),Y(!1);return}if(J.players.find(se=>se.id===s.uid))p(_);else if(J.players.length<8){const se=[...J.players,{id:s.uid,name:l,coins:0,hand:[],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1}];await $t(G,{players:se}),p(_)}else re("Room full (Max 8)");Y(!1)},De=async()=>{if(!(!d||!s)){try{const G=jt(zt,"artifacts",Bt,"public","data","rooms",d),te=await wv(G);if(te.exists()){const J=te.data();if(J.hostId===s.uid)J.status==="lobby"?await Qx(G):await ze(G,J);else if(J.status==="lobby"){const Ee=J.players.filter(Pe=>Pe.id!==s.uid);await $t(G,{players:Ee})}else await ze(G,J)}}catch(G){console.error("Error leaving room:",G)}p(""),a("menu"),S(null),ye(!1)}},ze=async(G,te)=>{const J=te.players.filter(Ee=>Ee.id!==s.uid);let se=null;J.length>0&&(se=J[0].id),await $t(G,{status:"finished",winnerId:se,players:te.players.filter(Ee=>Ee.id!==s.uid),logs:xn({id:Date.now().toString(),text:`${te.players.find(Ee=>Ee.id===s.uid)?.name} left the game. Game Over.`,type:"danger"})})},kt=async G=>{if(!E||E.hostId!==s.uid)return;const te=E.players.filter(J=>J.id!==G);await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:te})},ct=async(G,te)=>{E.hostId===s.uid&&await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{deckConfig:{guards:G,merchants:te}})},Jn=async(G=null)=>{const te=G||E,J=te.players.length;let se=te.deckConfig||{guards:6,merchants:2};J>4&&(se={guards:6,merchants:2});const Ee=[];Object.keys(mt).forEach(xe=>{let Se=mt[xe].defaultCount;xe==="GUARD"&&(Se=se.guards??6),xe==="MERCHANT"&&(Se=se.merchants??2);for(let nt=0;nt<Se;nt++)Ee.push(xe)});const Pe=tm(Ee),oe=Pe.pop(),je=te.players.map(xe=>({...xe,hand:[Pe.pop()],playedCards:[],eliminated:!1,immune:!1,readyForNext:!1})),de=Math.floor(Math.random()*je.length);je[de].hand.push(Pe.pop()),await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{status:"playing",deck:Pe,burntCard:oe,players:je,discardPile:[],turnIndex:de,thiefActive:null,lastAction:null,lastRoundResult:null,logs:xn({id:Date.now()+Math.random().toString(),text:`--- Round ${te.roundCount||E.roundCount} Started ---`,type:"neutral"})})},Ms=async()=>{const G=[...E.players],te=G.findIndex(J=>J.id===s.uid);G[te].readyForNext=!0,await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:G})},xi=async()=>{if(!E||E.hostId!==s.uid)return;const G=E.players.map(te=>({...te,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{status:"lobby",players:G,deck:[],logs:[],roundCount:1,winnerId:null,lastAction:null,lastRoundResult:null})},Vs=async()=>{if(!E||E.hostId!==s.uid)return;const G=E.players.map(je=>({...je,hand:[],playedCards:[],coins:0,eliminated:!1,immune:!1,readyForNext:!1}));let te=E.deckConfig||{guards:6,merchants:2};G.length>4&&(te={guards:6,merchants:2});const J=[];Object.keys(mt).forEach(je=>{let de=mt[je].defaultCount;je==="GUARD"&&(de=te.guards??6),je==="MERCHANT"&&(de=te.merchants??2);for(let xe=0;xe<de;xe++)J.push(je)});const se=tm(J),Ee=se.pop(),Pe=G.map(je=>({...je,hand:[se.pop()]})),oe=Math.floor(Math.random()*Pe.length);Pe[oe].hand.push(se.pop()),await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{status:"playing",deck:se,burntCard:Ee,players:Pe,discardPile:[],turnIndex:oe,thiefActive:null,lastAction:null,lastRoundResult:null,roundCount:1,winnerId:null,logs:[{id:Date.now().toString(),text:"--- NEW GAME STARTED ---",type:"neutral"}]})},jn=async(G,te=[],J=null)=>{let se=[...G.players],Ee=[...G.deck],Pe=G.turnIndex,oe=G.thiefActive;const je=se.filter(nt=>!nt.eliminated),de=te.map(nt=>({...nt,id:nt.id||Date.now()+Math.random().toString()}));let xe={players:se,deck:Ee};if(J&&(xe.lastAction=J),je.length===1){const nt=je[0];nt.coins+=1,de.push({id:Date.now()+Math.random().toString(),text:` Round Over! ${nt.name} survives alone (+1 Coin).`,type:"success"});const Be={id:Date.now(),winnerName:nt.name,round:G.roundCount||E.roundCount};if(nt.coins>=10){await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{...xe,status:"finished",winnerId:nt.id,logs:xn(...de)});return}xe.lastRoundResult=Be,await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{...xe,roundCount:Jd(1),logs:xn(...de)}),setTimeout(()=>Jn({...G,players:se,roundCount:(G.roundCount||E.roundCount)+1}),3500);return}if(Ee.length===0&&se[Pe].hand.length===1){let nt=-1,Be=[];je.forEach($e=>{const zn=mt[$e.hand[0]].val;zn>nt?(nt=zn,Be=[$e]):zn===nt&&Be.push($e)}),Be.forEach($e=>{const zn=se.findIndex(wn=>wn.id===$e.id);se[zn].coins+=1});const xt=Be.map($e=>$e.name).join(", ");de.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${xt} (Card Value: ${nt}).`,type:"success"});const _n={id:Date.now(),winnerName:xt,round:G.roundCount||E.roundCount};if(se.some($e=>$e.coins>=10)){await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{...xe,status:"finished",winnerId:se.find($e=>$e.coins>=10).id,logs:xn(...de)});return}xe.lastRoundResult=_n,await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{...xe,roundCount:Jd(1),logs:xn(...de)}),setTimeout(()=>Jn({...G,players:se,roundCount:(G.roundCount||E.roundCount)+1}),3500);return}let Se=(Pe+1)%se.length;for(;se[Se].eliminated;)Se=(Se+1)%se.length;if(oe&&oe.playerId===se[Se].id&&(se[Se].id===s.uid&&H("success","+1 COIN","Survived as Thief",$c),se[Se].coins+=1,de.push({id:Date.now()+Math.random().toString(),text:` ${se[Se].name} survived the round as Thief (+1 Coin)!`,type:"success"}),oe=null,se[Se].coins>=10)){de.push({id:Date.now()+Math.random().toString(),text:` ${se[Se].name} collected 10 coins via Thief and WINS THE GAME!`,type:"success"}),await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:se,status:"finished",winnerId:se[Se].id,logs:xn(...de)});return}se[Se].immune=!1,Ee.length>0&&se[Se].hand.push(Ee.pop()),xe={...xe,deck:Ee,turnIndex:Se,thiefActive:oe,players:se,logs:xn(...de)},await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),xe)},Or=G=>{if(Le){if(G===s.uid){ne("Targeting Error","You cannot target yourself!","error");return}if(Le==="GUARD"){N(G),R(null);return}mi(Le,G)}},mi=async(G,te=null,J=null)=>{if(!s||E.players[E.turnIndex].id!==s.uid)return;const se=["GUARD","SPY","SWORDSMAN","CANNONEER","SAILOR"],Ee=G==="GUARD",Pe=J||w;if(se.includes(G)&&!te){I(G);return}if(Ee&&!Pe){I(G);return}const oe=JSON.parse(JSON.stringify(E.players)),je=oe.findIndex(he=>he.id===s.uid),de=oe[je];let xe=[...E.deck],Se=[],nt=E.thiefActive,Be=null;const xt=de.hand,_n=xt.includes("CAPTAIN"),$e=xt.includes("CANNONEER")||xt.includes("SAILOR");if(_n&&$e&&G!=="CAPTAIN"){ne("Captain's Orders","You MUST play the Captain if you hold a Cannoneer or Sailor!","error");return}const zn=de.hand.indexOf(G);if(zn===-1)return;de.hand.splice(zn,1),de.playedCards||(de.playedCards=[]),de.playedCards.push(G);const wn=(he,be)=>{const pe=oe.findIndex(ot=>ot.id===he);oe[pe].eliminated=!0,oe[pe].hand.length>0&&(oe[pe].playedCards||(oe[pe].playedCards=[]),oe[pe].playedCards.push(oe[pe].hand[0])),oe[pe].hand=[],Se.push({text:` ${oe[pe].name} was eliminated! (${be})`,type:"danger"}),nt&&nt.playerId===he&&(nt=null)},Vr=async()=>{let he=-1,be=[];oe.filter(en=>!en.eliminated).forEach(en=>{const Ii=mt[en.hand[0]].val;Ii>he?(he=Ii,be=[en]):Ii===he&&be.push(en)}),be.forEach(en=>{const Ii=oe.findIndex(Wn=>Wn.id===en.id);oe[Ii].coins+=1});const ot=be.map(en=>en.name).join(", ");Se.push({id:Date.now()+Math.random().toString(),text:` Deck Empty! Winners: ${ot} (Card Value: ${he}).`,type:"success"});const vn=Se.map(en=>({...en,id:Date.now()+Math.random().toString()})),Bn={id:Date.now(),winnerName:ot,round:E.roundCount};oe.some(en=>en.coins>=10)?await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:oe,deck:xe,status:"finished",winnerId:oe.find(en=>en.coins>=10).id,logs:xn(...vn),discardPile:xn(G),lastAction:Be}):(await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:oe,deck:xe,roundCount:Jd(1),logs:xn(...vn),discardPile:xn(G),lastAction:Be,lastRoundResult:Bn}),setTimeout(()=>Jn({...E,players:oe,roundCount:E.roundCount+1}),3500))};if(G==="THIEF")Se.push({text:` ${de.name} plays Thief. (Gain coin if survived until next turn)`,type:"neutral"}),nt&&Se.push({text:` Previous Thief thwarted by ${de.name}!`,type:"neutral"}),nt={playerId:s.uid,turnSet:E.turnIndex};else if(G==="GUARD"){const he=oe.find(be=>be.id===te);if(Se.push({text:` ${de.name} used Guard on ${he.name}, guessing ${mt[Pe].name}.`,type:"neutral"}),he.immune)H("failure","IMMUNE","Target Protected",bs),Se.push({text:` ${he.name} is immune to the Guard!`,type:"warning"}),Be={id:Date.now(),targetId:te,type:"GUARD",message:`${de.name} tried to Guard you, but you were Immune!`};else{const be=he.hand[0];be===Pe?(H("success","KILLED","Guard Guess Correct!",Qi),wn(te,`Guard caught a ${mt[Pe].name}`),Be={id:Date.now(),targetId:te,type:"GUARD",message:`${de.name} guessed your card was a ${mt[Pe].name}. They were CORRECT! You are out.`,cardToShow:be,compareCard:Pe,labels:["You Had","They Guessed"]}):(H("failure","MISSED","Guard Guess Wrong",bs),Se.push({text:` Guard guess wrong. ${he.name} does not have ${mt[Pe].name}.`,type:"neutral"}),Be={id:Date.now(),targetId:te,type:"GUARD",message:`${de.name} guessed your card was a ${mt[Pe].name}. They were WRONG. You are safe.`,cardToShow:be,compareCard:Pe,labels:["You Have","They Guessed"]})}}else if(G==="SPY"){const he=oe.find(be=>be.id===te);he.immune?(H("failure","IMMUNE","Target Protected",bs),Se.push({text:` ${de.name} tried to Spy, but ${he.name} is immune!`,type:"warning"}),Be={id:Date.now(),targetId:te,type:"SPY",message:`${de.name} tried to Spy on you, but you were Immune!`}):(Se.push({text:` ${de.name} plays Spy and looks at ${he.name}'s hand.`,type:"neutral"}),ne("Spy Report",`${he.name} is holding: ${mt[he.hand[0]].name}`,"spy",he.hand[0]),Be={id:Date.now(),targetId:te,type:"SPY",message:`${de.name} used a Spy to look at your hand.`})}else if(G==="SWORDSMAN"){const he=oe.find(be=>be.id===te);if(he.immune)H("failure","IMMUNE","Target Protected",bs),Se.push({text:` ${he.name} is immune to Sword Fight!`,type:"warning"}),Be={id:Date.now(),targetId:te,type:"SWORDSMAN",message:`${de.name} tried to fight you, but you were Immune!`};else{const be=oe[je].hand[0],pe=he.hand[0],ot=mt[be].val,vn=mt[pe].val;Se.push({text:` ${de.name} challenged ${he.name}.`,type:"neutral"}),ot<vn?(H("failure","DEFEAT","You Died (Lower Card)",Qi),wn(s.uid,"Lost Sword Fight (Lower Card)"),Se.push({text:`... ${de.name} was defeated!`,type:"danger"}),Be={id:Date.now(),targetId:te,type:"SWORDSMAN",message:`${de.name} challenged you! Your ${mt[pe].name} beat their ${mt[be].name}. You Won!`,cardToShow:pe,compareCard:be,labels:["Your Hand","Attacker"]},ne("Sword Fight Result",`You challenged ${he.name}. Their ${mt[pe].name} beat your ${mt[be].name}. You Died.`,"sword",pe)):vn<ot?(H("success","VICTORY","Target Died (Lower Card)",ql),wn(te,"Lost Sword Fight (Lower Card)"),Se.push({text:`... ${he.name} was defeated!`,type:"danger"}),Be={id:Date.now(),targetId:te,type:"SWORDSMAN",message:`${de.name} challenged you! Your ${mt[pe].name} lost to their ${mt[be].name}. You Died.`,cardToShow:pe,compareCard:be,labels:["Your Hand","Attacker"]},ne("Sword Fight Result",`You challenged ${he.name}. Your ${mt[be].name} beat their ${mt[pe].name}. You Won!`,"sword",pe)):(H("neutral","TIED","Both Survived",yh),Se.push({text:" Sword Fight Tie! Both survive.",type:"neutral"}),Be={id:Date.now(),targetId:te,type:"SWORDSMAN",message:`${de.name} challenged you! Tie (${mt[pe].name}). Both survive.`,cardToShow:pe,compareCard:be,labels:["Your Hand","Attacker"]},ne("Sword Fight Result",`Tie! You both have ${mt[be].name}.`,"sword",pe))}}else if(G==="COOK")oe[je].immune=!0,Se.push({text:` ${de.name} plays Cook. Immune until next turn.`,type:"success"});else if(G==="CANNONEER"){const he=oe.findIndex(pe=>pe.id===te),be=oe[he];if(be.immune)H("failure","IMMUNE","Target Protected",bs),Se.push({text:` ${be.name} is immune to Cannoneer!`,type:"warning"}),Be={id:Date.now(),targetId:te,type:"CANNONEER",message:`${de.name} tried to Cannon you, but you were Immune!`};else if(be.hand[0]==="PIRATE")H("success","KILLED","Pirate Eliminated!",Qi),Se.push({text:` ${de.name} fires Cannon at ${be.name}... It's a Pirate! Target eliminated.`,type:"success"}),wn(te,"Cannoneer hit a Pirate"),Be={id:Date.now(),targetId:te,type:"CANNONEER",message:`${de.name} fired a Cannon at you. You had a Pirate and were eliminated!`};else if(be.hand[0]==="CAPTAIN"){H("failure","BACKFIRE","Hit Captain (You Died)",Zc),Se.push({text:` ${de.name} fires Cannon at ${be.name}... It's a Captain! ${de.name} blows themselves up!`,type:"danger"}),wn(s.uid,"Cannoneer hit a Captain");const pe=be.hand.pop();oe[he].playedCards||(oe[he].playedCards=[]),oe[he].playedCards.push(pe);let ot;if(xe.length>0?ot=xe.pop():(ot=E.burntCard,Se.push({text:"Deck empty! Recycled Burnt Card for Captain holder.",type:"warning"})),oe[he].hand.push(ot),Be={id:Date.now(),targetId:te,type:"CANNONEER",message:`${de.name} fired a Cannon at you. Your Captain Reflected the attack! They died. You drew a new card.`,cardToShow:pe,compareCard:ot,labels:["Reflected","New Card"]},xe.length===0){I(null),C(""),await Vr();return}}else{H("success","DESTROYED","Card Removed",Im);const pe=be.hand.pop();oe[he].playedCards||(oe[he].playedCards=[]),oe[he].playedCards.push(pe);let ot;if(xe.length>0?ot=xe.pop():(ot=E.burntCard,Se.push({text:"Deck empty! Recycled Burnt Card.",type:"warning"})),oe[he].hand.push(ot),Se.push({text:` ${de.name} destroyed ${be.name}'s card!`,type:"neutral"}),Be={id:Date.now(),targetId:te,type:"CANNONEER",message:`${de.name} destroyed your card! It was added to your history. You drew a new one.`,cardToShow:pe,compareCard:ot,labels:["Destroyed","New Card"]},xe.length===0){I(null),C(""),await Vr();return}}}else if(G==="MERCHANT"){let he=[];xe.length>=2?he=[xe.pop(),xe.pop()]:xe.length===1&&(he=[xe.pop()]);const be=[...oe[je].hand,...he];oe[je].hand=[];const pe=Se.map(ot=>({...ot,id:Date.now()+Math.random().toString()}));await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{players:oe,deck:xe,thiefActive:nt||null,logs:xn(...pe),discardPile:xn(G),merchantState:{pool:be,originalDeckCount:xe.length}}),I(null),C("");return}else if(G==="SAILOR"){const he=oe.findIndex(be=>be.id===te);if(oe[he].immune)Se.push({text:` ${oe[he].name} is immune to Swap!`,type:"warning"}),Be={id:Date.now(),targetId:te,type:"SAILOR",message:`${de.name} tried to swap hands with you, but you were Immune!`};else{const be=oe[je].hand.pop(),pe=oe[he].hand.pop();oe[je].hand.push(pe),oe[he].hand.push(be),Se.push({text:` ${de.name} swapped hands with ${oe[he].name}.`,type:"neutral"}),Be={id:Date.now(),targetId:te,type:"SAILOR",message:`${de.name} swapped hands with you.`,cardToShow:be,compareCard:pe,labels:["Taken Card","Current Hand"]}}}else G==="CAPTAIN"?Se.push({text:` ${de.name} plays Captain (No Effect).`,type:"neutral"}):G==="PIRATE"&&(H("failure","SUICIDE","You Played Pirate!",Qi),wn(s.uid,"Played Pirate (Suicide)"));I(null),C(""),await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{discardPile:xn(G)}),await jn({players:oe,deck:xe,turnIndex:E.turnIndex,thiefActive:nt||null,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},Se,Be)},Mr=async G=>{const te=E.merchantState.pool,J=te.filter((oe,je)=>je!==te.indexOf(G));let se=[...E.deck,...J];se=tm(se);const Ee=[...E.players],Pe=Ee.findIndex(oe=>oe.id===s.uid);Ee[Pe].hand=[G],await $t(jt(zt,"artifacts",Bt,"public","data","rooms",d),{merchantState:null}),await jn({players:Ee,deck:se,turnIndex:E.turnIndex,thiefActive:E.thiefActive,burntCard:E.burntCard,deckConfig:E.deckConfig,roundCount:E.roundCount},[{text:` ${E.players.find(oe=>oe.id===s.uid).name} used Merchant to draw cards and kept one.`,type:"neutral"}])};E?.players.filter(G=>!G.eliminated&&G.id!==s?.uid);const rn=E?.players.find(G=>G.id===s?.uid),bt=E?.players[E?.turnIndex]?.id===s?.uid,At=E?.players.filter(G=>G.id!==E.hostId).every(G=>G.readyForNext);if(!s)return A.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(nm,{}),W&&A.jsx(Nv,{onClose:()=>ve(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(Om,{size:64,className:"text-red-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-red-500 to-orange-600 font-serif tracking-widest drop-shadow-md",children:"PIRATES"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Adventure on the Sea"})]}),A.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-red-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[ee&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:ee}),A.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-red-500 outline-none transition-colors",placeholder:"Pirate Name",value:l,onChange:G=>c(G.target.value)}),A.jsxs("button",{onClick:le,disabled:M,className:"w-full bg-gradient-to-r from-red-700 to-red-600 hover:from-red-600 hover:to-red-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-red-500/30 shadow-[0_0_15px_rgba(220,38,38,0.2)] transition-all",children:[A.jsx(Om,{size:20})," Create New Ship"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-red-500 outline-none",placeholder:"ROOM CODE",value:_,onChange:G=>y(G.target.value.toUpperCase())}),A.jsx("button",{onClick:Re,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),A.jsxs("button",{onClick:()=>ve(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(Cv,{size:16})," How to Play"]})]})]});if(i==="lobby"&&E){const G=E.hostId===s.uid,te=E.deckConfig?.guards??6,J=E.deckConfig?.merchants??2,se=E.players.length;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(nm,{}),Ie&&A.jsx(Iv,{onCancel:()=>ye(!1),onConfirmLeave:De,onConfirmLobby:()=>{xi(),ye(!1)},isHost:G,inGame:!1}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-red-900/50 shadow-2xl mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-red-500",children:["Cabin: ",A.jsx("span",{className:"text-white font-mono",children:d})]}),A.jsx("button",{onClick:()=>ye(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:A.jsx(Dm,{size:16})})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[A.jsx("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:A.jsxs("span",{children:["Crew (",E.players.length,"/8)"]})}),A.jsxs("div",{className:"space-y-2",children:[E.players.map(Ee=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${Ee.id===s.uid?"text-red-400":"text-gray-300"}`,children:[A.jsx(Mm,{size:14,className:Ee.id===s.uid?"text-red-400":"text-gray-500"}),Ee.name,Ee.id===E.hostId&&A.jsx(Zc,{size:14,className:"text-yellow-500"})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(Wd,{size:12})," Ready"]}),G&&Ee.id!==s.uid&&A.jsx("button",{onClick:()=>kt(Ee.id),className:"p-1 hover:bg-red-900/50 rounded text-red-400",title:"Kick Player",children:A.jsx(xI,{size:16})})]})]},Ee.id)),E.players.length<2&&A.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),G&&A.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-red-300 font-bold mb-2 uppercase text-xs tracking-wider flex items-center gap-2",children:[A.jsx(bI,{size:16})," Deck Config"]}),se>4&&A.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Disabled (5+ Players)"})]}),A.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${se>4?"opacity-50 pointer-events-none":""}`,children:[A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-blue-400",children:["Guards (",te,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ct(te-1,J),disabled:te<=4,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>ct(te+1,J),disabled:te>=6,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]}),A.jsxs("div",{className:"bg-gray-900 p-3 rounded flex justify-between items-center",children:[A.jsxs("div",{className:"text-sm font-bold text-yellow-400",children:["Merchants (",J,")"]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ct(te,J-1),disabled:J<=0,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"-"}),A.jsx("button",{onClick:()=>ct(te,J+1),disabled:J>=2,className:"w-8 h-8 bg-gray-700 rounded hover:bg-gray-600 disabled:opacity-30 text-white",children:"+"})]})]})]})]}),G?A.jsx("button",{onClick:()=>Jn(),disabled:E.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${E.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:E.players.length<2?"Awaiting Agents...":"Commence Operation"}):A.jsx("div",{className:"text-center text-red-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),A.jsx(xv,{})]})}if(i==="game"&&E){const G=E.merchantState&&bt,te=E.hostId===s.uid;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[A.jsx(nm,{}),me&&A.jsx(UI,{type:me.type,message:me.message,subtext:me.subtext,icon:me.icon}),F&&A.jsx(LI,{title:F.title,text:F.text,type:F.type,card:F.card,compareCard:F.compareCard,labels:F.labels,onClose:()=>ae(null)}),Ie&&A.jsx(Iv,{onCancel:()=>ye(!1),onConfirmLeave:De,onConfirmLobby:()=>{xi(),ye(!1)},isHost:te,inGame:!0}),W&&A.jsx(Nv,{onClose:()=>ve(!1)}),A.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-red-500 font-bold tracking-wider hidden md:block",children:"PIRATES"}),A.jsxs("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:["Room ",E.roomId]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>ve(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Guide",children:A.jsx(Cv,{size:18})}),A.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"History",children:A.jsx(mI,{size:18})}),A.jsx("button",{onClick:()=>ye(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave",children:A.jsx(Dm,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 max-w-6xl mx-auto w-full",children:[A.jsxs("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 flex flex-col gap-2 items-center text-gray-500 hidden md:flex",children:[A.jsx("div",{className:"w-16 h-24 bg-gray-900/90 border-2 border-gray-700 rounded-lg flex items-center justify-center",children:A.jsx("span",{className:"font-bold text-xl",children:E.deck.length})}),A.jsx("span",{className:"text-xs uppercase",children:"Deck"})]}),A.jsxs("div",{className:"md:hidden bg-gray-800/80 px-3 py-1 rounded-full border border-gray-700 text-xs text-gray-400 mb-2",children:["Deck:"," ",A.jsx("span",{className:"text-white font-bold",children:E.deck.length})]}),A.jsx("div",{className:"flex gap-2 md:gap-4 justify-center flex-wrap w-full",children:E.players.map((J,se)=>{if(J.id===s.uid)return null;const Ee=E.turnIndex===se,Pe=bt&&Le&&!J.eliminated,oe=J.immune,je=E.thiefActive?.playerId===J.id;return A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:`
                    relative bg-gray-900/90 p-2 md:p-3 rounded-lg md:rounded-xl border-2 w-36 md:w-48 transition-all cursor-pointer
                    ${Ee?"border-red-500 shadow-red-500/20 shadow-lg scale-105":"border-gray-700"}
                    ${J.eliminated?"opacity-50 grayscale":""}
                    ${Pe?"ring-2 md:ring-4 ring-orange-500 hover:scale-110":""}
                    ${oe?"ring-2 md:ring-4 ring-green-400/50 shadow-[0_0_15px_rgba(74,222,128,0.5)] animate-pulse":""}
                    ${je?"ring-2 md:ring-4 ring-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse":""}
                  `,onClick:()=>Pe?Or(J.id):null,children:[A.jsx("div",{className:"flex justify-between items-start mb-1 md:mb-2",children:A.jsx("span",{className:`font-bold truncate text-xs md:text-sm w-full ${Ee?"text-red-300":"text-gray-300"}`,children:J.name})}),A.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-0.5",children:[J.immune&&A.jsx(bs,{size:10,className:"text-green-400"}),je&&A.jsx(Nm,{size:10,className:"text-red-400"})]}),A.jsx("div",{className:"flex gap-0.5 md:gap-1 justify-center mb-1 md:mb-2",children:J.hand.map((de,xe)=>A.jsx("div",{className:"w-4 h-6 md:w-6 md:h-8 bg-blue-900 rounded border border-blue-500"},xe))}),A.jsxs("div",{className:"flex justify-between items-center text-[8px] md:text-xs text-gray-400 bg-gray-900/50 p-0.5 md:p-1 rounded",children:[A.jsxs("span",{className:"flex items-center gap-0.5",children:[A.jsx($c,{size:8,className:"text-yellow-400"})," ",J.coins]}),J.eliminated&&A.jsx(Qi,{size:10,className:"text-red-500"})]}),Ee&&A.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap",children:"PLAYING"}),Pe&&A.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-lg md:rounded-xl flex items-center justify-center font-bold text-[10px] md:text-sm text-orange-300 animate-pulse",children:"TARGET"}),oe&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"IMMUNE"}),je&&A.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[8px] md:text-[10px] font-bold px-1.5 md:px-2 rounded-full whitespace-nowrap z-20 shadow-lg",children:"THIEF"})]}),A.jsx("div",{className:"mt-1 md:mt-2 flex gap-0.5 justify-center flex-wrap max-w-[5rem] md:max-w-[8rem]",children:J.playedCards&&J.playedCards.map((de,xe)=>A.jsx(uo,{type:de,tiny:!0},xe))})]},J.id)})}),A.jsx("div",{className:"pointer-events-none z-0 my-2 flex flex-col items-center space-y-2 opacity-80 w-full px-4",children:E.logs.slice(-2).reverse().map((J,se)=>A.jsx("div",{className:"bg-black/60 px-3 py-1 rounded text-xs md:text-sm text-white backdrop-blur-sm text-center truncate max-w-full",children:J.text},se))}),A.jsxs("div",{className:`w-full max-w-2xl bg-gray-900/95 p-3 md:p-6 rounded-t-2xl md:rounded-t-3xl border-t border-red-900/50 backdrop-blur-md transition-colors ${rn?.eliminated?"grayscale opacity-75":""}`,children:[A.jsxs("div",{className:"flex justify-between items-start md:items-center mb-3 md:mb-4",children:[A.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-3",children:[A.jsxs("div",{className:`bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2 
                    ${rn.immune?"ring-2 ring-green-500 shadow-lg shadow-green-500/20":""}
                    ${E.thiefActive?.playerId===rn.id?"ring-2 ring-red-500 shadow-lg shadow-red-500/20":""}
                 `,children:[A.jsx(Mm,{className:"text-gray-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-lg max-w-[80px] md:max-w-none truncate text-gray-300",children:rn.name}),rn.immune&&A.jsx(bs,{className:"text-green-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"}),E.thiefActive?.playerId===rn.id&&A.jsx(Nm,{className:"text-red-400 ml-1 md:ml-2 w-3 h-3 md:w-5 md:h-5"})]}),A.jsxs("div",{className:"bg-gray-900 px-2 md:px-4 py-1.5 md:py-2 rounded-lg border border-gray-700 flex items-center gap-2",children:[A.jsx($c,{className:"text-yellow-400 w-4 h-4 md:w-5 md:h-5"}),A.jsx("span",{className:"font-bold text-sm md:text-xl text-yellow-400",children:rn.coins}),A.jsx("span",{className:"text-[10px] md:text-xs text-gray-500 uppercase font-bold self-end mb-0.5 md:mb-1",children:"/ 10"})]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-1 max-w-[160px] md:max-w-xs",children:[bt&&!rn.eliminated&&!G&&A.jsx("div",{className:"text-green-400 font-bold animate-pulse uppercase tracking-widest text-xs md:text-sm mb-1 bg-green-900/20 px-2 py-0.5 rounded border border-green-500/50",children:"PLAYING"}),A.jsxs("div",{className:"flex gap-0.5 items-center bg-gray-900/50 p-1 md:p-2 rounded-lg border border-gray-700 w-full overflow-x-auto",children:[A.jsx("span",{className:"text-[8px] md:text-[10px] text-gray-500 uppercase mr-1 hidden md:inline shrink-0",children:"History"}),rn.playedCards&&rn.playedCards.map((J,se)=>A.jsx("div",{className:"shrink-0",children:A.jsx(uo,{type:J,tiny:!0})},se))]})]})]}),rn.eliminated?A.jsxs("div",{className:"text-center py-4 md:py-8 text-red-500 font-bold text-xl md:text-2xl uppercase tracking-widest border-2 border-red-900 bg-red-900/10 rounded-xl",children:[A.jsx(Qi,{className:"inline-block mb-1 md:mb-2 w-8 h-8 md:w-12 md:h-12"}),A.jsx("br",{}),"Eliminated"]}):A.jsx(A.Fragment,{children:A.jsx("div",{className:"flex justify-center gap-2 md:gap-4 mb-2",children:G?E.merchantState.pool.map((J,se)=>A.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A.jsx(uo,{type:J,onClick:()=>Mr(J),highlight:!0}),A.jsx("span",{className:"text-xs text-green-400 font-bold",children:"Keep"})]},se)):rn.hand.map((J,se)=>{const Ee=bt,Pe=Le===J;return A.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[Pe&&A.jsx("div",{className:"absolute -top-8 md:-top-10 bg-yellow-500 text-black px-2 py-1 rounded text-[10px] md:text-xs font-bold animate-bounce z-20 whitespace-nowrap",children:"Select Target!"}),A.jsx(uo,{type:J,onClick:()=>Ee?mi(J):null,disabled:!Ee,highlight:Ee&&Pe}),Ee&&Pe&&A.jsx("div",{className:"flex flex-col gap-1 w-full animate-in fade-in slide-in-from-bottom-2",children:A.jsx("button",{onClick:()=>I(null),className:"bg-red-900/50 hover:bg-red-900 text-[8px] md:text-[10px] py-1 rounded text-red-300 w-full",children:"Cancel"})})]},se)})})})]})]}),at&&A.jsx(PI,{logs:E.logs,onClose:()=>gt(!1)}),V&&A.jsx("div",{className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 border-2 border-blue-500 rounded-xl p-4 md:p-6 w-full max-w-sm shadow-2xl animate-in fade-in zoom-in",children:[A.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white mb-4 flex items-center gap-2",children:[A.jsx(bs,{className:"text-blue-400"}),"Guess a Card"]}),A.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:Object.keys(mt).filter(J=>{if(J==="GUARD")return!1;const se=E.deckConfig?.merchants??2;return!(J==="MERCHANT"&&se===0)}).map(J=>A.jsxs("button",{onClick:()=>R(J),className:`
                        p-2 rounded text-xs md:text-sm font-bold transition-colors flex items-center gap-1 md:gap-2 justify-center md:justify-start
                        ${U===J?"bg-yellow-500 text-black ring-2 ring-yellow-300":"bg-gray-700 hover:bg-blue-600 text-white"}
                      `,children:[zb.createElement(mt[J].icon,{size:14}),mt[J].name]},J))}),A.jsx("button",{onClick:()=>{U?(mi("GUARD",V,U),N(null),R(null),I(null)):(N(null),I(null))},className:`
                  w-full py-3 rounded font-bold transition-colors
                  ${U?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/20":"bg-red-900/50 hover:bg-red-900 text-red-200"}
                `,children:U?"Confirm Play":"Cancel"})]})}),E.status==="finished"&&!F&&ut.length===0&&A.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex flex-col items-center justify-center p-4 text-center",children:[A.jsx(ql,{size:48,className:"text-yellow-400 mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Game Over!"}),A.jsxs("div",{className:"text-xl md:text-2xl text-gray-300 mb-8",children:[E.players.find(J=>J.id===E.winnerId)?.name," ","wins the treasure!"]}),E.hostId===s.uid?A.jsxs("div",{className:"flex flex-col items-center gap-3 w-full max-w-xs",children:[!At&&A.jsxs("div",{className:"text-red-400 text-xs md:text-sm animate-pulse mb-1 flex items-center gap-2 justify-center",children:[A.jsx(iT,{size:16})," Waiting for crew..."]}),A.jsxs("button",{onClick:Vs,disabled:!At,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all
                        ${At?"bg-blue-600 hover:bg-blue-500 shadow-blue-900/20 text-white":"bg-gray-700 cursor-not-allowed text-gray-400"}
                      `,children:[A.jsx(EI,{size:20})," Restart Game"]}),A.jsxs("button",{onClick:xi,disabled:!At,className:`w-full py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 border-2 transition-all
                        ${At?"border-green-600 text-green-500 hover:bg-green-600/10":"border-gray-700 text-gray-500 cursor-not-allowed"}
                      `,children:[A.jsx(nT,{size:20})," Return to Lobby"]})]}):A.jsx("button",{onClick:Ms,disabled:E.players.find(J=>J.id===s.uid)?.readyForNext,className:`w-full max-w-xs py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all ${E.players.find(J=>J.id===s.uid)?.readyForNext?"bg-gray-700 text-green-400 border border-green-500 cursor-default":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:E.players.find(J=>J.id===s.uid)?.readyForNext?A.jsxs(A.Fragment,{children:[A.jsx(Wd,{size:24})," Waiting for Host..."]}):"Ready for Next Game"})]}),A.jsx(xv,{})]})}return null}Qb.createRoot(document.getElementById("root")).render(A.jsx(rt.StrictMode,{children:A.jsx(jI,{})}));
